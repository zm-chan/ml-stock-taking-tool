function Xw(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Jw(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Zw={exports:{}},wd={},eE={exports:{}},ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vl=Symbol.for("react.element"),xP=Symbol.for("react.portal"),AP=Symbol.for("react.fragment"),kP=Symbol.for("react.strict_mode"),bP=Symbol.for("react.profiler"),DP=Symbol.for("react.provider"),NP=Symbol.for("react.context"),OP=Symbol.for("react.forward_ref"),MP=Symbol.for("react.suspense"),$P=Symbol.for("react.memo"),LP=Symbol.for("react.lazy"),my=Symbol.iterator;function VP(e){return e===null||typeof e!="object"?null:(e=my&&e[my]||e["@@iterator"],typeof e=="function"?e:null)}var tE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nE=Object.assign,rE={};function bs(e,t,n){this.props=e,this.context=t,this.refs=rE,this.updater=n||tE}bs.prototype.isReactComponent={};bs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};bs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function iE(){}iE.prototype=bs.prototype;function Fg(e,t,n){this.props=e,this.context=t,this.refs=rE,this.updater=n||tE}var Ug=Fg.prototype=new iE;Ug.constructor=Fg;nE(Ug,bs.prototype);Ug.isPureReactComponent=!0;var vy=Array.isArray,oE=Object.prototype.hasOwnProperty,jg={current:null},sE={key:!0,ref:!0,__self:!0,__source:!0};function aE(e,t,n){var r,i={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)oE.call(t,r)&&!sE.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Vl,type:e,key:o,ref:s,props:i,_owner:jg.current}}function FP(e,t){return{$$typeof:Vl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function zg(e){return typeof e=="object"&&e!==null&&e.$$typeof===Vl}function UP(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var yy=/\/+/g;function Uf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?UP(""+e.key):t.toString(36)}function Ju(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Vl:case xP:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+Uf(s,0):r,vy(i)?(n="",e!=null&&(n=e.replace(yy,"$&/")+"/"),Ju(i,t,n,"",function(u){return u})):i!=null&&(zg(i)&&(i=FP(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(yy,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",vy(e))for(var a=0;a<e.length;a++){o=e[a];var l=r+Uf(o,a);s+=Ju(o,t,n,l,i)}else if(l=VP(e),typeof l=="function")for(e=l.call(e),a=0;!(o=e.next()).done;)o=o.value,l=r+Uf(o,a++),s+=Ju(o,t,n,l,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function gu(e,t,n){if(e==null)return e;var r=[],i=0;return Ju(e,r,"","",function(o){return t.call(n,o,i++)}),r}function jP(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var qt={current:null},Zu={transition:null},zP={ReactCurrentDispatcher:qt,ReactCurrentBatchConfig:Zu,ReactCurrentOwner:jg};ye.Children={map:gu,forEach:function(e,t,n){gu(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return gu(e,function(){t++}),t},toArray:function(e){return gu(e,function(t){return t})||[]},only:function(e){if(!zg(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ye.Component=bs;ye.Fragment=AP;ye.Profiler=bP;ye.PureComponent=Fg;ye.StrictMode=kP;ye.Suspense=MP;ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zP;ye.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=nE({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=jg.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)oE.call(t,l)&&!sE.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Vl,type:e.type,key:i,ref:o,props:r,_owner:s}};ye.createContext=function(e){return e={$$typeof:NP,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:DP,_context:e},e.Consumer=e};ye.createElement=aE;ye.createFactory=function(e){var t=aE.bind(null,e);return t.type=e,t};ye.createRef=function(){return{current:null}};ye.forwardRef=function(e){return{$$typeof:OP,render:e}};ye.isValidElement=zg;ye.lazy=function(e){return{$$typeof:LP,_payload:{_status:-1,_result:e},_init:jP}};ye.memo=function(e,t){return{$$typeof:$P,type:e,compare:t===void 0?null:t}};ye.startTransition=function(e){var t=Zu.transition;Zu.transition={};try{e()}finally{Zu.transition=t}};ye.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ye.useCallback=function(e,t){return qt.current.useCallback(e,t)};ye.useContext=function(e){return qt.current.useContext(e)};ye.useDebugValue=function(){};ye.useDeferredValue=function(e){return qt.current.useDeferredValue(e)};ye.useEffect=function(e,t){return qt.current.useEffect(e,t)};ye.useId=function(){return qt.current.useId()};ye.useImperativeHandle=function(e,t,n){return qt.current.useImperativeHandle(e,t,n)};ye.useInsertionEffect=function(e,t){return qt.current.useInsertionEffect(e,t)};ye.useLayoutEffect=function(e,t){return qt.current.useLayoutEffect(e,t)};ye.useMemo=function(e,t){return qt.current.useMemo(e,t)};ye.useReducer=function(e,t,n){return qt.current.useReducer(e,t,n)};ye.useRef=function(e){return qt.current.useRef(e)};ye.useState=function(e){return qt.current.useState(e)};ye.useSyncExternalStore=function(e,t,n){return qt.current.useSyncExternalStore(e,t,n)};ye.useTransition=function(){return qt.current.useTransition()};ye.version="18.2.0";eE.exports=ye;var m=eE.exports;const vn=Jw(m),lE=Xw({__proto__:null,default:vn},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BP=m,HP=Symbol.for("react.element"),WP=Symbol.for("react.fragment"),GP=Object.prototype.hasOwnProperty,qP=BP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,KP={key:!0,ref:!0,__self:!0,__source:!0};function uE(e,t,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)GP.call(t,r)&&!KP.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:HP,type:e,key:o,ref:s,props:i,_owner:qP.current}}wd.Fragment=WP;wd.jsx=uE;wd.jsxs=uE;Zw.exports=wd;var x=Zw.exports,Xh={},cE={exports:{}},gn={},dE={exports:{}},fE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,U){var q=M.length;M.push(U);e:for(;0<q;){var ee=q-1>>>1,me=M[ee];if(0<i(me,U))M[ee]=U,M[q]=me,q=ee;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var U=M[0],q=M.pop();if(q!==U){M[0]=q;e:for(var ee=0,me=M.length,wt=me>>>1;ee<wt;){var Ne=2*(ee+1)-1,Je=M[Ne],Ae=Ne+1,Q=M[Ae];if(0>i(Je,q))Ae<me&&0>i(Q,Je)?(M[ee]=Q,M[Ae]=q,ee=Ae):(M[ee]=Je,M[Ne]=q,ee=Ne);else if(Ae<me&&0>i(Q,q))M[ee]=Q,M[Ae]=q,ee=Ae;else break e}}return U}function i(M,U){var q=M.sortIndex-U.sortIndex;return q!==0?q:M.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,d=null,f=3,h=!1,y=!1,v=!1,_=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(M){for(var U=n(u);U!==null;){if(U.callback===null)r(u);else if(U.startTime<=M)r(u),U.sortIndex=U.expirationTime,t(l,U);else break;U=n(u)}}function S(M){if(v=!1,w(M),!y)if(n(l)!==null)y=!0,ce(C);else{var U=n(u);U!==null&&B(S,U.startTime-M)}}function C(M,U){y=!1,v&&(v=!1,p(I),I=-1),h=!0;var q=f;try{for(w(U),d=n(l);d!==null&&(!(d.expirationTime>U)||M&&!j());){var ee=d.callback;if(typeof ee=="function"){d.callback=null,f=d.priorityLevel;var me=ee(d.expirationTime<=U);U=e.unstable_now(),typeof me=="function"?d.callback=me:d===n(l)&&r(l),w(U)}else r(l);d=n(l)}if(d!==null)var wt=!0;else{var Ne=n(u);Ne!==null&&B(S,Ne.startTime-U),wt=!1}return wt}finally{d=null,f=q,h=!1}}var E=!1,T=null,I=-1,D=5,$=-1;function j(){return!(e.unstable_now()-$<D)}function k(){if(T!==null){var M=e.unstable_now();$=M;var U=!0;try{U=T(!0,M)}finally{U?G():(E=!1,T=null)}}else E=!1}var G;if(typeof g=="function")G=function(){g(k)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,J=W.port2;W.port1.onmessage=k,G=function(){J.postMessage(null)}}else G=function(){_(k,0)};function ce(M){T=M,E||(E=!0,G())}function B(M,U){I=_(function(){M(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){y||h||(y=!0,ce(C))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(M){switch(f){case 1:case 2:case 3:var U=3;break;default:U=f}var q=f;f=U;try{return M()}finally{f=q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,U){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var q=f;f=M;try{return U()}finally{f=q}},e.unstable_scheduleCallback=function(M,U,q){var ee=e.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?ee+q:ee):q=ee,M){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=q+me,M={id:c++,callback:U,priorityLevel:M,startTime:q,expirationTime:me,sortIndex:-1},q>ee?(M.sortIndex=q,t(u,M),n(l)===null&&M===n(u)&&(v?(p(I),I=-1):v=!0,B(S,q-ee))):(M.sortIndex=me,t(l,M),y||h||(y=!0,ce(C))),M},e.unstable_shouldYield=j,e.unstable_wrapCallback=function(M){var U=f;return function(){var q=f;f=U;try{return M.apply(this,arguments)}finally{f=q}}}})(fE);dE.exports=fE;var QP=dE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hE=m,dn=QP;function O(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var pE=new Set,Ka={};function vo(e,t){fs(e,t),fs(e+"Capture",t)}function fs(e,t){for(Ka[e]=t,e=0;e<t.length;e++)pE.add(t[e])}var Er=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jh=Object.prototype.hasOwnProperty,YP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_y={},wy={};function XP(e){return Jh.call(wy,e)?!0:Jh.call(_y,e)?!1:YP.test(e)?wy[e]=!0:(_y[e]=!0,!1)}function JP(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ZP(e,t,n,r){if(t===null||typeof t>"u"||JP(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Kt(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var kt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){kt[e]=new Kt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];kt[t]=new Kt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){kt[e]=new Kt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){kt[e]=new Kt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){kt[e]=new Kt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){kt[e]=new Kt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){kt[e]=new Kt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){kt[e]=new Kt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){kt[e]=new Kt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Bg=/[\-:]([a-z])/g;function Hg(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Bg,Hg);kt[t]=new Kt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Bg,Hg);kt[t]=new Kt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Bg,Hg);kt[t]=new Kt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){kt[e]=new Kt(e,1,!1,e.toLowerCase(),null,!1,!1)});kt.xlinkHref=new Kt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){kt[e]=new Kt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Wg(e,t,n,r){var i=kt.hasOwnProperty(t)?kt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(ZP(t,n,i,r)&&(n=null),r||i===null?XP(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Dr=hE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,mu=Symbol.for("react.element"),Lo=Symbol.for("react.portal"),Vo=Symbol.for("react.fragment"),Gg=Symbol.for("react.strict_mode"),Zh=Symbol.for("react.profiler"),gE=Symbol.for("react.provider"),mE=Symbol.for("react.context"),qg=Symbol.for("react.forward_ref"),ep=Symbol.for("react.suspense"),tp=Symbol.for("react.suspense_list"),Kg=Symbol.for("react.memo"),qr=Symbol.for("react.lazy"),vE=Symbol.for("react.offscreen"),Ey=Symbol.iterator;function Js(e){return e===null||typeof e!="object"?null:(e=Ey&&e[Ey]||e["@@iterator"],typeof e=="function"?e:null)}var He=Object.assign,jf;function wa(e){if(jf===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);jf=t&&t[1]||""}return`
`+jf+e}var zf=!1;function Bf(e,t){if(!e||zf)return"";zf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=a);break}}}finally{zf=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?wa(e):""}function ex(e){switch(e.tag){case 5:return wa(e.type);case 16:return wa("Lazy");case 13:return wa("Suspense");case 19:return wa("SuspenseList");case 0:case 2:case 15:return e=Bf(e.type,!1),e;case 11:return e=Bf(e.type.render,!1),e;case 1:return e=Bf(e.type,!0),e;default:return""}}function np(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Vo:return"Fragment";case Lo:return"Portal";case Zh:return"Profiler";case Gg:return"StrictMode";case ep:return"Suspense";case tp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case mE:return(e.displayName||"Context")+".Consumer";case gE:return(e._context.displayName||"Context")+".Provider";case qg:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Kg:return t=e.displayName||null,t!==null?t:np(e.type)||"Memo";case qr:t=e._payload,e=e._init;try{return np(e(t))}catch{}}return null}function tx(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return np(t);case 8:return t===Gg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function mi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function yE(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function nx(e){var t=yE(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function vu(e){e._valueTracker||(e._valueTracker=nx(e))}function _E(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=yE(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Sc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function rp(e,t){var n=t.checked;return He({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Sy(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=mi(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function wE(e,t){t=t.checked,t!=null&&Wg(e,"checked",t,!1)}function ip(e,t){wE(e,t);var n=mi(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?op(e,t.type,n):t.hasOwnProperty("defaultValue")&&op(e,t.type,mi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Cy(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function op(e,t,n){(t!=="number"||Sc(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ea=Array.isArray;function Zo(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+mi(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function sp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(O(91));return He({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ty(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(O(92));if(Ea(n)){if(1<n.length)throw Error(O(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:mi(n)}}function EE(e,t){var n=mi(t.value),r=mi(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Ry(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function SE(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ap(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?SE(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var yu,CE=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(yu=yu||document.createElement("div"),yu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=yu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Qa(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ka={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rx=["Webkit","ms","Moz","O"];Object.keys(ka).forEach(function(e){rx.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ka[t]=ka[e]})});function TE(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ka.hasOwnProperty(e)&&ka[e]?(""+t).trim():t+"px"}function RE(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=TE(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var ix=He({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function lp(e,t){if(t){if(ix[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(O(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(O(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(O(61))}if(t.style!=null&&typeof t.style!="object")throw Error(O(62))}}function up(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cp=null;function Qg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var dp=null,es=null,ts=null;function Iy(e){if(e=jl(e)){if(typeof dp!="function")throw Error(O(280));var t=e.stateNode;t&&(t=Rd(t),dp(e.stateNode,e.type,t))}}function IE(e){es?ts?ts.push(e):ts=[e]:es=e}function PE(){if(es){var e=es,t=ts;if(ts=es=null,Iy(e),t)for(e=0;e<t.length;e++)Iy(t[e])}}function xE(e,t){return e(t)}function AE(){}var Hf=!1;function kE(e,t,n){if(Hf)return e(t,n);Hf=!0;try{return xE(e,t,n)}finally{Hf=!1,(es!==null||ts!==null)&&(AE(),PE())}}function Ya(e,t){var n=e.stateNode;if(n===null)return null;var r=Rd(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(O(231,t,typeof n));return n}var fp=!1;if(Er)try{var Zs={};Object.defineProperty(Zs,"passive",{get:function(){fp=!0}}),window.addEventListener("test",Zs,Zs),window.removeEventListener("test",Zs,Zs)}catch{fp=!1}function ox(e,t,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var ba=!1,Cc=null,Tc=!1,hp=null,sx={onError:function(e){ba=!0,Cc=e}};function ax(e,t,n,r,i,o,s,a,l){ba=!1,Cc=null,ox.apply(sx,arguments)}function lx(e,t,n,r,i,o,s,a,l){if(ax.apply(this,arguments),ba){if(ba){var u=Cc;ba=!1,Cc=null}else throw Error(O(198));Tc||(Tc=!0,hp=u)}}function yo(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function bE(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Py(e){if(yo(e)!==e)throw Error(O(188))}function ux(e){var t=e.alternate;if(!t){if(t=yo(e),t===null)throw Error(O(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Py(i),e;if(o===r)return Py(i),t;o=o.sibling}throw Error(O(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(O(189))}}if(n.alternate!==r)throw Error(O(190))}if(n.tag!==3)throw Error(O(188));return n.stateNode.current===n?e:t}function DE(e){return e=ux(e),e!==null?NE(e):null}function NE(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=NE(e);if(t!==null)return t;e=e.sibling}return null}var OE=dn.unstable_scheduleCallback,xy=dn.unstable_cancelCallback,cx=dn.unstable_shouldYield,dx=dn.unstable_requestPaint,et=dn.unstable_now,fx=dn.unstable_getCurrentPriorityLevel,Yg=dn.unstable_ImmediatePriority,ME=dn.unstable_UserBlockingPriority,Rc=dn.unstable_NormalPriority,hx=dn.unstable_LowPriority,$E=dn.unstable_IdlePriority,Ed=null,Yn=null;function px(e){if(Yn&&typeof Yn.onCommitFiberRoot=="function")try{Yn.onCommitFiberRoot(Ed,e,void 0,(e.current.flags&128)===128)}catch{}}var Mn=Math.clz32?Math.clz32:vx,gx=Math.log,mx=Math.LN2;function vx(e){return e>>>=0,e===0?32:31-(gx(e)/mx|0)|0}var _u=64,wu=4194304;function Sa(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ic(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Sa(a):(o&=s,o!==0&&(r=Sa(o)))}else s=n&~i,s!==0?r=Sa(s):o!==0&&(r=Sa(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Mn(t),i=1<<n,r|=e[n],t&=~i;return r}function yx(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _x(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-Mn(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=yx(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}function pp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function LE(){var e=_u;return _u<<=1,!(_u&4194240)&&(_u=64),e}function Wf(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Fl(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Mn(t),e[t]=n}function wx(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Mn(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function Xg(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Mn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Pe=0;function VE(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var FE,Jg,UE,jE,zE,gp=!1,Eu=[],oi=null,si=null,ai=null,Xa=new Map,Ja=new Map,Qr=[],Ex="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ay(e,t){switch(e){case"focusin":case"focusout":oi=null;break;case"dragenter":case"dragleave":si=null;break;case"mouseover":case"mouseout":ai=null;break;case"pointerover":case"pointerout":Xa.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ja.delete(t.pointerId)}}function ea(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=jl(t),t!==null&&Jg(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Sx(e,t,n,r,i){switch(t){case"focusin":return oi=ea(oi,e,t,n,r,i),!0;case"dragenter":return si=ea(si,e,t,n,r,i),!0;case"mouseover":return ai=ea(ai,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Xa.set(o,ea(Xa.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Ja.set(o,ea(Ja.get(o)||null,e,t,n,r,i)),!0}return!1}function BE(e){var t=Ui(e.target);if(t!==null){var n=yo(t);if(n!==null){if(t=n.tag,t===13){if(t=bE(n),t!==null){e.blockedOn=t,zE(e.priority,function(){UE(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ec(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=mp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);cp=r,n.target.dispatchEvent(r),cp=null}else return t=jl(n),t!==null&&Jg(t),e.blockedOn=n,!1;t.shift()}return!0}function ky(e,t,n){ec(e)&&n.delete(t)}function Cx(){gp=!1,oi!==null&&ec(oi)&&(oi=null),si!==null&&ec(si)&&(si=null),ai!==null&&ec(ai)&&(ai=null),Xa.forEach(ky),Ja.forEach(ky)}function ta(e,t){e.blockedOn===t&&(e.blockedOn=null,gp||(gp=!0,dn.unstable_scheduleCallback(dn.unstable_NormalPriority,Cx)))}function Za(e){function t(i){return ta(i,e)}if(0<Eu.length){ta(Eu[0],e);for(var n=1;n<Eu.length;n++){var r=Eu[n];r.blockedOn===e&&(r.blockedOn=null)}}for(oi!==null&&ta(oi,e),si!==null&&ta(si,e),ai!==null&&ta(ai,e),Xa.forEach(t),Ja.forEach(t),n=0;n<Qr.length;n++)r=Qr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Qr.length&&(n=Qr[0],n.blockedOn===null);)BE(n),n.blockedOn===null&&Qr.shift()}var ns=Dr.ReactCurrentBatchConfig,Pc=!0;function Tx(e,t,n,r){var i=Pe,o=ns.transition;ns.transition=null;try{Pe=1,Zg(e,t,n,r)}finally{Pe=i,ns.transition=o}}function Rx(e,t,n,r){var i=Pe,o=ns.transition;ns.transition=null;try{Pe=4,Zg(e,t,n,r)}finally{Pe=i,ns.transition=o}}function Zg(e,t,n,r){if(Pc){var i=mp(e,t,n,r);if(i===null)th(e,t,r,xc,n),Ay(e,r);else if(Sx(i,e,t,n,r))r.stopPropagation();else if(Ay(e,r),t&4&&-1<Ex.indexOf(e)){for(;i!==null;){var o=jl(i);if(o!==null&&FE(o),o=mp(e,t,n,r),o===null&&th(e,t,r,xc,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else th(e,t,r,null,n)}}var xc=null;function mp(e,t,n,r){if(xc=null,e=Qg(r),e=Ui(e),e!==null)if(t=yo(e),t===null)e=null;else if(n=t.tag,n===13){if(e=bE(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return xc=e,null}function HE(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fx()){case Yg:return 1;case ME:return 4;case Rc:case hx:return 16;case $E:return 536870912;default:return 16}default:return 16}}var ti=null,em=null,tc=null;function WE(){if(tc)return tc;var e,t=em,n=t.length,r,i="value"in ti?ti.value:ti.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[o-r];r++);return tc=i.slice(e,1<r?1-r:void 0)}function nc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Su(){return!0}function by(){return!1}function mn(e){function t(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Su:by,this.isPropagationStopped=by,this}return He(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Su)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Su)},persist:function(){},isPersistent:Su}),t}var Ds={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tm=mn(Ds),Ul=He({},Ds,{view:0,detail:0}),Ix=mn(Ul),Gf,qf,na,Sd=He({},Ul,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nm,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==na&&(na&&e.type==="mousemove"?(Gf=e.screenX-na.screenX,qf=e.screenY-na.screenY):qf=Gf=0,na=e),Gf)},movementY:function(e){return"movementY"in e?e.movementY:qf}}),Dy=mn(Sd),Px=He({},Sd,{dataTransfer:0}),xx=mn(Px),Ax=He({},Ul,{relatedTarget:0}),Kf=mn(Ax),kx=He({},Ds,{animationName:0,elapsedTime:0,pseudoElement:0}),bx=mn(kx),Dx=He({},Ds,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Nx=mn(Dx),Ox=He({},Ds,{data:0}),Ny=mn(Ox),Mx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$x={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vx(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Lx[e])?!!t[e]:!1}function nm(){return Vx}var Fx=He({},Ul,{key:function(e){if(e.key){var t=Mx[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=nc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?$x[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nm,charCode:function(e){return e.type==="keypress"?nc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?nc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ux=mn(Fx),jx=He({},Sd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oy=mn(jx),zx=He({},Ul,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nm}),Bx=mn(zx),Hx=He({},Ds,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wx=mn(Hx),Gx=He({},Sd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),qx=mn(Gx),Kx=[9,13,27,32],rm=Er&&"CompositionEvent"in window,Da=null;Er&&"documentMode"in document&&(Da=document.documentMode);var Qx=Er&&"TextEvent"in window&&!Da,GE=Er&&(!rm||Da&&8<Da&&11>=Da),My=" ",$y=!1;function qE(e,t){switch(e){case"keyup":return Kx.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function KE(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Fo=!1;function Yx(e,t){switch(e){case"compositionend":return KE(t);case"keypress":return t.which!==32?null:($y=!0,My);case"textInput":return e=t.data,e===My&&$y?null:e;default:return null}}function Xx(e,t){if(Fo)return e==="compositionend"||!rm&&qE(e,t)?(e=WE(),tc=em=ti=null,Fo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return GE&&t.locale!=="ko"?null:t.data;default:return null}}var Jx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ly(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Jx[e.type]:t==="textarea"}function QE(e,t,n,r){IE(r),t=Ac(t,"onChange"),0<t.length&&(n=new tm("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Na=null,el=null;function Zx(e){sS(e,0)}function Cd(e){var t=zo(e);if(_E(t))return e}function eA(e,t){if(e==="change")return t}var YE=!1;if(Er){var Qf;if(Er){var Yf="oninput"in document;if(!Yf){var Vy=document.createElement("div");Vy.setAttribute("oninput","return;"),Yf=typeof Vy.oninput=="function"}Qf=Yf}else Qf=!1;YE=Qf&&(!document.documentMode||9<document.documentMode)}function Fy(){Na&&(Na.detachEvent("onpropertychange",XE),el=Na=null)}function XE(e){if(e.propertyName==="value"&&Cd(el)){var t=[];QE(t,el,e,Qg(e)),kE(Zx,t)}}function tA(e,t,n){e==="focusin"?(Fy(),Na=t,el=n,Na.attachEvent("onpropertychange",XE)):e==="focusout"&&Fy()}function nA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Cd(el)}function rA(e,t){if(e==="click")return Cd(t)}function iA(e,t){if(e==="input"||e==="change")return Cd(t)}function oA(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Vn=typeof Object.is=="function"?Object.is:oA;function tl(e,t){if(Vn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Jh.call(t,i)||!Vn(e[i],t[i]))return!1}return!0}function Uy(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function jy(e,t){var n=Uy(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Uy(n)}}function JE(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?JE(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ZE(){for(var e=window,t=Sc();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Sc(e.document)}return t}function im(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function sA(e){var t=ZE(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&JE(n.ownerDocument.documentElement,n)){if(r!==null&&im(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=jy(n,o);var s=jy(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var aA=Er&&"documentMode"in document&&11>=document.documentMode,Uo=null,vp=null,Oa=null,yp=!1;function zy(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;yp||Uo==null||Uo!==Sc(r)||(r=Uo,"selectionStart"in r&&im(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Oa&&tl(Oa,r)||(Oa=r,r=Ac(vp,"onSelect"),0<r.length&&(t=new tm("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Uo)))}function Cu(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var jo={animationend:Cu("Animation","AnimationEnd"),animationiteration:Cu("Animation","AnimationIteration"),animationstart:Cu("Animation","AnimationStart"),transitionend:Cu("Transition","TransitionEnd")},Xf={},eS={};Er&&(eS=document.createElement("div").style,"AnimationEvent"in window||(delete jo.animationend.animation,delete jo.animationiteration.animation,delete jo.animationstart.animation),"TransitionEvent"in window||delete jo.transitionend.transition);function Td(e){if(Xf[e])return Xf[e];if(!jo[e])return e;var t=jo[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in eS)return Xf[e]=t[n];return e}var tS=Td("animationend"),nS=Td("animationiteration"),rS=Td("animationstart"),iS=Td("transitionend"),oS=new Map,By="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ri(e,t){oS.set(e,t),vo(t,[e])}for(var Jf=0;Jf<By.length;Jf++){var Zf=By[Jf],lA=Zf.toLowerCase(),uA=Zf[0].toUpperCase()+Zf.slice(1);Ri(lA,"on"+uA)}Ri(tS,"onAnimationEnd");Ri(nS,"onAnimationIteration");Ri(rS,"onAnimationStart");Ri("dblclick","onDoubleClick");Ri("focusin","onFocus");Ri("focusout","onBlur");Ri(iS,"onTransitionEnd");fs("onMouseEnter",["mouseout","mouseover"]);fs("onMouseLeave",["mouseout","mouseover"]);fs("onPointerEnter",["pointerout","pointerover"]);fs("onPointerLeave",["pointerout","pointerover"]);vo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vo("onBeforeInput",["compositionend","keypress","textInput","paste"]);vo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ca="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cA=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ca));function Hy(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,lx(r,t,void 0,e),e.currentTarget=null}function sS(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Hy(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Hy(i,a,u),o=l}}}if(Tc)throw e=hp,Tc=!1,hp=null,e}function Ve(e,t){var n=t[Cp];n===void 0&&(n=t[Cp]=new Set);var r=e+"__bubble";n.has(r)||(aS(t,e,2,!1),n.add(r))}function eh(e,t,n){var r=0;t&&(r|=4),aS(n,e,r,t)}var Tu="_reactListening"+Math.random().toString(36).slice(2);function nl(e){if(!e[Tu]){e[Tu]=!0,pE.forEach(function(n){n!=="selectionchange"&&(cA.has(n)||eh(n,!1,e),eh(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Tu]||(t[Tu]=!0,eh("selectionchange",!1,t))}}function aS(e,t,n,r){switch(HE(t)){case 1:var i=Tx;break;case 4:i=Rx;break;default:i=Zg}n=i.bind(null,t,n,e),i=void 0,!fp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function th(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Ui(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}kE(function(){var u=o,c=Qg(n),d=[];e:{var f=oS.get(e);if(f!==void 0){var h=tm,y=e;switch(e){case"keypress":if(nc(n)===0)break e;case"keydown":case"keyup":h=Ux;break;case"focusin":y="focus",h=Kf;break;case"focusout":y="blur",h=Kf;break;case"beforeblur":case"afterblur":h=Kf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Dy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=xx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=Bx;break;case tS:case nS:case rS:h=bx;break;case iS:h=Wx;break;case"scroll":h=Ix;break;case"wheel":h=qx;break;case"copy":case"cut":case"paste":h=Nx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Oy}var v=(t&4)!==0,_=!v&&e==="scroll",p=v?f!==null?f+"Capture":null:f;v=[];for(var g=u,w;g!==null;){w=g;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,p!==null&&(S=Ya(g,p),S!=null&&v.push(rl(g,S,w)))),_)break;g=g.return}0<v.length&&(f=new h(f,y,null,n,c),d.push({event:f,listeners:v}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",f&&n!==cp&&(y=n.relatedTarget||n.fromElement)&&(Ui(y)||y[Sr]))break e;if((h||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,h?(y=n.relatedTarget||n.toElement,h=u,y=y?Ui(y):null,y!==null&&(_=yo(y),y!==_||y.tag!==5&&y.tag!==6)&&(y=null)):(h=null,y=u),h!==y)){if(v=Dy,S="onMouseLeave",p="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(v=Oy,S="onPointerLeave",p="onPointerEnter",g="pointer"),_=h==null?f:zo(h),w=y==null?f:zo(y),f=new v(S,g+"leave",h,n,c),f.target=_,f.relatedTarget=w,S=null,Ui(c)===u&&(v=new v(p,g+"enter",y,n,c),v.target=w,v.relatedTarget=_,S=v),_=S,h&&y)t:{for(v=h,p=y,g=0,w=v;w;w=xo(w))g++;for(w=0,S=p;S;S=xo(S))w++;for(;0<g-w;)v=xo(v),g--;for(;0<w-g;)p=xo(p),w--;for(;g--;){if(v===p||p!==null&&v===p.alternate)break t;v=xo(v),p=xo(p)}v=null}else v=null;h!==null&&Wy(d,f,h,v,!1),y!==null&&_!==null&&Wy(d,_,y,v,!0)}}e:{if(f=u?zo(u):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var C=eA;else if(Ly(f))if(YE)C=iA;else{C=nA;var E=tA}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(C=rA);if(C&&(C=C(e,u))){QE(d,C,n,c);break e}E&&E(e,f,u),e==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&op(f,"number",f.value)}switch(E=u?zo(u):window,e){case"focusin":(Ly(E)||E.contentEditable==="true")&&(Uo=E,vp=u,Oa=null);break;case"focusout":Oa=vp=Uo=null;break;case"mousedown":yp=!0;break;case"contextmenu":case"mouseup":case"dragend":yp=!1,zy(d,n,c);break;case"selectionchange":if(aA)break;case"keydown":case"keyup":zy(d,n,c)}var T;if(rm)e:{switch(e){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else Fo?qE(e,n)&&(I="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(GE&&n.locale!=="ko"&&(Fo||I!=="onCompositionStart"?I==="onCompositionEnd"&&Fo&&(T=WE()):(ti=c,em="value"in ti?ti.value:ti.textContent,Fo=!0)),E=Ac(u,I),0<E.length&&(I=new Ny(I,e,null,n,c),d.push({event:I,listeners:E}),T?I.data=T:(T=KE(n),T!==null&&(I.data=T)))),(T=Qx?Yx(e,n):Xx(e,n))&&(u=Ac(u,"onBeforeInput"),0<u.length&&(c=new Ny("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=T))}sS(d,t)})}function rl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ac(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Ya(e,n),o!=null&&r.unshift(rl(e,o,i)),o=Ya(e,t),o!=null&&r.push(rl(e,o,i))),e=e.return}return r}function xo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Wy(e,t,n,r,i){for(var o=t._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Ya(n,o),l!=null&&s.unshift(rl(n,l,a))):i||(l=Ya(n,o),l!=null&&s.push(rl(n,l,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var dA=/\r\n?/g,fA=/\u0000|\uFFFD/g;function Gy(e){return(typeof e=="string"?e:""+e).replace(dA,`
`).replace(fA,"")}function Ru(e,t,n){if(t=Gy(t),Gy(e)!==t&&n)throw Error(O(425))}function kc(){}var _p=null,wp=null;function Ep(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Sp=typeof setTimeout=="function"?setTimeout:void 0,hA=typeof clearTimeout=="function"?clearTimeout:void 0,qy=typeof Promise=="function"?Promise:void 0,pA=typeof queueMicrotask=="function"?queueMicrotask:typeof qy<"u"?function(e){return qy.resolve(null).then(e).catch(gA)}:Sp;function gA(e){setTimeout(function(){throw e})}function nh(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Za(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Za(t)}function li(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ky(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ns=Math.random().toString(36).slice(2),Wn="__reactFiber$"+Ns,il="__reactProps$"+Ns,Sr="__reactContainer$"+Ns,Cp="__reactEvents$"+Ns,mA="__reactListeners$"+Ns,vA="__reactHandles$"+Ns;function Ui(e){var t=e[Wn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Sr]||n[Wn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Ky(e);e!==null;){if(n=e[Wn])return n;e=Ky(e)}return t}e=n,n=e.parentNode}return null}function jl(e){return e=e[Wn]||e[Sr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function zo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(O(33))}function Rd(e){return e[il]||null}var Tp=[],Bo=-1;function Ii(e){return{current:e}}function Ue(e){0>Bo||(e.current=Tp[Bo],Tp[Bo]=null,Bo--)}function Me(e,t){Bo++,Tp[Bo]=e.current,e.current=t}var vi={},jt=Ii(vi),Jt=Ii(!1),eo=vi;function hs(e,t){var n=e.type.contextTypes;if(!n)return vi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Zt(e){return e=e.childContextTypes,e!=null}function bc(){Ue(Jt),Ue(jt)}function Qy(e,t,n){if(jt.current!==vi)throw Error(O(168));Me(jt,t),Me(Jt,n)}function lS(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(O(108,tx(e)||"Unknown",i));return He({},n,r)}function Dc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||vi,eo=jt.current,Me(jt,e),Me(Jt,Jt.current),!0}function Yy(e,t,n){var r=e.stateNode;if(!r)throw Error(O(169));n?(e=lS(e,t,eo),r.__reactInternalMemoizedMergedChildContext=e,Ue(Jt),Ue(jt),Me(jt,e)):Ue(Jt),Me(Jt,n)}var dr=null,Id=!1,rh=!1;function uS(e){dr===null?dr=[e]:dr.push(e)}function yA(e){Id=!0,uS(e)}function Pi(){if(!rh&&dr!==null){rh=!0;var e=0,t=Pe;try{var n=dr;for(Pe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}dr=null,Id=!1}catch(i){throw dr!==null&&(dr=dr.slice(e+1)),OE(Yg,Pi),i}finally{Pe=t,rh=!1}}return null}var Ho=[],Wo=0,Nc=null,Oc=0,_n=[],wn=0,to=null,fr=1,hr="";function Mi(e,t){Ho[Wo++]=Oc,Ho[Wo++]=Nc,Nc=e,Oc=t}function cS(e,t,n){_n[wn++]=fr,_n[wn++]=hr,_n[wn++]=to,to=e;var r=fr;e=hr;var i=32-Mn(r)-1;r&=~(1<<i),n+=1;var o=32-Mn(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,fr=1<<32-Mn(t)+i|n<<i|r,hr=o+e}else fr=1<<o|n<<i|r,hr=e}function om(e){e.return!==null&&(Mi(e,1),cS(e,1,0))}function sm(e){for(;e===Nc;)Nc=Ho[--Wo],Ho[Wo]=null,Oc=Ho[--Wo],Ho[Wo]=null;for(;e===to;)to=_n[--wn],_n[wn]=null,hr=_n[--wn],_n[wn]=null,fr=_n[--wn],_n[wn]=null}var un=null,an=null,je=!1,Nn=null;function dS(e,t){var n=Cn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Xy(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,un=e,an=li(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,un=e,an=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=to!==null?{id:fr,overflow:hr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Cn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,un=e,an=null,!0):!1;default:return!1}}function Rp(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ip(e){if(je){var t=an;if(t){var n=t;if(!Xy(e,t)){if(Rp(e))throw Error(O(418));t=li(n.nextSibling);var r=un;t&&Xy(e,t)?dS(r,n):(e.flags=e.flags&-4097|2,je=!1,un=e)}}else{if(Rp(e))throw Error(O(418));e.flags=e.flags&-4097|2,je=!1,un=e}}}function Jy(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;un=e}function Iu(e){if(e!==un)return!1;if(!je)return Jy(e),je=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ep(e.type,e.memoizedProps)),t&&(t=an)){if(Rp(e))throw fS(),Error(O(418));for(;t;)dS(e,t),t=li(t.nextSibling)}if(Jy(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(O(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){an=li(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}an=null}}else an=un?li(e.stateNode.nextSibling):null;return!0}function fS(){for(var e=an;e;)e=li(e.nextSibling)}function ps(){an=un=null,je=!1}function am(e){Nn===null?Nn=[e]:Nn.push(e)}var _A=Dr.ReactCurrentBatchConfig;function kn(e,t){if(e&&e.defaultProps){t=He({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Mc=Ii(null),$c=null,Go=null,lm=null;function um(){lm=Go=$c=null}function cm(e){var t=Mc.current;Ue(Mc),e._currentValue=t}function Pp(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function rs(e,t){$c=e,lm=Go=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Xt=!0),e.firstContext=null)}function In(e){var t=e._currentValue;if(lm!==e)if(e={context:e,memoizedValue:t,next:null},Go===null){if($c===null)throw Error(O(308));Go=e,$c.dependencies={lanes:0,firstContext:e}}else Go=Go.next=e;return t}var ji=null;function dm(e){ji===null?ji=[e]:ji.push(e)}function hS(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,dm(t)):(n.next=i.next,i.next=n),t.interleaved=n,Cr(e,r)}function Cr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Kr=!1;function fm(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pS(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function vr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ui(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ce&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Cr(e,n)}return i=r.interleaved,i===null?(t.next=t,dm(r)):(t.next=i.next,i.next=t),r.interleaved=t,Cr(e,n)}function rc(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Xg(e,n)}}function Zy(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Lc(e,t,n,r){var i=e.updateQueue;Kr=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;s=0,c=u=l=null,a=o;do{var f=a.lane,h=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=e,v=a;switch(f=t,h=n,v.tag){case 1:if(y=v.payload,typeof y=="function"){d=y.call(h,d,f);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=v.payload,f=typeof y=="function"?y.call(h,d,f):y,f==null)break e;d=He({},d,f);break e;case 2:Kr=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else h={eventTime:h,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=h,l=d):c=c.next=h,s|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);ro|=s,e.lanes=s,e.memoizedState=d}}function e0(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(O(191,i));i.call(r)}}}var gS=new hE.Component().refs;function xp(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:He({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Pd={isMounted:function(e){return(e=e._reactInternals)?yo(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Gt(),i=di(e),o=vr(r,i);o.payload=t,n!=null&&(o.callback=n),t=ui(e,o,i),t!==null&&($n(t,e,i,r),rc(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Gt(),i=di(e),o=vr(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=ui(e,o,i),t!==null&&($n(t,e,i,r),rc(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Gt(),r=di(e),i=vr(n,r);i.tag=2,t!=null&&(i.callback=t),t=ui(e,i,r),t!==null&&($n(t,e,r,n),rc(t,e,r))}};function t0(e,t,n,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!tl(n,r)||!tl(i,o):!0}function mS(e,t,n){var r=!1,i=vi,o=t.contextType;return typeof o=="object"&&o!==null?o=In(o):(i=Zt(t)?eo:jt.current,r=t.contextTypes,o=(r=r!=null)?hs(e,i):vi),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Pd,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function n0(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Pd.enqueueReplaceState(t,t.state,null)}function Ap(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=gS,fm(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=In(o):(o=Zt(t)?eo:jt.current,i.context=hs(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(xp(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Pd.enqueueReplaceState(i,i.state,null),Lc(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function ra(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(O(309));var r=n.stateNode}if(!r)throw Error(O(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var a=i.refs;a===gS&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(O(284));if(!n._owner)throw Error(O(290,e))}return e}function Pu(e,t){throw e=Object.prototype.toString.call(t),Error(O(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function r0(e){var t=e._init;return t(e._payload)}function vS(e){function t(p,g){if(e){var w=p.deletions;w===null?(p.deletions=[g],p.flags|=16):w.push(g)}}function n(p,g){if(!e)return null;for(;g!==null;)t(p,g),g=g.sibling;return null}function r(p,g){for(p=new Map;g!==null;)g.key!==null?p.set(g.key,g):p.set(g.index,g),g=g.sibling;return p}function i(p,g){return p=fi(p,g),p.index=0,p.sibling=null,p}function o(p,g,w){return p.index=w,e?(w=p.alternate,w!==null?(w=w.index,w<g?(p.flags|=2,g):w):(p.flags|=2,g)):(p.flags|=1048576,g)}function s(p){return e&&p.alternate===null&&(p.flags|=2),p}function a(p,g,w,S){return g===null||g.tag!==6?(g=ch(w,p.mode,S),g.return=p,g):(g=i(g,w),g.return=p,g)}function l(p,g,w,S){var C=w.type;return C===Vo?c(p,g,w.props.children,S,w.key):g!==null&&(g.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===qr&&r0(C)===g.type)?(S=i(g,w.props),S.ref=ra(p,g,w),S.return=p,S):(S=uc(w.type,w.key,w.props,null,p.mode,S),S.ref=ra(p,g,w),S.return=p,S)}function u(p,g,w,S){return g===null||g.tag!==4||g.stateNode.containerInfo!==w.containerInfo||g.stateNode.implementation!==w.implementation?(g=dh(w,p.mode,S),g.return=p,g):(g=i(g,w.children||[]),g.return=p,g)}function c(p,g,w,S,C){return g===null||g.tag!==7?(g=Xi(w,p.mode,S,C),g.return=p,g):(g=i(g,w),g.return=p,g)}function d(p,g,w){if(typeof g=="string"&&g!==""||typeof g=="number")return g=ch(""+g,p.mode,w),g.return=p,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case mu:return w=uc(g.type,g.key,g.props,null,p.mode,w),w.ref=ra(p,null,g),w.return=p,w;case Lo:return g=dh(g,p.mode,w),g.return=p,g;case qr:var S=g._init;return d(p,S(g._payload),w)}if(Ea(g)||Js(g))return g=Xi(g,p.mode,w,null),g.return=p,g;Pu(p,g)}return null}function f(p,g,w,S){var C=g!==null?g.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return C!==null?null:a(p,g,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case mu:return w.key===C?l(p,g,w,S):null;case Lo:return w.key===C?u(p,g,w,S):null;case qr:return C=w._init,f(p,g,C(w._payload),S)}if(Ea(w)||Js(w))return C!==null?null:c(p,g,w,S,null);Pu(p,w)}return null}function h(p,g,w,S,C){if(typeof S=="string"&&S!==""||typeof S=="number")return p=p.get(w)||null,a(g,p,""+S,C);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case mu:return p=p.get(S.key===null?w:S.key)||null,l(g,p,S,C);case Lo:return p=p.get(S.key===null?w:S.key)||null,u(g,p,S,C);case qr:var E=S._init;return h(p,g,w,E(S._payload),C)}if(Ea(S)||Js(S))return p=p.get(w)||null,c(g,p,S,C,null);Pu(g,S)}return null}function y(p,g,w,S){for(var C=null,E=null,T=g,I=g=0,D=null;T!==null&&I<w.length;I++){T.index>I?(D=T,T=null):D=T.sibling;var $=f(p,T,w[I],S);if($===null){T===null&&(T=D);break}e&&T&&$.alternate===null&&t(p,T),g=o($,g,I),E===null?C=$:E.sibling=$,E=$,T=D}if(I===w.length)return n(p,T),je&&Mi(p,I),C;if(T===null){for(;I<w.length;I++)T=d(p,w[I],S),T!==null&&(g=o(T,g,I),E===null?C=T:E.sibling=T,E=T);return je&&Mi(p,I),C}for(T=r(p,T);I<w.length;I++)D=h(T,p,I,w[I],S),D!==null&&(e&&D.alternate!==null&&T.delete(D.key===null?I:D.key),g=o(D,g,I),E===null?C=D:E.sibling=D,E=D);return e&&T.forEach(function(j){return t(p,j)}),je&&Mi(p,I),C}function v(p,g,w,S){var C=Js(w);if(typeof C!="function")throw Error(O(150));if(w=C.call(w),w==null)throw Error(O(151));for(var E=C=null,T=g,I=g=0,D=null,$=w.next();T!==null&&!$.done;I++,$=w.next()){T.index>I?(D=T,T=null):D=T.sibling;var j=f(p,T,$.value,S);if(j===null){T===null&&(T=D);break}e&&T&&j.alternate===null&&t(p,T),g=o(j,g,I),E===null?C=j:E.sibling=j,E=j,T=D}if($.done)return n(p,T),je&&Mi(p,I),C;if(T===null){for(;!$.done;I++,$=w.next())$=d(p,$.value,S),$!==null&&(g=o($,g,I),E===null?C=$:E.sibling=$,E=$);return je&&Mi(p,I),C}for(T=r(p,T);!$.done;I++,$=w.next())$=h(T,p,I,$.value,S),$!==null&&(e&&$.alternate!==null&&T.delete($.key===null?I:$.key),g=o($,g,I),E===null?C=$:E.sibling=$,E=$);return e&&T.forEach(function(k){return t(p,k)}),je&&Mi(p,I),C}function _(p,g,w,S){if(typeof w=="object"&&w!==null&&w.type===Vo&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case mu:e:{for(var C=w.key,E=g;E!==null;){if(E.key===C){if(C=w.type,C===Vo){if(E.tag===7){n(p,E.sibling),g=i(E,w.props.children),g.return=p,p=g;break e}}else if(E.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===qr&&r0(C)===E.type){n(p,E.sibling),g=i(E,w.props),g.ref=ra(p,E,w),g.return=p,p=g;break e}n(p,E);break}else t(p,E);E=E.sibling}w.type===Vo?(g=Xi(w.props.children,p.mode,S,w.key),g.return=p,p=g):(S=uc(w.type,w.key,w.props,null,p.mode,S),S.ref=ra(p,g,w),S.return=p,p=S)}return s(p);case Lo:e:{for(E=w.key;g!==null;){if(g.key===E)if(g.tag===4&&g.stateNode.containerInfo===w.containerInfo&&g.stateNode.implementation===w.implementation){n(p,g.sibling),g=i(g,w.children||[]),g.return=p,p=g;break e}else{n(p,g);break}else t(p,g);g=g.sibling}g=dh(w,p.mode,S),g.return=p,p=g}return s(p);case qr:return E=w._init,_(p,g,E(w._payload),S)}if(Ea(w))return y(p,g,w,S);if(Js(w))return v(p,g,w,S);Pu(p,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,g!==null&&g.tag===6?(n(p,g.sibling),g=i(g,w),g.return=p,p=g):(n(p,g),g=ch(w,p.mode,S),g.return=p,p=g),s(p)):n(p,g)}return _}var gs=vS(!0),yS=vS(!1),zl={},Xn=Ii(zl),ol=Ii(zl),sl=Ii(zl);function zi(e){if(e===zl)throw Error(O(174));return e}function hm(e,t){switch(Me(sl,t),Me(ol,e),Me(Xn,zl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ap(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ap(t,e)}Ue(Xn),Me(Xn,t)}function ms(){Ue(Xn),Ue(ol),Ue(sl)}function _S(e){zi(sl.current);var t=zi(Xn.current),n=ap(t,e.type);t!==n&&(Me(ol,e),Me(Xn,n))}function pm(e){ol.current===e&&(Ue(Xn),Ue(ol))}var ze=Ii(0);function Vc(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ih=[];function gm(){for(var e=0;e<ih.length;e++)ih[e]._workInProgressVersionPrimary=null;ih.length=0}var ic=Dr.ReactCurrentDispatcher,oh=Dr.ReactCurrentBatchConfig,no=0,Be=null,lt=null,mt=null,Fc=!1,Ma=!1,al=0,wA=0;function Dt(){throw Error(O(321))}function mm(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Vn(e[n],t[n]))return!1;return!0}function vm(e,t,n,r,i,o){if(no=o,Be=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ic.current=e===null||e.memoizedState===null?TA:RA,e=n(r,i),Ma){o=0;do{if(Ma=!1,al=0,25<=o)throw Error(O(301));o+=1,mt=lt=null,t.updateQueue=null,ic.current=IA,e=n(r,i)}while(Ma)}if(ic.current=Uc,t=lt!==null&&lt.next!==null,no=0,mt=lt=Be=null,Fc=!1,t)throw Error(O(300));return e}function ym(){var e=al!==0;return al=0,e}function Hn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mt===null?Be.memoizedState=mt=e:mt=mt.next=e,mt}function Pn(){if(lt===null){var e=Be.alternate;e=e!==null?e.memoizedState:null}else e=lt.next;var t=mt===null?Be.memoizedState:mt.next;if(t!==null)mt=t,lt=e;else{if(e===null)throw Error(O(310));lt=e,e={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},mt===null?Be.memoizedState=mt=e:mt=mt.next=e}return mt}function ll(e,t){return typeof t=="function"?t(e):t}function sh(e){var t=Pn(),n=t.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=e;var r=lt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((no&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,s=r):l=l.next=d,Be.lanes|=c,ro|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,Vn(r,t.memoizedState)||(Xt=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,Be.lanes|=o,ro|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ah(e){var t=Pn(),n=t.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);Vn(o,t.memoizedState)||(Xt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function wS(){}function ES(e,t){var n=Be,r=Pn(),i=t(),o=!Vn(r.memoizedState,i);if(o&&(r.memoizedState=i,Xt=!0),r=r.queue,_m(TS.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||mt!==null&&mt.memoizedState.tag&1){if(n.flags|=2048,ul(9,CS.bind(null,n,r,i,t),void 0,null),vt===null)throw Error(O(349));no&30||SS(n,t,i)}return i}function SS(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Be.updateQueue,t===null?(t={lastEffect:null,stores:null},Be.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function CS(e,t,n,r){t.value=n,t.getSnapshot=r,RS(t)&&IS(e)}function TS(e,t,n){return n(function(){RS(t)&&IS(e)})}function RS(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Vn(e,n)}catch{return!0}}function IS(e){var t=Cr(e,1);t!==null&&$n(t,e,1,-1)}function i0(e){var t=Hn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ll,lastRenderedState:e},t.queue=e,e=e.dispatch=CA.bind(null,Be,e),[t.memoizedState,e]}function ul(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Be.updateQueue,t===null?(t={lastEffect:null,stores:null},Be.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function PS(){return Pn().memoizedState}function oc(e,t,n,r){var i=Hn();Be.flags|=e,i.memoizedState=ul(1|t,n,void 0,r===void 0?null:r)}function xd(e,t,n,r){var i=Pn();r=r===void 0?null:r;var o=void 0;if(lt!==null){var s=lt.memoizedState;if(o=s.destroy,r!==null&&mm(r,s.deps)){i.memoizedState=ul(t,n,o,r);return}}Be.flags|=e,i.memoizedState=ul(1|t,n,o,r)}function o0(e,t){return oc(8390656,8,e,t)}function _m(e,t){return xd(2048,8,e,t)}function xS(e,t){return xd(4,2,e,t)}function AS(e,t){return xd(4,4,e,t)}function kS(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function bS(e,t,n){return n=n!=null?n.concat([e]):null,xd(4,4,kS.bind(null,t,e),n)}function wm(){}function DS(e,t){var n=Pn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&mm(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function NS(e,t){var n=Pn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&mm(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function OS(e,t,n){return no&21?(Vn(n,t)||(n=LE(),Be.lanes|=n,ro|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Xt=!0),e.memoizedState=n)}function EA(e,t){var n=Pe;Pe=n!==0&&4>n?n:4,e(!0);var r=oh.transition;oh.transition={};try{e(!1),t()}finally{Pe=n,oh.transition=r}}function MS(){return Pn().memoizedState}function SA(e,t,n){var r=di(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},$S(e))LS(t,n);else if(n=hS(e,t,n,r),n!==null){var i=Gt();$n(n,e,r,i),VS(n,t,r)}}function CA(e,t,n){var r=di(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if($S(e))LS(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Vn(a,s)){var l=t.interleaved;l===null?(i.next=i,dm(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=hS(e,t,i,r),n!==null&&(i=Gt(),$n(n,e,r,i),VS(n,t,r))}}function $S(e){var t=e.alternate;return e===Be||t!==null&&t===Be}function LS(e,t){Ma=Fc=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function VS(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Xg(e,n)}}var Uc={readContext:In,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useInsertionEffect:Dt,useLayoutEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useMutableSource:Dt,useSyncExternalStore:Dt,useId:Dt,unstable_isNewReconciler:!1},TA={readContext:In,useCallback:function(e,t){return Hn().memoizedState=[e,t===void 0?null:t],e},useContext:In,useEffect:o0,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,oc(4194308,4,kS.bind(null,t,e),n)},useLayoutEffect:function(e,t){return oc(4194308,4,e,t)},useInsertionEffect:function(e,t){return oc(4,2,e,t)},useMemo:function(e,t){var n=Hn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Hn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=SA.bind(null,Be,e),[r.memoizedState,e]},useRef:function(e){var t=Hn();return e={current:e},t.memoizedState=e},useState:i0,useDebugValue:wm,useDeferredValue:function(e){return Hn().memoizedState=e},useTransition:function(){var e=i0(!1),t=e[0];return e=EA.bind(null,e[1]),Hn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Be,i=Hn();if(je){if(n===void 0)throw Error(O(407));n=n()}else{if(n=t(),vt===null)throw Error(O(349));no&30||SS(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,o0(TS.bind(null,r,o,e),[e]),r.flags|=2048,ul(9,CS.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Hn(),t=vt.identifierPrefix;if(je){var n=hr,r=fr;n=(r&~(1<<32-Mn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=al++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=wA++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},RA={readContext:In,useCallback:DS,useContext:In,useEffect:_m,useImperativeHandle:bS,useInsertionEffect:xS,useLayoutEffect:AS,useMemo:NS,useReducer:sh,useRef:PS,useState:function(){return sh(ll)},useDebugValue:wm,useDeferredValue:function(e){var t=Pn();return OS(t,lt.memoizedState,e)},useTransition:function(){var e=sh(ll)[0],t=Pn().memoizedState;return[e,t]},useMutableSource:wS,useSyncExternalStore:ES,useId:MS,unstable_isNewReconciler:!1},IA={readContext:In,useCallback:DS,useContext:In,useEffect:_m,useImperativeHandle:bS,useInsertionEffect:xS,useLayoutEffect:AS,useMemo:NS,useReducer:ah,useRef:PS,useState:function(){return ah(ll)},useDebugValue:wm,useDeferredValue:function(e){var t=Pn();return lt===null?t.memoizedState=e:OS(t,lt.memoizedState,e)},useTransition:function(){var e=ah(ll)[0],t=Pn().memoizedState;return[e,t]},useMutableSource:wS,useSyncExternalStore:ES,useId:MS,unstable_isNewReconciler:!1};function vs(e,t){try{var n="",r=t;do n+=ex(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function lh(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function kp(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var PA=typeof WeakMap=="function"?WeakMap:Map;function FS(e,t,n){n=vr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){zc||(zc=!0,Up=r),kp(e,t)},n}function US(e,t,n){n=vr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){kp(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){kp(e,t),typeof r!="function"&&(ci===null?ci=new Set([this]):ci.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function s0(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new PA;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=jA.bind(null,e,t,n),t.then(e,e))}function a0(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function l0(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=vr(-1,1),t.tag=2,ui(n,t,1))),n.lanes|=1),e)}var xA=Dr.ReactCurrentOwner,Xt=!1;function Ht(e,t,n,r){t.child=e===null?yS(t,null,n,r):gs(t,e.child,n,r)}function u0(e,t,n,r,i){n=n.render;var o=t.ref;return rs(t,i),r=vm(e,t,n,r,o,i),n=ym(),e!==null&&!Xt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Tr(e,t,i)):(je&&n&&om(t),t.flags|=1,Ht(e,t,r,i),t.child)}function c0(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!xm(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,jS(e,t,o,r,i)):(e=uc(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:tl,n(s,r)&&e.ref===t.ref)return Tr(e,t,i)}return t.flags|=1,e=fi(o,r),e.ref=t.ref,e.return=t,t.child=e}function jS(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(tl(o,r)&&e.ref===t.ref)if(Xt=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(Xt=!0);else return t.lanes=e.lanes,Tr(e,t,i)}return bp(e,t,n,r,i)}function zS(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Me(Ko,on),on|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Me(Ko,on),on|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Me(Ko,on),on|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Me(Ko,on),on|=r;return Ht(e,t,i,n),t.child}function BS(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function bp(e,t,n,r,i){var o=Zt(n)?eo:jt.current;return o=hs(t,o),rs(t,i),n=vm(e,t,n,r,o,i),r=ym(),e!==null&&!Xt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Tr(e,t,i)):(je&&r&&om(t),t.flags|=1,Ht(e,t,n,i),t.child)}function d0(e,t,n,r,i){if(Zt(n)){var o=!0;Dc(t)}else o=!1;if(rs(t,i),t.stateNode===null)sc(e,t),mS(t,n,r),Ap(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=In(u):(u=Zt(n)?eo:jt.current,u=hs(t,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&n0(t,s,r,u),Kr=!1;var f=t.memoizedState;s.state=f,Lc(t,r,s,i),l=t.memoizedState,a!==r||f!==l||Jt.current||Kr?(typeof c=="function"&&(xp(t,n,c,r),l=t.memoizedState),(a=Kr||t0(t,n,a,r,f,l,u))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,pS(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:kn(t.type,a),s.props=u,d=t.pendingProps,f=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=In(l):(l=Zt(n)?eo:jt.current,l=hs(t,l));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||f!==l)&&n0(t,s,r,l),Kr=!1,f=t.memoizedState,s.state=f,Lc(t,r,s,i);var y=t.memoizedState;a!==d||f!==y||Jt.current||Kr?(typeof h=="function"&&(xp(t,n,h,r),y=t.memoizedState),(u=Kr||t0(t,n,u,r,f,y,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,y,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,y,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),s.props=r,s.state=y,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Dp(e,t,n,r,o,i)}function Dp(e,t,n,r,i,o){BS(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&Yy(t,n,!1),Tr(e,t,o);r=t.stateNode,xA.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=gs(t,e.child,null,o),t.child=gs(t,null,a,o)):Ht(e,t,a,o),t.memoizedState=r.state,i&&Yy(t,n,!0),t.child}function HS(e){var t=e.stateNode;t.pendingContext?Qy(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Qy(e,t.context,!1),hm(e,t.containerInfo)}function f0(e,t,n,r,i){return ps(),am(i),t.flags|=256,Ht(e,t,n,r),t.child}var Np={dehydrated:null,treeContext:null,retryLane:0};function Op(e){return{baseLanes:e,cachePool:null,transitions:null}}function WS(e,t,n){var r=t.pendingProps,i=ze.current,o=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Me(ze,i&1),e===null)return Ip(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=bd(s,r,0,null),e=Xi(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Op(n),t.memoizedState=Np,e):Em(t,s));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return AA(e,t,s,r,a,i,n);if(o){o=r.fallback,s=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=fi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=fi(a,o):(o=Xi(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?Op(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=Np,r}return o=e.child,e=o.sibling,r=fi(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Em(e,t){return t=bd({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function xu(e,t,n,r){return r!==null&&am(r),gs(t,e.child,null,n),e=Em(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function AA(e,t,n,r,i,o,s){if(n)return t.flags&256?(t.flags&=-257,r=lh(Error(O(422))),xu(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=bd({mode:"visible",children:r.children},i,0,null),o=Xi(o,i,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&gs(t,e.child,null,s),t.child.memoizedState=Op(s),t.memoizedState=Np,o);if(!(t.mode&1))return xu(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(O(419)),r=lh(o,r,void 0),xu(e,t,s,r)}if(a=(s&e.childLanes)!==0,Xt||a){if(r=vt,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Cr(e,i),$n(r,e,i,-1))}return Pm(),r=lh(Error(O(421))),xu(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=zA.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,an=li(i.nextSibling),un=t,je=!0,Nn=null,e!==null&&(_n[wn++]=fr,_n[wn++]=hr,_n[wn++]=to,fr=e.id,hr=e.overflow,to=t),t=Em(t,r.children),t.flags|=4096,t)}function h0(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Pp(e.return,t,n)}function uh(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function GS(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Ht(e,t,r.children,n),r=ze.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&h0(e,n,t);else if(e.tag===19)h0(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Me(ze,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Vc(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),uh(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Vc(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}uh(t,!0,n,null,o);break;case"together":uh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function sc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Tr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ro|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(O(153));if(t.child!==null){for(e=t.child,n=fi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=fi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function kA(e,t,n){switch(t.tag){case 3:HS(t),ps();break;case 5:_S(t);break;case 1:Zt(t.type)&&Dc(t);break;case 4:hm(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Me(Mc,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Me(ze,ze.current&1),t.flags|=128,null):n&t.child.childLanes?WS(e,t,n):(Me(ze,ze.current&1),e=Tr(e,t,n),e!==null?e.sibling:null);Me(ze,ze.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return GS(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Me(ze,ze.current),r)break;return null;case 22:case 23:return t.lanes=0,zS(e,t,n)}return Tr(e,t,n)}var qS,Mp,KS,QS;qS=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Mp=function(){};KS=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,zi(Xn.current);var o=null;switch(n){case"input":i=rp(e,i),r=rp(e,r),o=[];break;case"select":i=He({},i,{value:void 0}),r=He({},r,{value:void 0}),o=[];break;case"textarea":i=sp(e,i),r=sp(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=kc)}lp(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ka.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ka.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ve("scroll",e),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};QS=function(e,t,n,r){n!==r&&(t.flags|=4)};function ia(e,t){if(!je)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Nt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function bA(e,t,n){var r=t.pendingProps;switch(sm(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(t),null;case 1:return Zt(t.type)&&bc(),Nt(t),null;case 3:return r=t.stateNode,ms(),Ue(Jt),Ue(jt),gm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Iu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Nn!==null&&(Bp(Nn),Nn=null))),Mp(e,t),Nt(t),null;case 5:pm(t);var i=zi(sl.current);if(n=t.type,e!==null&&t.stateNode!=null)KS(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(O(166));return Nt(t),null}if(e=zi(Xn.current),Iu(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Wn]=t,r[il]=o,e=(t.mode&1)!==0,n){case"dialog":Ve("cancel",r),Ve("close",r);break;case"iframe":case"object":case"embed":Ve("load",r);break;case"video":case"audio":for(i=0;i<Ca.length;i++)Ve(Ca[i],r);break;case"source":Ve("error",r);break;case"img":case"image":case"link":Ve("error",r),Ve("load",r);break;case"details":Ve("toggle",r);break;case"input":Sy(r,o),Ve("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ve("invalid",r);break;case"textarea":Ty(r,o),Ve("invalid",r)}lp(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Ru(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Ru(r.textContent,a,e),i=["children",""+a]):Ka.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Ve("scroll",r)}switch(n){case"input":vu(r),Cy(r,o,!0);break;case"textarea":vu(r),Ry(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=kc)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=SE(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Wn]=t,e[il]=r,qS(e,t,!1,!1),t.stateNode=e;e:{switch(s=up(n,r),n){case"dialog":Ve("cancel",e),Ve("close",e),i=r;break;case"iframe":case"object":case"embed":Ve("load",e),i=r;break;case"video":case"audio":for(i=0;i<Ca.length;i++)Ve(Ca[i],e);i=r;break;case"source":Ve("error",e),i=r;break;case"img":case"image":case"link":Ve("error",e),Ve("load",e),i=r;break;case"details":Ve("toggle",e),i=r;break;case"input":Sy(e,r),i=rp(e,r),Ve("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=He({},r,{value:void 0}),Ve("invalid",e);break;case"textarea":Ty(e,r),i=sp(e,r),Ve("invalid",e);break;default:i=r}lp(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?RE(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&CE(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Qa(e,l):typeof l=="number"&&Qa(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Ka.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Ve("scroll",e):l!=null&&Wg(e,o,l,s))}switch(n){case"input":vu(e),Cy(e,r,!1);break;case"textarea":vu(e),Ry(e);break;case"option":r.value!=null&&e.setAttribute("value",""+mi(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Zo(e,!!r.multiple,o,!1):r.defaultValue!=null&&Zo(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=kc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Nt(t),null;case 6:if(e&&t.stateNode!=null)QS(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(O(166));if(n=zi(sl.current),zi(Xn.current),Iu(t)){if(r=t.stateNode,n=t.memoizedProps,r[Wn]=t,(o=r.nodeValue!==n)&&(e=un,e!==null))switch(e.tag){case 3:Ru(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ru(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Wn]=t,t.stateNode=r}return Nt(t),null;case 13:if(Ue(ze),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(je&&an!==null&&t.mode&1&&!(t.flags&128))fS(),ps(),t.flags|=98560,o=!1;else if(o=Iu(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(O(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(O(317));o[Wn]=t}else ps(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Nt(t),o=!1}else Nn!==null&&(Bp(Nn),Nn=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ze.current&1?ct===0&&(ct=3):Pm())),t.updateQueue!==null&&(t.flags|=4),Nt(t),null);case 4:return ms(),Mp(e,t),e===null&&nl(t.stateNode.containerInfo),Nt(t),null;case 10:return cm(t.type._context),Nt(t),null;case 17:return Zt(t.type)&&bc(),Nt(t),null;case 19:if(Ue(ze),o=t.memoizedState,o===null)return Nt(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)ia(o,!1);else{if(ct!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Vc(e),s!==null){for(t.flags|=128,ia(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Me(ze,ze.current&1|2),t.child}e=e.sibling}o.tail!==null&&et()>ys&&(t.flags|=128,r=!0,ia(o,!1),t.lanes=4194304)}else{if(!r)if(e=Vc(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ia(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!je)return Nt(t),null}else 2*et()-o.renderingStartTime>ys&&n!==1073741824&&(t.flags|=128,r=!0,ia(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=et(),t.sibling=null,n=ze.current,Me(ze,r?n&1|2:n&1),t):(Nt(t),null);case 22:case 23:return Im(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?on&1073741824&&(Nt(t),t.subtreeFlags&6&&(t.flags|=8192)):Nt(t),null;case 24:return null;case 25:return null}throw Error(O(156,t.tag))}function DA(e,t){switch(sm(t),t.tag){case 1:return Zt(t.type)&&bc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ms(),Ue(Jt),Ue(jt),gm(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return pm(t),null;case 13:if(Ue(ze),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(O(340));ps()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ue(ze),null;case 4:return ms(),null;case 10:return cm(t.type._context),null;case 22:case 23:return Im(),null;case 24:return null;default:return null}}var Au=!1,Lt=!1,NA=typeof WeakSet=="function"?WeakSet:Set,z=null;function qo(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){qe(e,t,r)}else n.current=null}function $p(e,t,n){try{n()}catch(r){qe(e,t,r)}}var p0=!1;function OA(e,t){if(_p=Pc,e=ZE(),im(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,d=e,f=null;t:for(;;){for(var h;d!==n||i!==0&&d.nodeType!==3||(a=s+i),d!==o||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===e)break t;if(f===n&&++u===i&&(a=s),f===o&&++c===r&&(l=s),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(wp={focusedElem:e,selectionRange:n},Pc=!1,z=t;z!==null;)if(t=z,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,z=e;else for(;z!==null;){t=z;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var v=y.memoizedProps,_=y.memoizedState,p=t.stateNode,g=p.getSnapshotBeforeUpdate(t.elementType===t.type?v:kn(t.type,v),_);p.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(O(163))}}catch(S){qe(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,z=e;break}z=t.return}return y=p0,p0=!1,y}function $a(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&$p(t,n,o)}i=i.next}while(i!==r)}}function Ad(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Lp(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function YS(e){var t=e.alternate;t!==null&&(e.alternate=null,YS(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Wn],delete t[il],delete t[Cp],delete t[mA],delete t[vA])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function XS(e){return e.tag===5||e.tag===3||e.tag===4}function g0(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||XS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vp(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=kc));else if(r!==4&&(e=e.child,e!==null))for(Vp(e,t,n),e=e.sibling;e!==null;)Vp(e,t,n),e=e.sibling}function Fp(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Fp(e,t,n),e=e.sibling;e!==null;)Fp(e,t,n),e=e.sibling}var Ct=null,bn=!1;function Ur(e,t,n){for(n=n.child;n!==null;)JS(e,t,n),n=n.sibling}function JS(e,t,n){if(Yn&&typeof Yn.onCommitFiberUnmount=="function")try{Yn.onCommitFiberUnmount(Ed,n)}catch{}switch(n.tag){case 5:Lt||qo(n,t);case 6:var r=Ct,i=bn;Ct=null,Ur(e,t,n),Ct=r,bn=i,Ct!==null&&(bn?(e=Ct,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ct.removeChild(n.stateNode));break;case 18:Ct!==null&&(bn?(e=Ct,n=n.stateNode,e.nodeType===8?nh(e.parentNode,n):e.nodeType===1&&nh(e,n),Za(e)):nh(Ct,n.stateNode));break;case 4:r=Ct,i=bn,Ct=n.stateNode.containerInfo,bn=!0,Ur(e,t,n),Ct=r,bn=i;break;case 0:case 11:case 14:case 15:if(!Lt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&$p(n,t,s),i=i.next}while(i!==r)}Ur(e,t,n);break;case 1:if(!Lt&&(qo(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){qe(n,t,a)}Ur(e,t,n);break;case 21:Ur(e,t,n);break;case 22:n.mode&1?(Lt=(r=Lt)||n.memoizedState!==null,Ur(e,t,n),Lt=r):Ur(e,t,n);break;default:Ur(e,t,n)}}function m0(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new NA),t.forEach(function(r){var i=BA.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function An(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:Ct=a.stateNode,bn=!1;break e;case 3:Ct=a.stateNode.containerInfo,bn=!0;break e;case 4:Ct=a.stateNode.containerInfo,bn=!0;break e}a=a.return}if(Ct===null)throw Error(O(160));JS(o,s,i),Ct=null,bn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){qe(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ZS(t,e),t=t.sibling}function ZS(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(An(t,e),Bn(e),r&4){try{$a(3,e,e.return),Ad(3,e)}catch(v){qe(e,e.return,v)}try{$a(5,e,e.return)}catch(v){qe(e,e.return,v)}}break;case 1:An(t,e),Bn(e),r&512&&n!==null&&qo(n,n.return);break;case 5:if(An(t,e),Bn(e),r&512&&n!==null&&qo(n,n.return),e.flags&32){var i=e.stateNode;try{Qa(i,"")}catch(v){qe(e,e.return,v)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&wE(i,o),up(a,s);var u=up(a,o);for(s=0;s<l.length;s+=2){var c=l[s],d=l[s+1];c==="style"?RE(i,d):c==="dangerouslySetInnerHTML"?CE(i,d):c==="children"?Qa(i,d):Wg(i,c,d,u)}switch(a){case"input":ip(i,o);break;case"textarea":EE(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?Zo(i,!!o.multiple,h,!1):f!==!!o.multiple&&(o.defaultValue!=null?Zo(i,!!o.multiple,o.defaultValue,!0):Zo(i,!!o.multiple,o.multiple?[]:"",!1))}i[il]=o}catch(v){qe(e,e.return,v)}}break;case 6:if(An(t,e),Bn(e),r&4){if(e.stateNode===null)throw Error(O(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(v){qe(e,e.return,v)}}break;case 3:if(An(t,e),Bn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Za(t.containerInfo)}catch(v){qe(e,e.return,v)}break;case 4:An(t,e),Bn(e);break;case 13:An(t,e),Bn(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Tm=et())),r&4&&m0(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Lt=(u=Lt)||c,An(t,e),Lt=u):An(t,e),Bn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(z=e,c=e.child;c!==null;){for(d=z=c;z!==null;){switch(f=z,h=f.child,f.tag){case 0:case 11:case 14:case 15:$a(4,f,f.return);break;case 1:qo(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(v){qe(r,n,v)}}break;case 5:qo(f,f.return);break;case 22:if(f.memoizedState!==null){y0(d);continue}}h!==null?(h.return=f,z=h):y0(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=TE("display",s))}catch(v){qe(e,e.return,v)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(v){qe(e,e.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:An(t,e),Bn(e),r&4&&m0(e);break;case 21:break;default:An(t,e),Bn(e)}}function Bn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(XS(n)){var r=n;break e}n=n.return}throw Error(O(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Qa(i,""),r.flags&=-33);var o=g0(e);Fp(e,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=g0(e);Vp(e,a,s);break;default:throw Error(O(161))}}catch(l){qe(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function MA(e,t,n){z=e,e1(e)}function e1(e,t,n){for(var r=(e.mode&1)!==0;z!==null;){var i=z,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Au;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Lt;a=Au;var u=Lt;if(Au=s,(Lt=l)&&!u)for(z=i;z!==null;)s=z,l=s.child,s.tag===22&&s.memoizedState!==null?_0(i):l!==null?(l.return=s,z=l):_0(i);for(;o!==null;)z=o,e1(o),o=o.sibling;z=i,Au=a,Lt=u}v0(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,z=o):v0(e)}}function v0(e){for(;z!==null;){var t=z;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Lt||Ad(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Lt)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:kn(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&e0(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}e0(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Za(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(O(163))}Lt||t.flags&512&&Lp(t)}catch(f){qe(t,t.return,f)}}if(t===e){z=null;break}if(n=t.sibling,n!==null){n.return=t.return,z=n;break}z=t.return}}function y0(e){for(;z!==null;){var t=z;if(t===e){z=null;break}var n=t.sibling;if(n!==null){n.return=t.return,z=n;break}z=t.return}}function _0(e){for(;z!==null;){var t=z;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ad(4,t)}catch(l){qe(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){qe(t,i,l)}}var o=t.return;try{Lp(t)}catch(l){qe(t,o,l)}break;case 5:var s=t.return;try{Lp(t)}catch(l){qe(t,s,l)}}}catch(l){qe(t,t.return,l)}if(t===e){z=null;break}var a=t.sibling;if(a!==null){a.return=t.return,z=a;break}z=t.return}}var $A=Math.ceil,jc=Dr.ReactCurrentDispatcher,Sm=Dr.ReactCurrentOwner,Tn=Dr.ReactCurrentBatchConfig,Ce=0,vt=null,it=null,Pt=0,on=0,Ko=Ii(0),ct=0,cl=null,ro=0,kd=0,Cm=0,La=null,Yt=null,Tm=0,ys=1/0,lr=null,zc=!1,Up=null,ci=null,ku=!1,ni=null,Bc=0,Va=0,jp=null,ac=-1,lc=0;function Gt(){return Ce&6?et():ac!==-1?ac:ac=et()}function di(e){return e.mode&1?Ce&2&&Pt!==0?Pt&-Pt:_A.transition!==null?(lc===0&&(lc=LE()),lc):(e=Pe,e!==0||(e=window.event,e=e===void 0?16:HE(e.type)),e):1}function $n(e,t,n,r){if(50<Va)throw Va=0,jp=null,Error(O(185));Fl(e,n,r),(!(Ce&2)||e!==vt)&&(e===vt&&(!(Ce&2)&&(kd|=n),ct===4&&Yr(e,Pt)),en(e,r),n===1&&Ce===0&&!(t.mode&1)&&(ys=et()+500,Id&&Pi()))}function en(e,t){var n=e.callbackNode;_x(e,t);var r=Ic(e,e===vt?Pt:0);if(r===0)n!==null&&xy(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&xy(n),t===1)e.tag===0?yA(w0.bind(null,e)):uS(w0.bind(null,e)),pA(function(){!(Ce&6)&&Pi()}),n=null;else{switch(VE(r)){case 1:n=Yg;break;case 4:n=ME;break;case 16:n=Rc;break;case 536870912:n=$E;break;default:n=Rc}n=l1(n,t1.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function t1(e,t){if(ac=-1,lc=0,Ce&6)throw Error(O(327));var n=e.callbackNode;if(is()&&e.callbackNode!==n)return null;var r=Ic(e,e===vt?Pt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Hc(e,r);else{t=r;var i=Ce;Ce|=2;var o=r1();(vt!==e||Pt!==t)&&(lr=null,ys=et()+500,Yi(e,t));do try{FA();break}catch(a){n1(e,a)}while(!0);um(),jc.current=o,Ce=i,it!==null?t=0:(vt=null,Pt=0,t=ct)}if(t!==0){if(t===2&&(i=pp(e),i!==0&&(r=i,t=zp(e,i))),t===1)throw n=cl,Yi(e,0),Yr(e,r),en(e,et()),n;if(t===6)Yr(e,r);else{if(i=e.current.alternate,!(r&30)&&!LA(i)&&(t=Hc(e,r),t===2&&(o=pp(e),o!==0&&(r=o,t=zp(e,o))),t===1))throw n=cl,Yi(e,0),Yr(e,r),en(e,et()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(O(345));case 2:$i(e,Yt,lr);break;case 3:if(Yr(e,r),(r&130023424)===r&&(t=Tm+500-et(),10<t)){if(Ic(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Gt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Sp($i.bind(null,e,Yt,lr),t);break}$i(e,Yt,lr);break;case 4:if(Yr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-Mn(r);o=1<<s,s=t[s],s>i&&(i=s),r&=~o}if(r=i,r=et()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*$A(r/1960))-r,10<r){e.timeoutHandle=Sp($i.bind(null,e,Yt,lr),r);break}$i(e,Yt,lr);break;case 5:$i(e,Yt,lr);break;default:throw Error(O(329))}}}return en(e,et()),e.callbackNode===n?t1.bind(null,e):null}function zp(e,t){var n=La;return e.current.memoizedState.isDehydrated&&(Yi(e,t).flags|=256),e=Hc(e,t),e!==2&&(t=Yt,Yt=n,t!==null&&Bp(t)),e}function Bp(e){Yt===null?Yt=e:Yt.push.apply(Yt,e)}function LA(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Vn(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Yr(e,t){for(t&=~Cm,t&=~kd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Mn(t),r=1<<n;e[n]=-1,t&=~r}}function w0(e){if(Ce&6)throw Error(O(327));is();var t=Ic(e,0);if(!(t&1))return en(e,et()),null;var n=Hc(e,t);if(e.tag!==0&&n===2){var r=pp(e);r!==0&&(t=r,n=zp(e,r))}if(n===1)throw n=cl,Yi(e,0),Yr(e,t),en(e,et()),n;if(n===6)throw Error(O(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,$i(e,Yt,lr),en(e,et()),null}function Rm(e,t){var n=Ce;Ce|=1;try{return e(t)}finally{Ce=n,Ce===0&&(ys=et()+500,Id&&Pi())}}function io(e){ni!==null&&ni.tag===0&&!(Ce&6)&&is();var t=Ce;Ce|=1;var n=Tn.transition,r=Pe;try{if(Tn.transition=null,Pe=1,e)return e()}finally{Pe=r,Tn.transition=n,Ce=t,!(Ce&6)&&Pi()}}function Im(){on=Ko.current,Ue(Ko)}function Yi(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,hA(n)),it!==null)for(n=it.return;n!==null;){var r=n;switch(sm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&bc();break;case 3:ms(),Ue(Jt),Ue(jt),gm();break;case 5:pm(r);break;case 4:ms();break;case 13:Ue(ze);break;case 19:Ue(ze);break;case 10:cm(r.type._context);break;case 22:case 23:Im()}n=n.return}if(vt=e,it=e=fi(e.current,null),Pt=on=t,ct=0,cl=null,Cm=kd=ro=0,Yt=La=null,ji!==null){for(t=0;t<ji.length;t++)if(n=ji[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}ji=null}return e}function n1(e,t){do{var n=it;try{if(um(),ic.current=Uc,Fc){for(var r=Be.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Fc=!1}if(no=0,mt=lt=Be=null,Ma=!1,al=0,Sm.current=null,n===null||n.return===null){ct=1,cl=t,it=null;break}e:{var o=e,s=n.return,a=n,l=t;if(t=Pt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=a0(s);if(h!==null){h.flags&=-257,l0(h,s,a,o,t),h.mode&1&&s0(o,u,t),t=h,l=u;var y=t.updateQueue;if(y===null){var v=new Set;v.add(l),t.updateQueue=v}else y.add(l);break e}else{if(!(t&1)){s0(o,u,t),Pm();break e}l=Error(O(426))}}else if(je&&a.mode&1){var _=a0(s);if(_!==null){!(_.flags&65536)&&(_.flags|=256),l0(_,s,a,o,t),am(vs(l,a));break e}}o=l=vs(l,a),ct!==4&&(ct=2),La===null?La=[o]:La.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var p=FS(o,l,t);Zy(o,p);break e;case 1:a=l;var g=o.type,w=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(ci===null||!ci.has(w)))){o.flags|=65536,t&=-t,o.lanes|=t;var S=US(o,a,t);Zy(o,S);break e}}o=o.return}while(o!==null)}o1(n)}catch(C){t=C,it===n&&n!==null&&(it=n=n.return);continue}break}while(!0)}function r1(){var e=jc.current;return jc.current=Uc,e===null?Uc:e}function Pm(){(ct===0||ct===3||ct===2)&&(ct=4),vt===null||!(ro&268435455)&&!(kd&268435455)||Yr(vt,Pt)}function Hc(e,t){var n=Ce;Ce|=2;var r=r1();(vt!==e||Pt!==t)&&(lr=null,Yi(e,t));do try{VA();break}catch(i){n1(e,i)}while(!0);if(um(),Ce=n,jc.current=r,it!==null)throw Error(O(261));return vt=null,Pt=0,ct}function VA(){for(;it!==null;)i1(it)}function FA(){for(;it!==null&&!cx();)i1(it)}function i1(e){var t=a1(e.alternate,e,on);e.memoizedProps=e.pendingProps,t===null?o1(e):it=t,Sm.current=null}function o1(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=DA(n,t),n!==null){n.flags&=32767,it=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ct=6,it=null;return}}else if(n=bA(n,t,on),n!==null){it=n;return}if(t=t.sibling,t!==null){it=t;return}it=t=e}while(t!==null);ct===0&&(ct=5)}function $i(e,t,n){var r=Pe,i=Tn.transition;try{Tn.transition=null,Pe=1,UA(e,t,n,r)}finally{Tn.transition=i,Pe=r}return null}function UA(e,t,n,r){do is();while(ni!==null);if(Ce&6)throw Error(O(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(O(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(wx(e,o),e===vt&&(it=vt=null,Pt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ku||(ku=!0,l1(Rc,function(){return is(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Tn.transition,Tn.transition=null;var s=Pe;Pe=1;var a=Ce;Ce|=4,Sm.current=null,OA(e,n),ZS(n,e),sA(wp),Pc=!!_p,wp=_p=null,e.current=n,MA(n),dx(),Ce=a,Pe=s,Tn.transition=o}else e.current=n;if(ku&&(ku=!1,ni=e,Bc=i),o=e.pendingLanes,o===0&&(ci=null),px(n.stateNode),en(e,et()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(zc)throw zc=!1,e=Up,Up=null,e;return Bc&1&&e.tag!==0&&is(),o=e.pendingLanes,o&1?e===jp?Va++:(Va=0,jp=e):Va=0,Pi(),null}function is(){if(ni!==null){var e=VE(Bc),t=Tn.transition,n=Pe;try{if(Tn.transition=null,Pe=16>e?16:e,ni===null)var r=!1;else{if(e=ni,ni=null,Bc=0,Ce&6)throw Error(O(331));var i=Ce;for(Ce|=4,z=e.current;z!==null;){var o=z,s=o.child;if(z.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(z=u;z!==null;){var c=z;switch(c.tag){case 0:case 11:case 15:$a(8,c,o)}var d=c.child;if(d!==null)d.return=c,z=d;else for(;z!==null;){c=z;var f=c.sibling,h=c.return;if(YS(c),c===u){z=null;break}if(f!==null){f.return=h,z=f;break}z=h}}}var y=o.alternate;if(y!==null){var v=y.child;if(v!==null){y.child=null;do{var _=v.sibling;v.sibling=null,v=_}while(v!==null)}}z=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,z=s;else e:for(;z!==null;){if(o=z,o.flags&2048)switch(o.tag){case 0:case 11:case 15:$a(9,o,o.return)}var p=o.sibling;if(p!==null){p.return=o.return,z=p;break e}z=o.return}}var g=e.current;for(z=g;z!==null;){s=z;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,z=w;else e:for(s=g;z!==null;){if(a=z,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ad(9,a)}}catch(C){qe(a,a.return,C)}if(a===s){z=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,z=S;break e}z=a.return}}if(Ce=i,Pi(),Yn&&typeof Yn.onPostCommitFiberRoot=="function")try{Yn.onPostCommitFiberRoot(Ed,e)}catch{}r=!0}return r}finally{Pe=n,Tn.transition=t}}return!1}function E0(e,t,n){t=vs(n,t),t=FS(e,t,1),e=ui(e,t,1),t=Gt(),e!==null&&(Fl(e,1,t),en(e,t))}function qe(e,t,n){if(e.tag===3)E0(e,e,n);else for(;t!==null;){if(t.tag===3){E0(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ci===null||!ci.has(r))){e=vs(n,e),e=US(t,e,1),t=ui(t,e,1),e=Gt(),t!==null&&(Fl(t,1,e),en(t,e));break}}t=t.return}}function jA(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Gt(),e.pingedLanes|=e.suspendedLanes&n,vt===e&&(Pt&n)===n&&(ct===4||ct===3&&(Pt&130023424)===Pt&&500>et()-Tm?Yi(e,0):Cm|=n),en(e,t)}function s1(e,t){t===0&&(e.mode&1?(t=wu,wu<<=1,!(wu&130023424)&&(wu=4194304)):t=1);var n=Gt();e=Cr(e,t),e!==null&&(Fl(e,t,n),en(e,n))}function zA(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),s1(e,n)}function BA(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(O(314))}r!==null&&r.delete(t),s1(e,n)}var a1;a1=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Jt.current)Xt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Xt=!1,kA(e,t,n);Xt=!!(e.flags&131072)}else Xt=!1,je&&t.flags&1048576&&cS(t,Oc,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;sc(e,t),e=t.pendingProps;var i=hs(t,jt.current);rs(t,n),i=vm(null,t,r,e,i,n);var o=ym();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Zt(r)?(o=!0,Dc(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,fm(t),i.updater=Pd,t.stateNode=i,i._reactInternals=t,Ap(t,r,e,n),t=Dp(null,t,r,!0,o,n)):(t.tag=0,je&&o&&om(t),Ht(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(sc(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=WA(r),e=kn(r,e),i){case 0:t=bp(null,t,r,e,n);break e;case 1:t=d0(null,t,r,e,n);break e;case 11:t=u0(null,t,r,e,n);break e;case 14:t=c0(null,t,r,kn(r.type,e),n);break e}throw Error(O(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:kn(r,i),bp(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:kn(r,i),d0(e,t,r,i,n);case 3:e:{if(HS(t),e===null)throw Error(O(387));r=t.pendingProps,o=t.memoizedState,i=o.element,pS(e,t),Lc(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=vs(Error(O(423)),t),t=f0(e,t,r,n,i);break e}else if(r!==i){i=vs(Error(O(424)),t),t=f0(e,t,r,n,i);break e}else for(an=li(t.stateNode.containerInfo.firstChild),un=t,je=!0,Nn=null,n=yS(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ps(),r===i){t=Tr(e,t,n);break e}Ht(e,t,r,n)}t=t.child}return t;case 5:return _S(t),e===null&&Ip(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,Ep(r,i)?s=null:o!==null&&Ep(r,o)&&(t.flags|=32),BS(e,t),Ht(e,t,s,n),t.child;case 6:return e===null&&Ip(t),null;case 13:return WS(e,t,n);case 4:return hm(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=gs(t,null,r,n):Ht(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:kn(r,i),u0(e,t,r,i,n);case 7:return Ht(e,t,t.pendingProps,n),t.child;case 8:return Ht(e,t,t.pendingProps.children,n),t.child;case 12:return Ht(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Me(Mc,r._currentValue),r._currentValue=s,o!==null)if(Vn(o.value,s)){if(o.children===i.children&&!Jt.current){t=Tr(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=vr(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Pp(o.return,n,t),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(O(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Pp(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Ht(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,rs(t,n),i=In(i),r=r(i),t.flags|=1,Ht(e,t,r,n),t.child;case 14:return r=t.type,i=kn(r,t.pendingProps),i=kn(r.type,i),c0(e,t,r,i,n);case 15:return jS(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:kn(r,i),sc(e,t),t.tag=1,Zt(r)?(e=!0,Dc(t)):e=!1,rs(t,n),mS(t,r,i),Ap(t,r,i,n),Dp(null,t,r,!0,e,n);case 19:return GS(e,t,n);case 22:return zS(e,t,n)}throw Error(O(156,t.tag))};function l1(e,t){return OE(e,t)}function HA(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(e,t,n,r){return new HA(e,t,n,r)}function xm(e){return e=e.prototype,!(!e||!e.isReactComponent)}function WA(e){if(typeof e=="function")return xm(e)?1:0;if(e!=null){if(e=e.$$typeof,e===qg)return 11;if(e===Kg)return 14}return 2}function fi(e,t){var n=e.alternate;return n===null?(n=Cn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function uc(e,t,n,r,i,o){var s=2;if(r=e,typeof e=="function")xm(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Vo:return Xi(n.children,i,o,t);case Gg:s=8,i|=8;break;case Zh:return e=Cn(12,n,t,i|2),e.elementType=Zh,e.lanes=o,e;case ep:return e=Cn(13,n,t,i),e.elementType=ep,e.lanes=o,e;case tp:return e=Cn(19,n,t,i),e.elementType=tp,e.lanes=o,e;case vE:return bd(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case gE:s=10;break e;case mE:s=9;break e;case qg:s=11;break e;case Kg:s=14;break e;case qr:s=16,r=null;break e}throw Error(O(130,e==null?e:typeof e,""))}return t=Cn(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function Xi(e,t,n,r){return e=Cn(7,e,r,t),e.lanes=n,e}function bd(e,t,n,r){return e=Cn(22,e,r,t),e.elementType=vE,e.lanes=n,e.stateNode={isHidden:!1},e}function ch(e,t,n){return e=Cn(6,e,null,t),e.lanes=n,e}function dh(e,t,n){return t=Cn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function GA(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wf(0),this.expirationTimes=Wf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Am(e,t,n,r,i,o,s,a,l){return e=new GA(e,t,n,a,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Cn(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},fm(o),e}function qA(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Lo,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function u1(e){if(!e)return vi;e=e._reactInternals;e:{if(yo(e)!==e||e.tag!==1)throw Error(O(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Zt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(O(171))}if(e.tag===1){var n=e.type;if(Zt(n))return lS(e,n,t)}return t}function c1(e,t,n,r,i,o,s,a,l){return e=Am(n,r,!0,e,i,o,s,a,l),e.context=u1(null),n=e.current,r=Gt(),i=di(n),o=vr(r,i),o.callback=t??null,ui(n,o,i),e.current.lanes=i,Fl(e,i,r),en(e,r),e}function Dd(e,t,n,r){var i=t.current,o=Gt(),s=di(i);return n=u1(n),t.context===null?t.context=n:t.pendingContext=n,t=vr(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ui(i,t,s),e!==null&&($n(e,i,s,o),rc(e,i,s)),s}function Wc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function S0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function km(e,t){S0(e,t),(e=e.alternate)&&S0(e,t)}function KA(){return null}var d1=typeof reportError=="function"?reportError:function(e){console.error(e)};function bm(e){this._internalRoot=e}Nd.prototype.render=bm.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(O(409));Dd(e,t,null,null)};Nd.prototype.unmount=bm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;io(function(){Dd(null,e,null,null)}),t[Sr]=null}};function Nd(e){this._internalRoot=e}Nd.prototype.unstable_scheduleHydration=function(e){if(e){var t=jE();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Qr.length&&t!==0&&t<Qr[n].priority;n++);Qr.splice(n,0,e),n===0&&BE(e)}};function Dm(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Od(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function C0(){}function QA(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Wc(s);o.call(u)}}var s=c1(t,r,e,0,null,!1,!1,"",C0);return e._reactRootContainer=s,e[Sr]=s.current,nl(e.nodeType===8?e.parentNode:e),io(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Wc(l);a.call(u)}}var l=Am(e,0,!1,null,null,!1,!1,"",C0);return e._reactRootContainer=l,e[Sr]=l.current,nl(e.nodeType===8?e.parentNode:e),io(function(){Dd(t,l,n,r)}),l}function Md(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=Wc(s);a.call(l)}}Dd(t,s,e,i)}else s=QA(n,t,e,i,r);return Wc(s)}FE=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Sa(t.pendingLanes);n!==0&&(Xg(t,n|1),en(t,et()),!(Ce&6)&&(ys=et()+500,Pi()))}break;case 13:io(function(){var r=Cr(e,1);if(r!==null){var i=Gt();$n(r,e,1,i)}}),km(e,1)}};Jg=function(e){if(e.tag===13){var t=Cr(e,134217728);if(t!==null){var n=Gt();$n(t,e,134217728,n)}km(e,134217728)}};UE=function(e){if(e.tag===13){var t=di(e),n=Cr(e,t);if(n!==null){var r=Gt();$n(n,e,t,r)}km(e,t)}};jE=function(){return Pe};zE=function(e,t){var n=Pe;try{return Pe=e,t()}finally{Pe=n}};dp=function(e,t,n){switch(t){case"input":if(ip(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Rd(r);if(!i)throw Error(O(90));_E(r),ip(r,i)}}}break;case"textarea":EE(e,n);break;case"select":t=n.value,t!=null&&Zo(e,!!n.multiple,t,!1)}};xE=Rm;AE=io;var YA={usingClientEntryPoint:!1,Events:[jl,zo,Rd,IE,PE,Rm]},oa={findFiberByHostInstance:Ui,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},XA={bundleType:oa.bundleType,version:oa.version,rendererPackageName:oa.rendererPackageName,rendererConfig:oa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Dr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=DE(e),e===null?null:e.stateNode},findFiberByHostInstance:oa.findFiberByHostInstance||KA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bu.isDisabled&&bu.supportsFiber)try{Ed=bu.inject(XA),Yn=bu}catch{}}gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YA;gn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Dm(t))throw Error(O(200));return qA(e,t,null,n)};gn.createRoot=function(e,t){if(!Dm(e))throw Error(O(299));var n=!1,r="",i=d1;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Am(e,1,!1,null,null,n,!1,r,i),e[Sr]=t.current,nl(e.nodeType===8?e.parentNode:e),new bm(t)};gn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(O(188)):(e=Object.keys(e).join(","),Error(O(268,e)));return e=DE(t),e=e===null?null:e.stateNode,e};gn.flushSync=function(e){return io(e)};gn.hydrate=function(e,t,n){if(!Od(t))throw Error(O(200));return Md(null,e,t,!0,n)};gn.hydrateRoot=function(e,t,n){if(!Dm(e))throw Error(O(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=d1;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=c1(t,null,e,1,n??null,i,!1,o,s),e[Sr]=t.current,nl(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Nd(t)};gn.render=function(e,t,n){if(!Od(t))throw Error(O(200));return Md(null,e,t,!1,n)};gn.unmountComponentAtNode=function(e){if(!Od(e))throw Error(O(40));return e._reactRootContainer?(io(function(){Md(null,null,e,!1,function(){e._reactRootContainer=null,e[Sr]=null})}),!0):!1};gn.unstable_batchedUpdates=Rm;gn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Od(n))throw Error(O(200));if(e==null||e._reactInternals===void 0)throw Error(O(38));return Md(e,t,n,!1,r)};gn.version="18.2.0-next-9e3b772b8-20220608";function f1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(f1)}catch(e){console.error(e)}}f1(),cE.exports=gn;var xi=cE.exports;const h1=Jw(xi),JA=Xw({__proto__:null,default:h1},[xi]);var T0=xi;Xh.createRoot=T0.createRoot,Xh.hydrateRoot=T0.hydrateRoot;/**
 * @remix-run/router v1.15.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ke(){return Ke=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ke.apply(this,arguments)}var Ze;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ze||(Ze={}));const R0="popstate";function ZA(e){e===void 0&&(e={});function t(i,o){let{pathname:s="/",search:a="",hash:l=""}=sr(i.location.hash.substr(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),dl("",{pathname:s,search:a,hash:l},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let s=i.document.querySelector("base"),a="";if(s&&s.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof o=="string"?o:so(o))}function r(i,o){oo(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return tk(t,n,r,e)}function ge(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function oo(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function ek(){return Math.random().toString(36).substr(2,8)}function I0(e,t){return{usr:e.state,key:e.key,idx:t}}function dl(e,t,n,r){return n===void 0&&(n=null),Ke({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?sr(t):t,{state:n,key:t&&t.key||r||ek()})}function so(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function sr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function tk(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=Ze.Pop,l=null,u=c();u==null&&(u=0,s.replaceState(Ke({},s.state,{idx:u}),""));function c(){return(s.state||{idx:null}).idx}function d(){a=Ze.Pop;let _=c(),p=_==null?null:_-u;u=_,l&&l({action:a,location:v.location,delta:p})}function f(_,p){a=Ze.Push;let g=dl(v.location,_,p);n&&n(g,_),u=c()+1;let w=I0(g,u),S=v.createHref(g);try{s.pushState(w,"",S)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(S)}o&&l&&l({action:a,location:v.location,delta:1})}function h(_,p){a=Ze.Replace;let g=dl(v.location,_,p);n&&n(g,_),u=c();let w=I0(g,u),S=v.createHref(g);s.replaceState(w,"",S),o&&l&&l({action:a,location:v.location,delta:0})}function y(_){let p=i.location.origin!=="null"?i.location.origin:i.location.href,g=typeof _=="string"?_:so(_);return g=g.replace(/ $/,"%20"),ge(p,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,p)}let v={get action(){return a},get location(){return e(i,s)},listen(_){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(R0,d),l=_,()=>{i.removeEventListener(R0,d),l=null}},createHref(_){return t(i,_)},createURL:y,encodeLocation(_){let p=y(_);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:f,replace:h,go(_){return s.go(_)}};return v}var Ge;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Ge||(Ge={}));const nk=new Set(["lazy","caseSensitive","path","id","index","children"]);function rk(e){return e.index===!0}function Hp(e,t,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),e.map((i,o)=>{let s=[...n,o],a=typeof i.id=="string"?i.id:s.join("-");if(ge(i.index!==!0||!i.children,"Cannot specify children on an index route"),ge(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),rk(i)){let l=Ke({},i,t(i),{id:a});return r[a]=l,l}else{let l=Ke({},i,t(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=Hp(i.children,t,s,r)),l}})}function Qo(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?sr(t):t,i=Os(r.pathname||"/",n);if(i==null)return null;let o=p1(e);ok(o);let s=null;for(let a=0;s==null&&a<o.length;++a){let l=vk(i);s=pk(o[a],l)}return s}function ik(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}function p1(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(ge(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=yr([r,l.relativePath]),c=n.concat(l);o.children&&o.children.length>0&&(ge(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),p1(o.children,t,c,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:fk(u,o.index),routesMeta:c})};return e.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of g1(o.path))i(o,s,l)}),t}function g1(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=g1(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function ok(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:hk(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const sk=/^:[\w-]+$/,ak=3,lk=2,uk=1,ck=10,dk=-2,P0=e=>e==="*";function fk(e,t){let n=e.split("/"),r=n.length;return n.some(P0)&&(r+=dk),t&&(r+=lk),n.filter(i=>!P0(i)).reduce((i,o)=>i+(sk.test(o)?ak:o===""?uk:ck),r)}function hk(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function pk(e,t){let{routesMeta:n}=e,r={},i="/",o=[];for(let s=0;s<n.length;++s){let a=n[s],l=s===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",c=gk({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let d=a.route;o.push({params:r,pathname:yr([i,c.pathname]),pathnameBase:wk(yr([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=yr([i,c.pathnameBase]))}return o}function gk(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=mk(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,d)=>{let{paramName:f,isOptional:h}=c;if(f==="*"){let v=a[d]||"";s=o.slice(0,o.length-v.length).replace(/(.)\/+$/,"$1")}const y=a[d];return h&&!y?u[f]=void 0:u[f]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:s,pattern:e}}function mk(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),oo(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function vk(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return oo(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Os(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function yk(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?sr(e):e;return{pathname:n?n.startsWith("/")?n:_k(n,t):t,search:Ek(r),hash:Sk(i)}}function _k(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function fh(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function m1(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function $d(e,t){let n=m1(e);return t?n.map((r,i)=>i===e.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Ld(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=sr(e):(i=Ke({},e),ge(!i.pathname||!i.pathname.includes("?"),fh("?","pathname","search",i)),ge(!i.pathname||!i.pathname.includes("#"),fh("#","pathname","hash",i)),ge(!i.search||!i.search.includes("#"),fh("#","search","hash",i)));let o=e===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let d=t.length-1;if(!r&&s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?t[d]:"/"}let l=yk(i,a),u=s&&s!=="/"&&s.endsWith("/"),c=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const yr=e=>e.join("/").replace(/\/\/+/g,"/"),wk=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Ek=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Sk=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class Nm{constructor(t,n,r,i){i===void 0&&(i=!1),this.status=t,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function v1(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const y1=["post","put","patch","delete"],Ck=new Set(y1),Tk=["get",...y1],Rk=new Set(Tk),Ik=new Set([301,302,303,307,308]),Pk=new Set([307,308]),hh={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},xk={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},sa={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},_1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ak=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),w1="remix-router-transitions";function kk(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",r=!n;ge(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(e.mapRouteProperties)i=e.mapRouteProperties;else if(e.detectErrorBoundary){let R=e.detectErrorBoundary;i=P=>({hasErrorBoundary:R(P)})}else i=Ak;let o={},s=Hp(e.routes,i,void 0,o),a,l=e.basename||"/",u=Ke({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1},e.future),c=null,d=new Set,f=null,h=null,y=null,v=e.hydrationData!=null,_=Qo(s,e.history.location,l),p=null;if(_==null){let R=yn(404,{pathname:e.history.location.pathname}),{matches:P,route:A}=M0(s);_=P,p={[A.id]:R}}let g,w=_.some(R=>R.route.lazy),S=_.some(R=>R.route.loader);if(w)g=!1;else if(!S)g=!0;else if(u.v7_partialHydration){let R=e.hydrationData?e.hydrationData.loaderData:null,P=e.hydrationData?e.hydrationData.errors:null,A=L=>L.route.loader?L.route.loader.hydrate===!0?!1:R&&R[L.route.id]!==void 0||P&&P[L.route.id]!==void 0:!0;if(P){let L=_.findIndex(H=>P[H.route.id]!==void 0);g=_.slice(0,L+1).every(A)}else g=_.every(A)}else g=e.hydrationData!=null;let C,E={historyAction:e.history.action,location:e.history.location,matches:_,initialized:g,navigation:hh,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||p,fetchers:new Map,blockers:new Map},T=Ze.Pop,I=!1,D,$=!1,j=new Map,k=null,G=!1,W=!1,J=[],ce=[],B=new Map,M=0,U=-1,q=new Map,ee=new Set,me=new Map,wt=new Map,Ne=new Set,Je=new Map,Ae=new Map,Q=!1;function be(){if(c=e.history.listen(R=>{let{action:P,location:A,delta:L}=R;if(Q){Q=!1;return}oo(Ae.size===0||L!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let H=hy({currentLocation:E.location,nextLocation:A,historyAction:P});if(H&&L!=null){Q=!0,e.history.go(L*-1),fu(H,{state:"blocked",location:A,proceed(){fu(H,{state:"proceeding",proceed:void 0,reset:void 0,location:A}),e.history.go(L)},reset(){let pe=new Map(E.blockers);pe.set(H,sa),ue({blockers:pe})}});return}return Et(P,A)}),n){jk(t,j);let R=()=>zk(t,j);t.addEventListener("pagehide",R),k=()=>t.removeEventListener("pagehide",R)}return E.initialized||Et(Ze.Pop,E.location,{initialHydration:!0}),C}function tt(){c&&c(),k&&k(),d.clear(),D&&D.abort(),E.fetchers.forEach((R,P)=>du(P)),E.blockers.forEach((R,P)=>fy(P))}function De(R){return d.add(R),()=>d.delete(R)}function ue(R,P){P===void 0&&(P={}),E=Ke({},E,R);let A=[],L=[];u.v7_fetcherPersist&&E.fetchers.forEach((H,pe)=>{H.state==="idle"&&(Ne.has(pe)?L.push(pe):A.push(pe))}),[...d].forEach(H=>H(E,{deletedFetchers:L,unstable_viewTransitionOpts:P.viewTransitionOpts,unstable_flushSync:P.flushSync===!0})),u.v7_fetcherPersist&&(A.forEach(H=>E.fetchers.delete(H)),L.forEach(H=>du(H)))}function Ee(R,P,A){var L,H;let{flushSync:pe}=A===void 0?{}:A,re=E.actionData!=null&&E.navigation.formMethod!=null&&Dn(E.navigation.formMethod)&&E.navigation.state==="loading"&&((L=R.state)==null?void 0:L._isRedirect)!==!0,Z;P.actionData?Object.keys(P.actionData).length>0?Z=P.actionData:Z=null:re?Z=E.actionData:Z=null;let Y=P.loaderData?O0(E.loaderData,P.loaderData,P.matches||[],P.errors):E.loaderData,_e=E.blockers;_e.size>0&&(_e=new Map(_e),_e.forEach((Oe,St)=>_e.set(St,sa)));let ht=I===!0||E.navigation.formMethod!=null&&Dn(E.navigation.formMethod)&&((H=R.state)==null?void 0:H._isRedirect)!==!0;a&&(s=a,a=void 0),G||T===Ze.Pop||(T===Ze.Push?e.history.push(R,R.state):T===Ze.Replace&&e.history.replace(R,R.state));let fe;if(T===Ze.Pop){let Oe=j.get(E.location.pathname);Oe&&Oe.has(R.pathname)?fe={currentLocation:E.location,nextLocation:R}:j.has(R.pathname)&&(fe={currentLocation:R,nextLocation:E.location})}else if($){let Oe=j.get(E.location.pathname);Oe?Oe.add(R.pathname):(Oe=new Set([R.pathname]),j.set(E.location.pathname,Oe)),fe={currentLocation:E.location,nextLocation:R}}ue(Ke({},P,{actionData:Z,loaderData:Y,historyAction:T,location:R,initialized:!0,navigation:hh,revalidation:"idle",restoreScrollPosition:gy(R,P.matches||E.matches),preventScrollReset:ht,blockers:_e}),{viewTransitionOpts:fe,flushSync:pe===!0}),T=Ze.Pop,I=!1,$=!1,G=!1,W=!1,J=[],ce=[]}async function bt(R,P){if(typeof R=="number"){e.history.go(R);return}let A=Wp(E.location,E.matches,l,u.v7_prependBasename,R,u.v7_relativeSplatPath,P==null?void 0:P.fromRouteId,P==null?void 0:P.relative),{path:L,submission:H,error:pe}=x0(u.v7_normalizeFormMethod,!1,A,P),re=E.location,Z=dl(E.location,L,P&&P.state);Z=Ke({},Z,e.history.encodeLocation(Z));let Y=P&&P.replace!=null?P.replace:void 0,_e=Ze.Push;Y===!0?_e=Ze.Replace:Y===!1||H!=null&&Dn(H.formMethod)&&H.formAction===E.location.pathname+E.location.search&&(_e=Ze.Replace);let ht=P&&"preventScrollReset"in P?P.preventScrollReset===!0:void 0,fe=(P&&P.unstable_flushSync)===!0,Oe=hy({currentLocation:re,nextLocation:Z,historyAction:_e});if(Oe){fu(Oe,{state:"blocked",location:Z,proceed(){fu(Oe,{state:"proceeding",proceed:void 0,reset:void 0,location:Z}),bt(R,P)},reset(){let St=new Map(E.blockers);St.set(Oe,sa),ue({blockers:St})}});return}return await Et(_e,Z,{submission:H,pendingError:pe,preventScrollReset:ht,replace:P&&P.replace,enableViewTransition:P&&P.unstable_viewTransition,flushSync:fe})}function Bt(){if(Mf(),ue({revalidation:"loading"}),E.navigation.state!=="submitting"){if(E.navigation.state==="idle"){Et(E.historyAction,E.location,{startUninterruptedRevalidation:!0});return}Et(T||E.historyAction,E.navigation.location,{overrideNavigation:E.navigation})}}async function Et(R,P,A){D&&D.abort(),D=null,T=R,G=(A&&A.startUninterruptedRevalidation)===!0,RP(E.location,E.matches),I=(A&&A.preventScrollReset)===!0,$=(A&&A.enableViewTransition)===!0;let L=a||s,H=A&&A.overrideNavigation,pe=Qo(L,P,l),re=(A&&A.flushSync)===!0;if(!pe){let St=yn(404,{pathname:P.pathname}),{matches:rn,route:pt}=M0(L);$f(),Ee(P,{matches:rn,loaderData:{},errors:{[pt.id]:St}},{flushSync:re});return}if(E.initialized&&!W&&Mk(E.location,P)&&!(A&&A.submission&&Dn(A.submission.formMethod))){Ee(P,{matches:pe},{flushSync:re});return}D=new AbortController;let Z=la(e.history,P,D.signal,A&&A.submission),Y,_e;if(A&&A.pendingError)_e={[Fa(pe).route.id]:A.pendingError};else if(A&&A.submission&&Dn(A.submission.formMethod)){let St=await $r(Z,P,A.submission,pe,{replace:A.replace,flushSync:re});if(St.shortCircuited)return;Y=St.pendingActionData,_e=St.pendingActionError,H=ph(P,A.submission),re=!1,Z=new Request(Z.url,{signal:Z.signal})}let{shortCircuited:ht,loaderData:fe,errors:Oe}=await Ni(Z,P,pe,H,A&&A.submission,A&&A.fetcherSubmission,A&&A.replace,A&&A.initialHydration===!0,re,Y,_e);ht||(D=null,Ee(P,Ke({matches:pe},Y?{actionData:Y}:{},{loaderData:fe,errors:Oe})))}async function $r(R,P,A,L,H){H===void 0&&(H={}),Mf();let pe=Fk(P,A);ue({navigation:pe},{flushSync:H.flushSync===!0});let re,Z=qp(L,P);if(!Z.route.action&&!Z.route.lazy)re={type:Ge.error,error:yn(405,{method:R.method,pathname:P.pathname,routeId:Z.route.id})};else if(re=await aa("action",R,Z,L,o,i,l,u.v7_relativeSplatPath),R.signal.aborted)return{shortCircuited:!0};if(Hi(re)){let Y;return H&&H.replace!=null?Y=H.replace:Y=re.location===E.location.pathname+E.location.search,await zn(E,re,{submission:A,replace:Y}),{shortCircuited:!0}}if(Yo(re)){let Y=Fa(L,Z.route.id);return(H&&H.replace)!==!0&&(T=Ze.Push),{pendingActionData:{},pendingActionError:{[Y.route.id]:re.error}}}if(Bi(re))throw yn(400,{type:"defer-action"});return{pendingActionData:{[Z.route.id]:re.data}}}async function Ni(R,P,A,L,H,pe,re,Z,Y,_e,ht){let fe=L||ph(P,H),Oe=H||pe||V0(fe),St=a||s,[rn,pt]=A0(e.history,E,A,Oe,P,u.v7_partialHydration&&Z===!0,W,J,ce,Ne,me,ee,St,l,_e,ht);if($f(Te=>!(A&&A.some(ke=>ke.route.id===Te))||rn&&rn.some(ke=>ke.route.id===Te)),U=++M,rn.length===0&&pt.length===0){let Te=cy();return Ee(P,Ke({matches:A,loaderData:{},errors:ht||null},_e?{actionData:_e}:{},Te?{fetchers:new Map(E.fetchers)}:{}),{flushSync:Y}),{shortCircuited:!0}}if(!G&&(!u.v7_partialHydration||!Z)){pt.forEach(ke=>{let Qt=E.fetchers.get(ke.key),pu=ua(void 0,Qt?Qt.data:void 0);E.fetchers.set(ke.key,pu)});let Te=_e||E.actionData;ue(Ke({navigation:fe},Te?Object.keys(Te).length===0?{actionData:null}:{actionData:Te}:{},pt.length>0?{fetchers:new Map(E.fetchers)}:{}),{flushSync:Y})}pt.forEach(Te=>{B.has(Te.key)&&Vr(Te.key),Te.controller&&B.set(Te.key,Te.controller)});let Ro=()=>pt.forEach(Te=>Vr(Te.key));D&&D.signal.addEventListener("abort",Ro);let{results:Lf,loaderResults:Io,fetcherResults:Fr}=await ay(E.matches,A,rn,pt,R);if(R.signal.aborted)return{shortCircuited:!0};D&&D.signal.removeEventListener("abort",Ro),pt.forEach(Te=>B.delete(Te.key));let Oi=$0(Lf);if(Oi){if(Oi.idx>=rn.length){let Te=pt[Oi.idx-rn.length].key;ee.add(Te)}return await zn(E,Oi.result,{replace:re}),{shortCircuited:!0}}let{loaderData:Vf,errors:Xs}=N0(E,A,rn,Io,ht,pt,Fr,Je);Je.forEach((Te,ke)=>{Te.subscribe(Qt=>{(Qt||Te.done)&&Je.delete(ke)})}),u.v7_partialHydration&&Z&&E.errors&&Object.entries(E.errors).filter(Te=>{let[ke]=Te;return!rn.some(Qt=>Qt.route.id===ke)}).forEach(Te=>{let[ke,Qt]=Te;Xs=Object.assign(Xs||{},{[ke]:Qt})});let Ff=cy(),Po=dy(U),hu=Ff||Po||pt.length>0;return Ke({loaderData:Vf,errors:Xs},hu?{fetchers:new Map(E.fetchers)}:{})}function Df(R,P,A,L){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");B.has(R)&&Vr(R);let H=(L&&L.unstable_flushSync)===!0,pe=a||s,re=Wp(E.location,E.matches,l,u.v7_prependBasename,A,u.v7_relativeSplatPath,P,L==null?void 0:L.relative),Z=Qo(pe,re,l);if(!Z){Ys(R,P,yn(404,{pathname:re}),{flushSync:H});return}let{path:Y,submission:_e,error:ht}=x0(u.v7_normalizeFormMethod,!0,re,L);if(ht){Ys(R,P,ht,{flushSync:H});return}let fe=qp(Z,Y);if(I=(L&&L.preventScrollReset)===!0,_e&&Dn(_e.formMethod)){Nf(R,P,Y,fe,Z,H,_e);return}me.set(R,{routeId:P,path:Y}),Of(R,P,Y,fe,Z,H,_e)}async function Nf(R,P,A,L,H,pe,re){if(Mf(),me.delete(R),!L.route.action&&!L.route.lazy){let ke=yn(405,{method:re.formMethod,pathname:A,routeId:P});Ys(R,P,ke,{flushSync:pe});return}let Z=E.fetchers.get(R);Lr(R,Uk(re,Z),{flushSync:pe});let Y=new AbortController,_e=la(e.history,A,Y.signal,re);B.set(R,Y);let ht=M,fe=await aa("action",_e,L,H,o,i,l,u.v7_relativeSplatPath);if(_e.signal.aborted){B.get(R)===Y&&B.delete(R);return}if(u.v7_fetcherPersist&&Ne.has(R)){if(Hi(fe)||Yo(fe)){Lr(R,Wr(void 0));return}}else{if(Hi(fe))if(B.delete(R),U>ht){Lr(R,Wr(void 0));return}else return ee.add(R),Lr(R,ua(re)),zn(E,fe,{fetcherSubmission:re});if(Yo(fe)){Ys(R,P,fe.error);return}}if(Bi(fe))throw yn(400,{type:"defer-action"});let Oe=E.navigation.location||E.location,St=la(e.history,Oe,Y.signal),rn=a||s,pt=E.navigation.state!=="idle"?Qo(rn,E.navigation.location,l):E.matches;ge(pt,"Didn't find any matches after fetcher action");let Ro=++M;q.set(R,Ro);let Lf=ua(re,fe.data);E.fetchers.set(R,Lf);let[Io,Fr]=A0(e.history,E,pt,re,Oe,!1,W,J,ce,Ne,me,ee,rn,l,{[L.route.id]:fe.data},void 0);Fr.filter(ke=>ke.key!==R).forEach(ke=>{let Qt=ke.key,pu=E.fetchers.get(Qt),PP=ua(void 0,pu?pu.data:void 0);E.fetchers.set(Qt,PP),B.has(Qt)&&Vr(Qt),ke.controller&&B.set(Qt,ke.controller)}),ue({fetchers:new Map(E.fetchers)});let Oi=()=>Fr.forEach(ke=>Vr(ke.key));Y.signal.addEventListener("abort",Oi);let{results:Vf,loaderResults:Xs,fetcherResults:Ff}=await ay(E.matches,pt,Io,Fr,St);if(Y.signal.aborted)return;Y.signal.removeEventListener("abort",Oi),q.delete(R),B.delete(R),Fr.forEach(ke=>B.delete(ke.key));let Po=$0(Vf);if(Po){if(Po.idx>=Io.length){let ke=Fr[Po.idx-Io.length].key;ee.add(ke)}return zn(E,Po.result)}let{loaderData:hu,errors:Te}=N0(E,E.matches,Io,Xs,void 0,Fr,Ff,Je);if(E.fetchers.has(R)){let ke=Wr(fe.data);E.fetchers.set(R,ke)}dy(Ro),E.navigation.state==="loading"&&Ro>U?(ge(T,"Expected pending action"),D&&D.abort(),Ee(E.navigation.location,{matches:pt,loaderData:hu,errors:Te,fetchers:new Map(E.fetchers)})):(ue({errors:Te,loaderData:O0(E.loaderData,hu,pt,Te),fetchers:new Map(E.fetchers)}),W=!1)}async function Of(R,P,A,L,H,pe,re){let Z=E.fetchers.get(R);Lr(R,ua(re,Z?Z.data:void 0),{flushSync:pe});let Y=new AbortController,_e=la(e.history,A,Y.signal);B.set(R,Y);let ht=M,fe=await aa("loader",_e,L,H,o,i,l,u.v7_relativeSplatPath);if(Bi(fe)&&(fe=await C1(fe,_e.signal,!0)||fe),B.get(R)===Y&&B.delete(R),!_e.signal.aborted){if(Ne.has(R)){Lr(R,Wr(void 0));return}if(Hi(fe))if(U>ht){Lr(R,Wr(void 0));return}else{ee.add(R),await zn(E,fe);return}if(Yo(fe)){Ys(R,P,fe.error);return}ge(!Bi(fe),"Unhandled fetcher deferred data"),Lr(R,Wr(fe.data))}}async function zn(R,P,A){let{submission:L,fetcherSubmission:H,replace:pe}=A===void 0?{}:A;P.revalidate&&(W=!0);let re=dl(R.location,P.location,{_isRedirect:!0});if(ge(re,"Expected a location on the redirect navigation"),n){let Oe=!1;if(P.reloadDocument)Oe=!0;else if(_1.test(P.location)){const St=e.history.createURL(P.location);Oe=St.origin!==t.location.origin||Os(St.pathname,l)==null}if(Oe){pe?t.location.replace(P.location):t.location.assign(P.location);return}}D=null;let Z=pe===!0?Ze.Replace:Ze.Push,{formMethod:Y,formAction:_e,formEncType:ht}=R.navigation;!L&&!H&&Y&&_e&&ht&&(L=V0(R.navigation));let fe=L||H;if(Pk.has(P.status)&&fe&&Dn(fe.formMethod))await Et(Z,re,{submission:Ke({},fe,{formAction:P.location}),preventScrollReset:I});else{let Oe=ph(re,L);await Et(Z,re,{overrideNavigation:Oe,fetcherSubmission:H,preventScrollReset:I})}}async function ay(R,P,A,L,H){let pe=await Promise.all([...A.map(Y=>aa("loader",H,Y,P,o,i,l,u.v7_relativeSplatPath)),...L.map(Y=>Y.matches&&Y.match&&Y.controller?aa("loader",la(e.history,Y.path,Y.controller.signal),Y.match,Y.matches,o,i,l,u.v7_relativeSplatPath):{type:Ge.error,error:yn(404,{pathname:Y.path})})]),re=pe.slice(0,A.length),Z=pe.slice(A.length);return await Promise.all([L0(R,A,re,re.map(()=>H.signal),!1,E.loaderData),L0(R,L.map(Y=>Y.match),Z,L.map(Y=>Y.controller?Y.controller.signal:null),!0)]),{results:pe,loaderResults:re,fetcherResults:Z}}function Mf(){W=!0,J.push(...$f()),me.forEach((R,P)=>{B.has(P)&&(ce.push(P),Vr(P))})}function Lr(R,P,A){A===void 0&&(A={}),E.fetchers.set(R,P),ue({fetchers:new Map(E.fetchers)},{flushSync:(A&&A.flushSync)===!0})}function Ys(R,P,A,L){L===void 0&&(L={});let H=Fa(E.matches,P);du(R),ue({errors:{[H.route.id]:A},fetchers:new Map(E.fetchers)},{flushSync:(L&&L.flushSync)===!0})}function ly(R){return u.v7_fetcherPersist&&(wt.set(R,(wt.get(R)||0)+1),Ne.has(R)&&Ne.delete(R)),E.fetchers.get(R)||xk}function du(R){let P=E.fetchers.get(R);B.has(R)&&!(P&&P.state==="loading"&&q.has(R))&&Vr(R),me.delete(R),q.delete(R),ee.delete(R),Ne.delete(R),E.fetchers.delete(R)}function SP(R){if(u.v7_fetcherPersist){let P=(wt.get(R)||0)-1;P<=0?(wt.delete(R),Ne.add(R)):wt.set(R,P)}else du(R);ue({fetchers:new Map(E.fetchers)})}function Vr(R){let P=B.get(R);ge(P,"Expected fetch controller: "+R),P.abort(),B.delete(R)}function uy(R){for(let P of R){let A=ly(P),L=Wr(A.data);E.fetchers.set(P,L)}}function cy(){let R=[],P=!1;for(let A of ee){let L=E.fetchers.get(A);ge(L,"Expected fetcher: "+A),L.state==="loading"&&(ee.delete(A),R.push(A),P=!0)}return uy(R),P}function dy(R){let P=[];for(let[A,L]of q)if(L<R){let H=E.fetchers.get(A);ge(H,"Expected fetcher: "+A),H.state==="loading"&&(Vr(A),q.delete(A),P.push(A))}return uy(P),P.length>0}function CP(R,P){let A=E.blockers.get(R)||sa;return Ae.get(R)!==P&&Ae.set(R,P),A}function fy(R){E.blockers.delete(R),Ae.delete(R)}function fu(R,P){let A=E.blockers.get(R)||sa;ge(A.state==="unblocked"&&P.state==="blocked"||A.state==="blocked"&&P.state==="blocked"||A.state==="blocked"&&P.state==="proceeding"||A.state==="blocked"&&P.state==="unblocked"||A.state==="proceeding"&&P.state==="unblocked","Invalid blocker state transition: "+A.state+" -> "+P.state);let L=new Map(E.blockers);L.set(R,P),ue({blockers:L})}function hy(R){let{currentLocation:P,nextLocation:A,historyAction:L}=R;if(Ae.size===0)return;Ae.size>1&&oo(!1,"A router only supports one blocker at a time");let H=Array.from(Ae.entries()),[pe,re]=H[H.length-1],Z=E.blockers.get(pe);if(!(Z&&Z.state==="proceeding")&&re({currentLocation:P,nextLocation:A,historyAction:L}))return pe}function $f(R){let P=[];return Je.forEach((A,L)=>{(!R||R(L))&&(A.cancel(),P.push(L),Je.delete(L))}),P}function TP(R,P,A){if(f=R,y=P,h=A||null,!v&&E.navigation===hh){v=!0;let L=gy(E.location,E.matches);L!=null&&ue({restoreScrollPosition:L})}return()=>{f=null,y=null,h=null}}function py(R,P){return h&&h(R,P.map(L=>ik(L,E.loaderData)))||R.key}function RP(R,P){if(f&&y){let A=py(R,P);f[A]=y()}}function gy(R,P){if(f){let A=py(R,P),L=f[A];if(typeof L=="number")return L}return null}function IP(R){o={},a=Hp(R,i,void 0,o)}return C={get basename(){return l},get future(){return u},get state(){return E},get routes(){return s},get window(){return t},initialize:be,subscribe:De,enableScrollRestoration:TP,navigate:bt,fetch:Df,revalidate:Bt,createHref:R=>e.history.createHref(R),encodeLocation:R=>e.history.encodeLocation(R),getFetcher:ly,deleteFetcher:SP,dispose:tt,getBlocker:CP,deleteBlocker:fy,_internalFetchControllers:B,_internalActiveDeferreds:Je,_internalSetRoutes:IP},C}function bk(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function Wp(e,t,n,r,i,o,s,a){let l,u;if(s){l=[];for(let d of t)if(l.push(d),d.route.id===s){u=d;break}}else l=t,u=t[t.length-1];let c=Ld(i||".",$d(l,o),Os(e.pathname,n)||e.pathname,a==="path");return i==null&&(c.search=e.search,c.hash=e.hash),(i==null||i===""||i===".")&&u&&u.route.index&&!Om(c.search)&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(c.pathname=c.pathname==="/"?n:yr([n,c.pathname])),so(c)}function x0(e,t,n,r){if(!r||!bk(r))return{path:n};if(r.formMethod&&!Vk(r.formMethod))return{path:n,error:yn(405,{method:r.formMethod})};let i=()=>({path:n,error:yn(400,{type:"invalid-body"})}),o=r.formMethod||"get",s=e?o.toUpperCase():o.toLowerCase(),a=S1(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Dn(s))return i();let f=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((h,y)=>{let[v,_]=y;return""+h+v+"="+_+`
`},""):String(r.body);return{path:n,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:f}}}else if(r.formEncType==="application/json"){if(!Dn(s))return i();try{let f=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:f,text:void 0}}}catch{return i()}}}ge(typeof FormData=="function","FormData is not available in this environment");let l,u;if(r.formData)l=Gp(r.formData),u=r.formData;else if(r.body instanceof FormData)l=Gp(r.body),u=r.body;else if(r.body instanceof URLSearchParams)l=r.body,u=D0(l);else if(r.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(r.body),u=D0(l)}catch{return i()}let c={formMethod:s,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(Dn(c.formMethod))return{path:n,submission:c};let d=sr(n);return t&&d.search&&Om(d.search)&&l.append("index",""),d.search="?"+l,{path:so(d),submission:c}}function Dk(e,t){let n=e;if(t){let r=e.findIndex(i=>i.route.id===t);r>=0&&(n=e.slice(0,r))}return n}function A0(e,t,n,r,i,o,s,a,l,u,c,d,f,h,y,v){let _=v?Object.values(v)[0]:y?Object.values(y)[0]:void 0,p=e.createURL(t.location),g=e.createURL(i),w=v?Object.keys(v)[0]:void 0,C=Dk(n,w).filter((T,I)=>{let{route:D}=T;if(D.lazy)return!0;if(D.loader==null)return!1;if(o)return D.loader.hydrate?!0:t.loaderData[D.id]===void 0&&(!t.errors||t.errors[D.id]===void 0);if(Nk(t.loaderData,t.matches[I],T)||a.some(k=>k===T.route.id))return!0;let $=t.matches[I],j=T;return k0(T,Ke({currentUrl:p,currentParams:$.params,nextUrl:g,nextParams:j.params},r,{actionResult:_,defaultShouldRevalidate:s||p.pathname+p.search===g.pathname+g.search||p.search!==g.search||E1($,j)}))}),E=[];return c.forEach((T,I)=>{if(o||!n.some(G=>G.route.id===T.routeId)||u.has(I))return;let D=Qo(f,T.path,h);if(!D){E.push({key:I,routeId:T.routeId,path:T.path,matches:null,match:null,controller:null});return}let $=t.fetchers.get(I),j=qp(D,T.path),k=!1;d.has(I)?k=!1:l.includes(I)?k=!0:$&&$.state!=="idle"&&$.data===void 0?k=s:k=k0(j,Ke({currentUrl:p,currentParams:t.matches[t.matches.length-1].params,nextUrl:g,nextParams:n[n.length-1].params},r,{actionResult:_,defaultShouldRevalidate:s})),k&&E.push({key:I,routeId:T.routeId,path:T.path,matches:D,match:j,controller:new AbortController})}),[C,E]}function Nk(e,t,n){let r=!t||n.route.id!==t.route.id,i=e[n.route.id]===void 0;return r||i}function E1(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function k0(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}async function b0(e,t,n){if(!e.lazy)return;let r=await e.lazy();if(!e.lazy)return;let i=n[e.id];ge(i,"No route found in manifest");let o={};for(let s in r){let l=i[s]!==void 0&&s!=="hasErrorBoundary";oo(!l,'Route "'+i.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+s+'" will be ignored.')),!l&&!nk.has(s)&&(o[s]=r[s])}Object.assign(i,o),Object.assign(i,Ke({},t(i),{lazy:void 0}))}async function aa(e,t,n,r,i,o,s,a,l){l===void 0&&(l={});let u,c,d,f=v=>{let _,p=new Promise((g,w)=>_=w);return d=()=>_(),t.signal.addEventListener("abort",d),Promise.race([v({request:t,params:n.params,context:l.requestContext}),p])};try{let v=n.route[e];if(n.route.lazy)if(v){let _,p=await Promise.all([f(v).catch(g=>{_=g}),b0(n.route,o,i)]);if(_)throw _;c=p[0]}else if(await b0(n.route,o,i),v=n.route[e],v)c=await f(v);else if(e==="action"){let _=new URL(t.url),p=_.pathname+_.search;throw yn(405,{method:t.method,pathname:p,routeId:n.route.id})}else return{type:Ge.data,data:void 0};else if(v)c=await f(v);else{let _=new URL(t.url),p=_.pathname+_.search;throw yn(404,{pathname:p})}ge(c!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(v){u=Ge.error,c=v}finally{d&&t.signal.removeEventListener("abort",d)}if(Lk(c)){let v=c.status;if(Ik.has(v)){let p=c.headers.get("Location");if(ge(p,"Redirects returned/thrown from loaders/actions must have a Location header"),!_1.test(p))p=Wp(new URL(t.url),r.slice(0,r.indexOf(n)+1),s,!0,p,a);else if(!l.isStaticRequest){let g=new URL(t.url),w=p.startsWith("//")?new URL(g.protocol+p):new URL(p),S=Os(w.pathname,s)!=null;w.origin===g.origin&&S&&(p=w.pathname+w.search+w.hash)}if(l.isStaticRequest)throw c.headers.set("Location",p),c;return{type:Ge.redirect,status:v,location:p,revalidate:c.headers.get("X-Remix-Revalidate")!==null,reloadDocument:c.headers.get("X-Remix-Reload-Document")!==null}}if(l.isRouteRequest)throw{type:u===Ge.error?Ge.error:Ge.data,response:c};let _;try{let p=c.headers.get("Content-Type");p&&/\bapplication\/json\b/.test(p)?c.body==null?_=null:_=await c.json():_=await c.text()}catch(p){return{type:Ge.error,error:p}}return u===Ge.error?{type:u,error:new Nm(v,c.statusText,_),headers:c.headers}:{type:Ge.data,data:_,statusCode:c.status,headers:c.headers}}if(u===Ge.error)return{type:u,error:c};if($k(c)){var h,y;return{type:Ge.deferred,deferredData:c,statusCode:(h=c.init)==null?void 0:h.status,headers:((y=c.init)==null?void 0:y.headers)&&new Headers(c.init.headers)}}return{type:Ge.data,data:c}}function la(e,t,n,r){let i=e.createURL(S1(t)).toString(),o={signal:n};if(r&&Dn(r.formMethod)){let{formMethod:s,formEncType:a}=r;o.method=s.toUpperCase(),a==="application/json"?(o.headers=new Headers({"Content-Type":a}),o.body=JSON.stringify(r.json)):a==="text/plain"?o.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?o.body=Gp(r.formData):o.body=r.formData}return new Request(i,o)}function Gp(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function D0(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function Ok(e,t,n,r,i){let o={},s=null,a,l=!1,u={};return n.forEach((c,d)=>{let f=t[d].route.id;if(ge(!Hi(c),"Cannot handle redirect results in processLoaderData"),Yo(c)){let h=Fa(e,f),y=c.error;r&&(y=Object.values(r)[0],r=void 0),s=s||{},s[h.route.id]==null&&(s[h.route.id]=y),o[f]=void 0,l||(l=!0,a=v1(c.error)?c.error.status:500),c.headers&&(u[f]=c.headers)}else Bi(c)?(i.set(f,c.deferredData),o[f]=c.deferredData.data):o[f]=c.data,c.statusCode!=null&&c.statusCode!==200&&!l&&(a=c.statusCode),c.headers&&(u[f]=c.headers)}),r&&(s=r,o[Object.keys(r)[0]]=void 0),{loaderData:o,errors:s,statusCode:a||200,loaderHeaders:u}}function N0(e,t,n,r,i,o,s,a){let{loaderData:l,errors:u}=Ok(t,n,r,i,a);for(let c=0;c<o.length;c++){let{key:d,match:f,controller:h}=o[c];ge(s!==void 0&&s[c]!==void 0,"Did not find corresponding fetcher result");let y=s[c];if(!(h&&h.signal.aborted))if(Yo(y)){let v=Fa(e.matches,f==null?void 0:f.route.id);u&&u[v.route.id]||(u=Ke({},u,{[v.route.id]:y.error})),e.fetchers.delete(d)}else if(Hi(y))ge(!1,"Unhandled fetcher revalidation redirect");else if(Bi(y))ge(!1,"Unhandled fetcher deferred data");else{let v=Wr(y.data);e.fetchers.set(d,v)}}return{loaderData:l,errors:u}}function O0(e,t,n,r){let i=Ke({},t);for(let o of n){let s=o.route.id;if(t.hasOwnProperty(s)?t[s]!==void 0&&(i[s]=t[s]):e[s]!==void 0&&o.route.loader&&(i[s]=e[s]),r&&r.hasOwnProperty(s))break}return i}function Fa(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function M0(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function yn(e,t){let{pathname:n,routeId:r,method:i,type:o}=t===void 0?{}:t,s="Unknown Server Error",a="Unknown @remix-run/router error";return e===400?(s="Bad Request",i&&n&&r?a="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":o==="defer-action"?a="defer() is not supported in actions":o==="invalid-body"&&(a="Unable to encode submission body")):e===403?(s="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):e===404?(s="Not Found",a='No route matches URL "'+n+'"'):e===405&&(s="Method Not Allowed",i&&n&&r?a="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new Nm(e||500,s,new Error(a),!0)}function $0(e){for(let t=e.length-1;t>=0;t--){let n=e[t];if(Hi(n))return{result:n,idx:t}}}function S1(e){let t=typeof e=="string"?sr(e):e;return so(Ke({},t,{hash:""}))}function Mk(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function Bi(e){return e.type===Ge.deferred}function Yo(e){return e.type===Ge.error}function Hi(e){return(e&&e.type)===Ge.redirect}function $k(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function Lk(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function Vk(e){return Rk.has(e.toLowerCase())}function Dn(e){return Ck.has(e.toLowerCase())}async function L0(e,t,n,r,i,o){for(let s=0;s<n.length;s++){let a=n[s],l=t[s];if(!l)continue;let u=e.find(d=>d.route.id===l.route.id),c=u!=null&&!E1(u,l)&&(o&&o[l.route.id])!==void 0;if(Bi(a)&&(i||c)){let d=r[s];ge(d,"Expected an AbortSignal for revalidating fetcher deferred result"),await C1(a,d,i).then(f=>{f&&(n[s]=f||n[s])})}}}async function C1(e,t,n){if(n===void 0&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:Ge.data,data:e.deferredData.unwrappedData}}catch(i){return{type:Ge.error,error:i}}return{type:Ge.data,data:e.deferredData.data}}}function Om(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function qp(e,t){let n=typeof t=="string"?sr(t).search:t.search;if(e[e.length-1].route.index&&Om(n||""))return e[e.length-1];let r=m1(e);return r[r.length-1]}function V0(e){let{formMethod:t,formAction:n,formEncType:r,text:i,formData:o,json:s}=e;if(!(!t||!n||!r)){if(i!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:t,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(s!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:s,text:void 0}}}function ph(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Fk(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function ua(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Uk(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function Wr(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function jk(e,t){try{let n=e.sessionStorage.getItem(w1);if(n){let r=JSON.parse(n);for(let[i,o]of Object.entries(r||{}))o&&Array.isArray(o)&&t.set(i,new Set(o||[]))}}catch{}}function zk(e,t){if(t.size>0){let n={};for(let[r,i]of t)n[r]=[...i];try{e.sessionStorage.setItem(w1,JSON.stringify(n))}catch(r){oo(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fl(){return fl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fl.apply(this,arguments)}const Vd=m.createContext(null),T1=m.createContext(null),Ai=m.createContext(null),Fd=m.createContext(null),Nr=m.createContext({outlet:null,matches:[],isDataRoute:!1}),R1=m.createContext(null);function Bk(e,t){let{relative:n}=t===void 0?{}:t;Ms()||ge(!1);let{basename:r,navigator:i}=m.useContext(Ai),{hash:o,pathname:s,search:a}=P1(e,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:yr([r,s])),i.createHref({pathname:l,search:a,hash:o})}function Ms(){return m.useContext(Fd)!=null}function Bl(){return Ms()||ge(!1),m.useContext(Fd).location}function I1(e){m.useContext(Ai).static||m.useLayoutEffect(e)}function Ud(){let{isDataRoute:e}=m.useContext(Nr);return e?nb():Hk()}function Hk(){Ms()||ge(!1);let e=m.useContext(Vd),{basename:t,future:n,navigator:r}=m.useContext(Ai),{matches:i}=m.useContext(Nr),{pathname:o}=Bl(),s=JSON.stringify($d(i,n.v7_relativeSplatPath)),a=m.useRef(!1);return I1(()=>{a.current=!0}),m.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let d=Ld(u,JSON.parse(s),o,c.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:yr([t,d.pathname])),(c.replace?r.replace:r.push)(d,c.state,c)},[t,r,s,o,e])}const Wk=m.createContext(null);function Gk(e){let t=m.useContext(Nr).outlet;return t&&m.createElement(Wk.Provider,{value:e},t)}function P1(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=m.useContext(Ai),{matches:i}=m.useContext(Nr),{pathname:o}=Bl(),s=JSON.stringify($d(i,r.v7_relativeSplatPath));return m.useMemo(()=>Ld(e,JSON.parse(s),o,n==="path"),[e,s,o,n])}function qk(e,t,n,r){Ms()||ge(!1);let{navigator:i}=m.useContext(Ai),{matches:o}=m.useContext(Nr),s=o[o.length-1],a=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let u=Bl(),c;if(t){var d;let _=typeof t=="string"?sr(t):t;l==="/"||(d=_.pathname)!=null&&d.startsWith(l)||ge(!1),c=_}else c=u;let f=c.pathname||"/",h=f;if(l!=="/"){let _=l.replace(/^\//,"").split("/");h="/"+f.replace(/^\//,"").split("/").slice(_.length).join("/")}let y=Qo(e,{pathname:h}),v=Jk(y&&y.map(_=>Object.assign({},_,{params:Object.assign({},a,_.params),pathname:yr([l,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:yr([l,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),o,n,r);return t&&v?m.createElement(Fd.Provider,{value:{location:fl({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Ze.Pop}},v):v}function Kk(){let e=k1(),t=v1(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),n?m.createElement("pre",{style:i},n):null,null)}const Qk=m.createElement(Kk,null);class Yk extends m.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?m.createElement(Nr.Provider,{value:this.props.routeContext},m.createElement(R1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Xk(e){let{routeContext:t,match:n,children:r}=e,i=m.useContext(Vd);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),m.createElement(Nr.Provider,{value:t},r)}function Jk(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if((o=n)!=null&&o.errors)e=n.matches;else return null}let s=e,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=s.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id]));c>=0||ge(!1),s=s.slice(0,Math.min(s.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<s.length;c++){let d=s[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:f,errors:h}=n,y=d.route.loader&&f[d.route.id]===void 0&&(!h||h[d.route.id]===void 0);if(d.route.lazy||y){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((c,d,f)=>{let h,y=!1,v=null,_=null;n&&(h=a&&d.route.id?a[d.route.id]:void 0,v=d.route.errorElement||Qk,l&&(u<0&&f===0?(rb("route-fallback",!1),y=!0,_=null):u===f&&(y=!0,_=d.route.hydrateFallbackElement||null)));let p=t.concat(s.slice(0,f+1)),g=()=>{let w;return h?w=v:y?w=_:d.route.Component?w=m.createElement(d.route.Component,null):d.route.element?w=d.route.element:w=c,m.createElement(Xk,{match:d,routeContext:{outlet:c,matches:p,isDataRoute:n!=null},children:w})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?m.createElement(Yk,{location:n.location,revalidation:n.revalidation,component:v,error:h,children:g(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):g()},null)}var x1=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(x1||{}),Gc=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Gc||{});function Zk(e){let t=m.useContext(Vd);return t||ge(!1),t}function eb(e){let t=m.useContext(T1);return t||ge(!1),t}function tb(e){let t=m.useContext(Nr);return t||ge(!1),t}function A1(e){let t=tb(),n=t.matches[t.matches.length-1];return n.route.id||ge(!1),n.route.id}function k1(){var e;let t=m.useContext(R1),n=eb(Gc.UseRouteError),r=A1(Gc.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function nb(){let{router:e}=Zk(x1.UseNavigateStable),t=A1(Gc.UseNavigateStable),n=m.useRef(!1);return I1(()=>{n.current=!0}),m.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,fl({fromRouteId:t},o)))},[e,t])}const F0={};function rb(e,t,n){!t&&!F0[e]&&(F0[e]=!0)}function b1(e){let{to:t,replace:n,state:r,relative:i}=e;Ms()||ge(!1);let{future:o,static:s}=m.useContext(Ai),{matches:a}=m.useContext(Nr),{pathname:l}=Bl(),u=Ud(),c=Ld(t,$d(a,o.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(c);return m.useEffect(()=>u(JSON.parse(d),{replace:n,state:r,relative:i}),[u,d,i,n,r]),null}function ib(e){return Gk(e.context)}function ob(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Ze.Pop,navigator:o,static:s=!1,future:a}=e;Ms()&&ge(!1);let l=t.replace(/^\/*/,"/"),u=m.useMemo(()=>({basename:l,navigator:o,static:s,future:fl({v7_relativeSplatPath:!1},a)}),[l,a,o,s]);typeof r=="string"&&(r=sr(r));let{pathname:c="/",search:d="",hash:f="",state:h=null,key:y="default"}=r,v=m.useMemo(()=>{let _=Os(c,l);return _==null?null:{location:{pathname:_,search:d,hash:f,state:h,key:y},navigationType:i}},[l,c,d,f,h,y,i]);return v==null?null:m.createElement(Ai.Provider,{value:u},m.createElement(Fd.Provider,{children:n,value:v}))}new Promise(()=>{});function sb(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:m.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(t,{hydrateFallbackElement:m.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:m.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}/**
 * React Router DOM v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hl(){return hl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hl.apply(this,arguments)}function ab(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function lb(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function ub(e,t){return e.button===0&&(!t||t==="_self")&&!lb(e)}const cb=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],db="6";try{window.__reactRouterVersion=db}catch{}function fb(e,t){return kk({basename:t==null?void 0:t.basename,future:hl({},t==null?void 0:t.future,{v7_prependBasename:!0}),history:ZA({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||hb(),routes:e,mapRouteProperties:sb,window:t==null?void 0:t.window}).initialize()}function hb(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=hl({},t,{errors:pb(t.errors)})),t}function pb(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,i]of t)if(i&&i.__type==="RouteErrorResponse")n[r]=new Nm(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let s=new o(i.message);s.stack="",n[r]=s}catch{}}if(n[r]==null){let o=new Error(i.message);o.stack="",n[r]=o}}else n[r]=i;return n}const gb=m.createContext({isTransitioning:!1}),mb=m.createContext(new Map),vb="startTransition",U0=lE[vb],yb="flushSync",j0=JA[yb];function _b(e){U0?U0(e):e()}function ca(e){j0?j0(e):e()}let wb=class{constructor(){this.status="pending",this.promise=new Promise((t,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",t(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function Eb(e){let{fallbackElement:t,router:n,future:r}=e,[i,o]=m.useState(n.state),[s,a]=m.useState(),[l,u]=m.useState({isTransitioning:!1}),[c,d]=m.useState(),[f,h]=m.useState(),[y,v]=m.useState(),_=m.useRef(new Map),{v7_startTransition:p}=r||{},g=m.useCallback(T=>{p?_b(T):T()},[p]),w=m.useCallback((T,I)=>{let{deletedFetchers:D,unstable_flushSync:$,unstable_viewTransitionOpts:j}=I;D.forEach(G=>_.current.delete(G)),T.fetchers.forEach((G,W)=>{G.data!==void 0&&_.current.set(W,G.data)});let k=n.window==null||typeof n.window.document.startViewTransition!="function";if(!j||k){$?ca(()=>o(T)):g(()=>o(T));return}if($){ca(()=>{f&&(c&&c.resolve(),f.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:j.currentLocation,nextLocation:j.nextLocation})});let G=n.window.document.startViewTransition(()=>{ca(()=>o(T))});G.finished.finally(()=>{ca(()=>{d(void 0),h(void 0),a(void 0),u({isTransitioning:!1})})}),ca(()=>h(G));return}f?(c&&c.resolve(),f.skipTransition(),v({state:T,currentLocation:j.currentLocation,nextLocation:j.nextLocation})):(a(T),u({isTransitioning:!0,flushSync:!1,currentLocation:j.currentLocation,nextLocation:j.nextLocation}))},[n.window,f,c,_,g]);m.useLayoutEffect(()=>n.subscribe(w),[n,w]),m.useEffect(()=>{l.isTransitioning&&!l.flushSync&&d(new wb)},[l]),m.useEffect(()=>{if(c&&s&&n.window){let T=s,I=c.promise,D=n.window.document.startViewTransition(async()=>{g(()=>o(T)),await I});D.finished.finally(()=>{d(void 0),h(void 0),a(void 0),u({isTransitioning:!1})}),h(D)}},[g,s,c,n.window]),m.useEffect(()=>{c&&s&&i.location.key===s.location.key&&c.resolve()},[c,f,i.location,s]),m.useEffect(()=>{!l.isTransitioning&&y&&(a(y.state),u({isTransitioning:!0,flushSync:!1,currentLocation:y.currentLocation,nextLocation:y.nextLocation}),v(void 0))},[l.isTransitioning,y]),m.useEffect(()=>{},[]);let S=m.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:T=>n.navigate(T),push:(T,I,D)=>n.navigate(T,{state:I,preventScrollReset:D==null?void 0:D.preventScrollReset}),replace:(T,I,D)=>n.navigate(T,{replace:!0,state:I,preventScrollReset:D==null?void 0:D.preventScrollReset})}),[n]),C=n.basename||"/",E=m.useMemo(()=>({router:n,navigator:S,static:!1,basename:C}),[n,S,C]);return m.createElement(m.Fragment,null,m.createElement(Vd.Provider,{value:E},m.createElement(T1.Provider,{value:i},m.createElement(mb.Provider,{value:_.current},m.createElement(gb.Provider,{value:l},m.createElement(ob,{basename:C,location:i.location,navigationType:i.historyAction,navigator:S,future:{v7_relativeSplatPath:n.future.v7_relativeSplatPath}},i.initialized||n.future.v7_partialHydration?m.createElement(Sb,{routes:n.routes,future:n.future,state:i}):t))))),null)}function Sb(e){let{routes:t,future:n,state:r}=e;return qk(t,void 0,r,n)}const Cb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Tb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Rb=m.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:a,target:l,to:u,preventScrollReset:c,unstable_viewTransition:d}=t,f=ab(t,cb),{basename:h}=m.useContext(Ai),y,v=!1;if(typeof u=="string"&&Tb.test(u)&&(y=u,Cb))try{let w=new URL(window.location.href),S=u.startsWith("//")?new URL(w.protocol+u):new URL(u),C=Os(S.pathname,h);S.origin===w.origin&&C!=null?u=C+S.search+S.hash:v=!0}catch{}let _=Bk(u,{relative:i}),p=Ib(u,{replace:s,state:a,target:l,preventScrollReset:c,relative:i,unstable_viewTransition:d});function g(w){r&&r(w),w.defaultPrevented||p(w)}return m.createElement("a",hl({},f,{href:y||_,onClick:v||o?r:g,ref:n,target:l}))});var z0;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(z0||(z0={}));var B0;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(B0||(B0={}));function Ib(e,t){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:a}=t===void 0?{}:t,l=Ud(),u=Bl(),c=P1(e,{relative:s});return m.useCallback(d=>{if(ub(d,n)){d.preventDefault();let f=r!==void 0?r:so(u)===so(c);l(e,{replace:f,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:a})}},[u,l,c,r,i,n,e,o,s,a])}var H0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},Pb=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=e[n++],s=e[n++],a=e[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return t.join("")},N1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const o=e[i],s=i+1<e.length,a=s?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,c=o>>2,d=(o&3)<<4|a>>4;let f=(a&15)<<2|u>>6,h=u&63;l||(h=64,s||(f=64)),r.push(n[c],n[d],n[f],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(D1(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):Pb(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const d=i<e.length?n[e.charAt(i)]:64;if(++i,o==null||a==null||u==null||d==null)throw new xb;const f=o<<2|a>>4;if(r.push(f),u!==64){const h=a<<4&240|u>>2;if(r.push(h),d!==64){const y=u<<6&192|d;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class xb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ab=function(e){const t=D1(e);return N1.encodeByteArray(t,!0)},qc=function(e){return Ab(e).replace(/\./g,"")},O1=function(e){try{return N1.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb=()=>kb().__FIREBASE_DEFAULTS__,Db=()=>{if(typeof process>"u"||typeof H0>"u")return;const e=H0.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},Nb=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&O1(e[1]);return t&&JSON.parse(t)},jd=()=>{try{return bb()||Db()||Nb()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},M1=e=>{var t,n;return(n=(t=jd())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},Ob=e=>{const t=M1(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},$1=()=>{var e;return(e=jd())===null||e===void 0?void 0:e.config},L1=e=>{var t;return(t=jd())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $b(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[qc(JSON.stringify(n)),qc(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ot(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Lb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ot())}function Vb(){var e;const t=(e=jd())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Fb(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function Ub(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function jb(){const e=ot();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function zb(){return!Vb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function V1(){try{return typeof indexedDB=="object"}catch{return!1}}function Bb(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;t(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb="FirebaseError";class Or extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=Hb,Object.setPrototypeOf(this,Or.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hl.prototype.create)}}class Hl{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,o=this.errors[t],s=o?Wb(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Or(i,a,r)}}function Wb(e,t){return e.replace(Gb,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const Gb=/\{\$([^}]+)}/g;function qb(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Kc(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const o=e[i],s=t[i];if(W0(o)&&W0(s)){if(!Kc(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function W0(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wl(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Ta(e){const t={};return e.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");t[decodeURIComponent(i)]=decodeURIComponent(o)}}),t}function Ra(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Kb(e,t){const n=new Qb(e,t);return n.subscribe.bind(n)}class Qb{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Yb(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=gh),i.error===void 0&&(i.error=gh),i.complete===void 0&&(i.complete=gh);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Yb(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function gh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(e){return e&&e._delegate?e._delegate:e}class ao{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new Mb;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Zb(t))try{this.getOrInitializeService({instanceIdentifier:Li})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(t=Li){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Li){return this.instances.has(t)}getOptions(t=Li){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(t),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&t(s,i),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Jb(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Li){return this.component?this.component.multipleInstances?t:Li:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Jb(e){return e===Li?void 0:e}function Zb(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new Xb(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var we;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(we||(we={}));const tD={debug:we.DEBUG,verbose:we.VERBOSE,info:we.INFO,warn:we.WARN,error:we.ERROR,silent:we.SILENT},nD=we.INFO,rD={[we.DEBUG]:"log",[we.VERBOSE]:"log",[we.INFO]:"info",[we.WARN]:"warn",[we.ERROR]:"error"},iD=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=rD[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Mm{constructor(t){this.name=t,this._logLevel=nD,this._logHandler=iD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in we))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?tD[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,we.DEBUG,...t),this._logHandler(this,we.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,we.VERBOSE,...t),this._logHandler(this,we.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,we.INFO,...t),this._logHandler(this,we.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,we.WARN,...t),this._logHandler(this,we.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,we.ERROR,...t),this._logHandler(this,we.ERROR,...t)}}const oD=(e,t)=>t.some(n=>e instanceof n);let G0,q0;function sD(){return G0||(G0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function aD(){return q0||(q0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const F1=new WeakMap,Kp=new WeakMap,U1=new WeakMap,mh=new WeakMap,$m=new WeakMap;function lD(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",o),e.removeEventListener("error",s)},o=()=>{n(hi(e.result)),i()},s=()=>{r(e.error),i()};e.addEventListener("success",o),e.addEventListener("error",s)});return t.then(n=>{n instanceof IDBCursor&&F1.set(n,e)}).catch(()=>{}),$m.set(t,e),t}function uD(e){if(Kp.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",s),e.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",o),e.addEventListener("error",s),e.addEventListener("abort",s)});Kp.set(e,t)}let Qp={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Kp.get(e);if(t==="objectStoreNames")return e.objectStoreNames||U1.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return hi(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function cD(e){Qp=e(Qp)}function dD(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(vh(this),t,...n);return U1.set(r,t.sort?t.sort():[t]),hi(r)}:aD().includes(e)?function(...t){return e.apply(vh(this),t),hi(F1.get(this))}:function(...t){return hi(e.apply(vh(this),t))}}function fD(e){return typeof e=="function"?dD(e):(e instanceof IDBTransaction&&uD(e),oD(e,sD())?new Proxy(e,Qp):e)}function hi(e){if(e instanceof IDBRequest)return lD(e);if(mh.has(e))return mh.get(e);const t=fD(e);return t!==e&&(mh.set(e,t),$m.set(t,e)),t}const vh=e=>$m.get(e);function hD(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(e,t),a=hi(s);return r&&s.addEventListener("upgradeneeded",l=>{r(hi(s.result),l.oldVersion,l.newVersion,hi(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const pD=["get","getKey","getAll","getAllKeys","count"],gD=["put","add","delete","clear"],yh=new Map;function K0(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(yh.get(t))return yh.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=gD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||pD.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return yh.set(t,o),o}cD(e=>({...e,get:(t,n,r)=>K0(t,n)||e.get(t,n,r),has:(t,n)=>!!K0(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(vD(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function vD(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Yp="@firebase/app",Q0="0.9.29";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo=new Mm("@firebase/app"),yD="@firebase/app-compat",_D="@firebase/analytics-compat",wD="@firebase/analytics",ED="@firebase/app-check-compat",SD="@firebase/app-check",CD="@firebase/auth",TD="@firebase/auth-compat",RD="@firebase/database",ID="@firebase/database-compat",PD="@firebase/functions",xD="@firebase/functions-compat",AD="@firebase/installations",kD="@firebase/installations-compat",bD="@firebase/messaging",DD="@firebase/messaging-compat",ND="@firebase/performance",OD="@firebase/performance-compat",MD="@firebase/remote-config",$D="@firebase/remote-config-compat",LD="@firebase/storage",VD="@firebase/storage-compat",FD="@firebase/firestore",UD="@firebase/firestore-compat",jD="firebase",zD="10.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xp="[DEFAULT]",BD={[Yp]:"fire-core",[yD]:"fire-core-compat",[wD]:"fire-analytics",[_D]:"fire-analytics-compat",[SD]:"fire-app-check",[ED]:"fire-app-check-compat",[CD]:"fire-auth",[TD]:"fire-auth-compat",[RD]:"fire-rtdb",[ID]:"fire-rtdb-compat",[PD]:"fire-fn",[xD]:"fire-fn-compat",[AD]:"fire-iid",[kD]:"fire-iid-compat",[bD]:"fire-fcm",[DD]:"fire-fcm-compat",[ND]:"fire-perf",[OD]:"fire-perf-compat",[MD]:"fire-rc",[$D]:"fire-rc-compat",[LD]:"fire-gcs",[VD]:"fire-gcs-compat",[FD]:"fire-fst",[UD]:"fire-fst-compat","fire-js":"fire-js",[jD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qc=new Map,Jp=new Map;function HD(e,t){try{e.container.addComponent(t)}catch(n){lo.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function _s(e){const t=e.name;if(Jp.has(t))return lo.debug(`There were multiple attempts to register component ${t}.`),!1;Jp.set(t,e);for(const n of Qc.values())HD(n,e);return!0}function Lm(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},pi=new Hl("app","Firebase",WD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ao("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw pi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s=zD;function j1(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:Xp,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw pi.create("bad-app-name",{appName:String(i)});if(n||(n=$1()),!n)throw pi.create("no-options");const o=Qc.get(i);if(o){if(Kc(n,o.options)&&Kc(r,o.config))return o;throw pi.create("duplicate-app",{appName:i})}const s=new eD(i);for(const l of Jp.values())s.addComponent(l);const a=new GD(n,r,s);return Qc.set(i,a),a}function z1(e=Xp){const t=Qc.get(e);if(!t&&e===Xp&&$1())return j1();if(!t)throw pi.create("no-app",{appName:e});return t}function gi(e,t,n){var r;let i=(r=BD[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${t}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),lo.warn(a.join(" "));return}_s(new ao(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD="firebase-heartbeat-database",KD=1,pl="firebase-heartbeat-store";let _h=null;function B1(){return _h||(_h=hD(qD,KD,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(pl)}catch(n){console.warn(n)}}}}).catch(e=>{throw pi.create("idb-open",{originalErrorMessage:e.message})})),_h}async function QD(e){try{const n=(await B1()).transaction(pl),r=await n.objectStore(pl).get(H1(e));return await n.done,r}catch(t){if(t instanceof Or)lo.warn(t.message);else{const n=pi.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});lo.warn(n.message)}}}async function Y0(e,t){try{const r=(await B1()).transaction(pl,"readwrite");await r.objectStore(pl).put(t,H1(e)),await r.done}catch(n){if(n instanceof Or)lo.warn(n.message);else{const r=pi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});lo.warn(r.message)}}}function H1(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD=1024,XD=30*24*60*60*1e3;class JD{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new eN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=X0();if(!(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=XD}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var t;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=X0(),{heartbeatsToSend:r,unsentEntries:i}=ZD(this._heartbeatsCache.heartbeats),o=qc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function X0(){return new Date().toISOString().substring(0,10)}function ZD(e,t=YD){const n=[];let r=e.slice();for(const i of e){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),J0(n)>t){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),J0(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class eN{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return V1()?Bb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await QD(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Y0(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Y0(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function J0(e){return qc(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tN(e){_s(new ao("platform-logger",t=>new mD(t),"PRIVATE")),_s(new ao("heartbeat",t=>new JD(t),"PRIVATE")),gi(Yp,Q0,e),gi(Yp,Q0,"esm2017"),gi("fire-js","")}tN("");var Gn=function(){return Gn=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Gn.apply(this,arguments)};function Gl(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function nN(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}function W1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const rN=W1,G1=new Hl("auth","Firebase",W1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yc=new Mm("@firebase/auth");function iN(e,...t){Yc.logLevel<=we.WARN&&Yc.warn(`Auth (${$s}): ${e}`,...t)}function cc(e,...t){Yc.logLevel<=we.ERROR&&Yc.error(`Auth (${$s}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(e,...t){throw Vm(e,...t)}function Jn(e,...t){return Vm(e,...t)}function oN(e,t,n){const r=Object.assign(Object.assign({},rN()),{[t]:n});return new Hl("auth","Firebase",r).create(t,{appName:e.name})}function Vm(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return G1.create(e,...t)}function ie(e,t,...n){if(!e)throw Vm(t,...n)}function pr(e){const t="INTERNAL ASSERTION FAILED: "+e;throw cc(t),new Error(t)}function Rr(e,t){e||pr(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zp(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function sN(){return Z0()==="http:"||Z0()==="https:"}function Z0(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(sN()||Fb()||"connection"in navigator)?navigator.onLine:!0}function lN(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(t,n){this.shortDelay=t,this.longDelay=n,Rr(n>t,"Short delay should be less than long delay!"),this.isMobile=Lb()||Ub()}get(){return aN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fm(e,t){Rr(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;pr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;pr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;pr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN=new ql(3e4,6e4);function _o(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function ki(e,t,n,r,i={}){return K1(e,i,async()=>{let o={},s={};r&&(t==="GET"?s=r:o={body:JSON.stringify(r)});const a=Wl(Object.assign({key:e.config.apiKey},s)).slice(1),l=await e._getAdditionalHeaders();return l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode),q1.fetch()(Q1(e,e.config.apiHost,n,a),Object.assign({method:t,headers:l,referrerPolicy:"no-referrer"},o))})}async function K1(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},uN),t);try{const i=new fN(e),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw Du(e,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Du(e,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Du(e,"email-already-in-use",s);if(l==="USER_DISABLED")throw Du(e,"user-disabled",s);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw oN(e,c,u);Fn(e,c)}}catch(i){if(i instanceof Or)throw i;Fn(e,"network-request-failed",{message:String(i)})}}async function zd(e,t,n,r,i={}){const o=await ki(e,t,n,r,i);return"mfaPendingCredential"in o&&Fn(e,"multi-factor-auth-required",{_serverResponse:o}),o}function Q1(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?Fm(e.config,i):`${e.config.apiScheme}://${i}`}function dN(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class fN{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Jn(this.auth,"network-request-failed")),cN.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Du(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Jn(e,t,r);return i.customData._tokenResponse=n,i}function e_(e){return e!==void 0&&e.enterprise!==void 0}class hN{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return dN(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}}async function pN(e,t){return ki(e,"GET","/v2/recaptchaConfig",_o(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gN(e,t){return ki(e,"POST","/v1/accounts:delete",t)}async function mN(e,t){return ki(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ua(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function vN(e,t=!1){const n=fn(e),r=await n.getIdToken(t),i=Um(r);ie(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Ua(wh(i.auth_time)),issuedAtTime:Ua(wh(i.iat)),expirationTime:Ua(wh(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function wh(e){return Number(e)*1e3}function Um(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return cc("JWT malformed, contained fewer than 3 sections"),null;try{const i=O1(n);return i?JSON.parse(i):(cc("Failed to decode base64 JWT payload"),null)}catch(i){return cc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function yN(e){const t=Um(e);return ie(t,"internal-error"),ie(typeof t.exp<"u","internal-error"),ie(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gl(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof Or&&_N(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function _N({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ua(this.lastLoginAt),this.creationTime=Ua(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xc(e){var t;const n=e.auth,r=await e.getIdToken(),i=await gl(e,mN(n,{idToken:r}));ie(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=!((t=o.providerUserInfo)===null||t===void 0)&&t.length?CN(o.providerUserInfo):[],a=SN(e.providerData,s),l=e.isAnonymous,u=!(e.email&&o.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Y1(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(e,d)}async function EN(e){const t=fn(e);await Xc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function SN(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function CN(e){return e.map(t=>{var{providerId:n}=t,r=Gl(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TN(e,t){const n=await K1(e,{},async()=>{const r=Wl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:o}=e.config,s=Q1(e,i,"/v1/token",`key=${o}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",q1.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function RN(e,t){return ki(e,"POST","/v2/accounts:revokeToken",_o(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){ie(t.idToken,"internal-error"),ie(typeof t.idToken<"u","internal-error"),ie(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):yN(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}async getToken(t,n=!1){return ie(!this.accessToken||this.refreshToken,t,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await TN(t,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new ml;return r&&(ie(typeof r=="string","internal-error",{appName:t}),s.refreshToken=r),i&&(ie(typeof i=="string","internal-error",{appName:t}),s.accessToken=i),o&&(ie(typeof o=="number","internal-error",{appName:t}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new ml,this.toJSON())}_performRefresh(){return pr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(e,t){ie(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Ji{constructor(t){var{uid:n,auth:r,stsTokenManager:i}=t,o=Gl(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new wN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Y1(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await gl(this,this.stsTokenManager.getToken(this.auth,t));return ie(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return vN(this,t)}reload(){return EN(this)}_assign(t){this!==t&&(ie(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Ji(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await Xc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await gl(this,gN(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,i,o,s,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,h=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,y=(s=n.photoURL)!==null&&s!==void 0?s:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,_=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,p=(u=n.createdAt)!==null&&u!==void 0?u:void 0,g=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:w,emailVerified:S,isAnonymous:C,providerData:E,stsTokenManager:T}=n;ie(w&&T,t,"internal-error");const I=ml.fromJSON(this.name,T);ie(typeof w=="string",t,"internal-error"),jr(d,t.name),jr(f,t.name),ie(typeof S=="boolean",t,"internal-error"),ie(typeof C=="boolean",t,"internal-error"),jr(h,t.name),jr(y,t.name),jr(v,t.name),jr(_,t.name),jr(p,t.name),jr(g,t.name);const D=new Ji({uid:w,auth:t,email:f,emailVerified:S,displayName:d,isAnonymous:C,photoURL:y,phoneNumber:h,tenantId:v,stsTokenManager:I,createdAt:p,lastLoginAt:g});return E&&Array.isArray(E)&&(D.providerData=E.map($=>Object.assign({},$))),_&&(D._redirectEventId=_),D}static async _fromIdTokenResponse(t,n,r=!1){const i=new ml;i.updateFromServerResponse(n);const o=new Ji({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await Xc(o),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_=new Map;function gr(e){Rr(e instanceof Function,"Expected a class definition");let t=t_.get(e);return t?(Rr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,t_.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}X1.type="NONE";const n_=X1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dc(e,t,n){return`firebase:${e}:${t}:${n}`}class os{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=dc(this.userKey,i.apiKey,o),this.fullPersistenceKey=dc("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Ji._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new os(gr(n_),t,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||gr(n_);const s=dc(r,t.config.apiKey,t.name);let a=null;for(const u of n)try{const c=await u._get(s);if(c){const d=Ji._fromJSON(t,c);u!==o&&(a=d),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new os(o,t,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new os(o,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r_(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(eC(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(J1(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(nC(t))return"Blackberry";if(rC(t))return"Webos";if(jm(t))return"Safari";if((t.includes("chrome/")||Z1(t))&&!t.includes("edge/"))return"Chrome";if(tC(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function J1(e=ot()){return/firefox\//i.test(e)}function jm(e=ot()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Z1(e=ot()){return/crios\//i.test(e)}function eC(e=ot()){return/iemobile/i.test(e)}function tC(e=ot()){return/android/i.test(e)}function nC(e=ot()){return/blackberry/i.test(e)}function rC(e=ot()){return/webos/i.test(e)}function Bd(e=ot()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function IN(e=ot()){var t;return Bd(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function PN(){return jb()&&document.documentMode===10}function iC(e=ot()){return Bd(e)||tC(e)||rC(e)||nC(e)||/windows phone/i.test(e)||eC(e)}function xN(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oC(e,t=[]){let n;switch(e){case"Browser":n=r_(ot());break;case"Worker":n=`${r_(ot())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${$s}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=o=>new Promise((s,a)=>{try{const l=t(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kN(e,t={}){return ki(e,"GET","/v2/passwordPolicy",_o(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN=6;class DN{constructor(t){var n,r,i,o;const s=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:bN,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=t.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,r,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,l),this.validatePasswordCharacterOptions(t,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new i_(this),this.idTokenSubscription=new i_(this),this.beforeStateQueue=new AN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=G1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=gr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await os.create(this,t),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUser(t){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(t);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Xc(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=lN()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const n=t?fn(t):null;return n&&ie(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&ie(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(t){return this.queue(async()=>{await this.assertedPersistence.setPersistence(gr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await kN(this),n=new DN(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Hl("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await RN(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&gr(t)||this._popupRedirectResolver;ie(n,this,"argument-error"),this.redirectPersistenceManager=await os.create(this,[gr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ie(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=t.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=t.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=oC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var t;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&iN(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ls(e){return fn(e)}class i_{constructor(t){this.auth=t,this.observer=null,this.addObserver=Kb(n=>this.observer=n)}get next(){return ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ON(e){Hd=e}function sC(e){return Hd.loadJS(e)}function MN(){return Hd.recaptchaEnterpriseScript}function $N(){return Hd.gapiScript}function LN(e){return`__${e}${Math.floor(Math.random()*1e6)}`}const VN="recaptcha-enterprise",FN="NO_RECAPTCHA";class UN{constructor(t){this.type=VN,this.auth=Ls(t)}async verify(t="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{pN(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new hN(l);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(l=>{a(l)})})}function i(o,s,a){const l=window.grecaptcha;e_(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:t}).then(u=>{s(u)}).catch(()=>{s(FN)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&e_(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=MN();l.length!==0&&(l+=a),sC(l).then(()=>{i(a,o,s)}).catch(u=>{s(u)})}}).catch(a=>{s(a)})})}}async function o_(e,t,n,r=!1){const i=new UN(e);let o;try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const s=Object.assign({},t);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function s_(e,t,n,r){var i;if(!((i=e._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await o_(e,t,n,n==="getOobCode");return r(e,o)}else return r(e,t).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await o_(e,t,n,n==="getOobCode");return r(e,s)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jN(e,t){const n=Lm(e,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(Kc(o,t??{}))return i;Fn(i,"already-initialized")}return n.initialize({options:t})}function zN(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(gr);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function BN(e,t,n){const r=Ls(e);ie(r._canInitEmulator,r,"emulator-config-failed"),ie(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=aC(t),{host:s,port:a}=HN(t),l=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||WN()}function aC(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function HN(e){const t=aC(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:a_(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:a_(s)}}}function a_(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function WN(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return pr("not implemented")}_getIdTokenResponse(t){return pr("not implemented")}_linkToIdToken(t,n){return pr("not implemented")}_getReauthenticationResolver(t){return pr("not implemented")}}async function GN(e,t){return ki(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qN(e,t){return zd(e,"POST","/v1/accounts:signInWithPassword",_o(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KN(e,t){return zd(e,"POST","/v1/accounts:signInWithEmailLink",_o(e,t))}async function QN(e,t){return zd(e,"POST","/v1/accounts:signInWithEmailLink",_o(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl extends zm{constructor(t,n,r,i=null){super("password",r),this._email=t,this._password=n,this._tenantId=i}static _fromEmailAndPassword(t,n){return new vl(t,n,"password")}static _fromEmailAndCode(t,n,r=null){return new vl(t,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return s_(t,n,"signInWithPassword",qN);case"emailLink":return KN(t,{email:this._email,oobCode:this._password});default:Fn(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return s_(t,r,"signUpPassword",GN);case"emailLink":return QN(t,{idToken:n,email:this._email,oobCode:this._password});default:Fn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ss(e,t){return zd(e,"POST","/v1/accounts:signInWithIdp",_o(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN="http://localhost";class uo extends zm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new uo(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Fn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i}=n,o=Gl(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new uo(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(t){const n=this.buildRequest();return ss(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,ss(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,ss(t,n)}buildRequest(){const t={requestUri:YN,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Wl(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XN(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function JN(e){const t=Ta(Ra(e)).link,n=t?Ta(Ra(t)).deep_link_id:null,r=Ta(Ra(e)).deep_link_id;return(r?Ta(Ra(r)).link:null)||r||n||t||e}class Bm{constructor(t){var n,r,i,o,s,a;const l=Ta(Ra(t)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,d=XN((i=l.mode)!==null&&i!==void 0?i:null);ie(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(t){const n=JN(t);try{return new Bm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(){this.providerId=Vs.PROVIDER_ID}static credential(t,n){return vl._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const r=Bm.parseLink(n);return ie(r,"argument-error"),vl._fromEmailAndCode(t,r.code,r.tenantId)}}Vs.PROVIDER_ID="password";Vs.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Vs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl extends lC{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr extends Kl{constructor(){super("facebook.com")}static credential(t){return uo._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Xr.credentialFromTaggedObject(t)}static credentialFromError(t){return Xr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Xr.credential(t.oauthAccessToken)}catch{return null}}}Xr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Xr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr extends Kl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return uo._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Jr.credentialFromTaggedObject(t)}static credentialFromError(t){return Jr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Jr.credential(n,r)}catch{return null}}}Jr.GOOGLE_SIGN_IN_METHOD="google.com";Jr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr extends Kl{constructor(){super("github.com")}static credential(t){return uo._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Zr.credentialFromTaggedObject(t)}static credentialFromError(t){return Zr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Zr.credential(t.oauthAccessToken)}catch{return null}}}Zr.GITHUB_SIGN_IN_METHOD="github.com";Zr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei extends Kl{constructor(){super("twitter.com")}static credential(t,n){return uo._fromParams({providerId:ei.PROVIDER_ID,signInMethod:ei.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return ei.credentialFromTaggedObject(t)}static credentialFromError(t){return ei.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return ei.credential(n,r)}catch{return null}}}ei.TWITTER_SIGN_IN_METHOD="twitter.com";ei.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){const o=await Ji._fromIdTokenResponse(t,r,i),s=l_(r);return new ws({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const i=l_(r);return new ws({user:t,providerId:i,_tokenResponse:r,operationType:n})}}function l_(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc extends Or{constructor(t,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Jc.prototype),this.customData={appName:t.name,tenantId:(o=t.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new Jc(t,n,r,i)}}function uC(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Jc._fromErrorAndOperation(e,o,t,r):o})}async function ZN(e,t,n=!1){const r=await gl(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return ws._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eO(e,t,n=!1){const{auth:r}=e,i="reauthenticate";try{const o=await gl(e,uC(r,i,t,e),n);ie(o.idToken,r,"internal-error");const s=Um(o.idToken);ie(s,r,"internal-error");const{sub:a}=s;return ie(e.uid===a,r,"user-mismatch"),ws._forOperation(e,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Fn(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cC(e,t,n=!1){const r="signIn",i=await uC(e,r,t),o=await ws._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function tO(e,t){return cC(Ls(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nO(e){const t=Ls(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function rO(e,t,n){return tO(fn(e),Vs.credential(t,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&nO(e),r})}function iO(e,t,n,r){return fn(e).onIdTokenChanged(t,n,r)}function oO(e,t,n){return fn(e).beforeAuthStateChanged(t,n)}function sO(e,t,n,r){return fn(e).onAuthStateChanged(t,n,r)}function aO(e){return fn(e).signOut()}const Zc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Zc,"1"),this.storage.removeItem(Zc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lO(){const e=ot();return jm(e)||Bd(e)}const uO=1e3,cO=10;class fC extends dC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=lO()&&xN(),this.fallbackToPolling=iC(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&t(n,i,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=t.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const s=this.storage.getItem(r);if(t.newValue!==s)t.newValue!==null?this.storage.setItem(r,t.newValue):this.storage.removeItem(r);else if(this.localCache[r]===t.newValue&&!n)return}const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);PN()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,cO):i()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},uO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}fC.type="LOCAL";const dO=fC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC extends dC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}hC.type="SESSION";const pC=hC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fO(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(i=>i.isListeningto(t));if(n)return n;const r=new Wd(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async u=>u(n.origin,o)),l=await fO(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hm(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const u=Hm("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(f.data.response);break;default:clearTimeout(c),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:t,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(){return window}function pO(e){Zn().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gC(){return typeof Zn().WorkerGlobalScope<"u"&&typeof Zn().importScripts=="function"}async function gO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function mO(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function vO(){return gC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC="firebaseLocalStorageDb",yO=1,ed="firebaseLocalStorage",vC="fbase_key";class Ql{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Gd(e,t){return e.transaction([ed],t?"readwrite":"readonly").objectStore(ed)}function _O(){const e=indexedDB.deleteDatabase(mC);return new Ql(e).toPromise()}function eg(){const e=indexedDB.open(mC,yO);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(ed,{keyPath:vC})}catch(i){n(i)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(ed)?t(r):(r.close(),await _O(),t(await eg()))})})}async function u_(e,t,n){const r=Gd(e,!0).put({[vC]:t,value:n});return new Ql(r).toPromise()}async function wO(e,t){const n=Gd(e,!1).get(t),r=await new Ql(n).toPromise();return r===void 0?null:r.value}function c_(e,t){const n=Gd(e,!0).delete(t);return new Ql(n).toPromise()}const EO=800,SO=3;class yC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await eg(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>SO)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return gC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wd._getInstance(vO()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await gO(),!this.activeServiceWorker)return;this.sender=new hO(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||mO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await eg();return await u_(t,Zc,"1"),await c_(t,Zc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>u_(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>wO(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>c_(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const o=Gd(i,!1).getAll();return new Ql(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:i,value:o}of t)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),EO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}yC.type="LOCAL";const CO=yC;new ql(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TO(e,t){return t?gr(t):(ie(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm extends zm{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ss(t,this._buildIdpRequest())}_linkToIdToken(t,n){return ss(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return ss(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function RO(e){return cC(e.auth,new Wm(e),e.bypassAuthState)}function IO(e){const{auth:t,user:n}=e;return ie(n,t,"internal-error"),eO(n,new Wm(e),e.bypassAuthState)}async function PO(e){const{auth:t,user:n}=e;return ie(n,t,"internal-error"),ZN(n,new Wm(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(t,n,r,i,o=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=t;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return RO;case"linkViaPopup":case"linkViaRedirect":return PO;case"reauthViaPopup":case"reauthViaRedirect":return IO;default:Fn(this.auth,"internal-error")}}resolve(t){Rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO=new ql(2e3,1e4);class Xo extends _C{constructor(t,n,r,i,o){super(t,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Xo.currentPopupAction&&Xo.currentPopupAction.cancel(),Xo.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return ie(t,this.auth,"internal-error"),t}async onExecution(){Rr(this.filter.length===1,"Popup operations only handle one event");const t=Hm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Jn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Jn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xo.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Jn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,xO.get())};t()}}Xo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AO="pendingRedirect",fc=new Map;class kO extends _C{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=fc.get(this.auth._key());if(!t){try{const r=await bO(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}fc.set(this.auth._key(),t)}return this.bypassAuthState||fc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function bO(e,t){const n=OO(t),r=NO(e);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function DO(e,t){fc.set(e._key(),t)}function NO(e){return gr(e._redirectPersistence)}function OO(e){return dc(AO,e.config.apiKey,e.name)}async function MO(e,t,n=!1){const r=Ls(e),i=TO(r,t),s=await new kO(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $O=10*60*1e3;class LO{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!VO(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!wC(t)){const i=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Jn(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=$O&&this.cachedEventUids.clear(),this.cachedEventUids.has(d_(t))}saveEventToCache(t){this.cachedEventUids.add(d_(t)),this.lastProcessedEventTime=Date.now()}}function d_(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function wC({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function VO(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wC(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FO(e,t={}){return ki(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jO=/^https?/;async function zO(e){if(e.config.emulator)return;const{authorizedDomains:t}=await FO(e);for(const n of t)try{if(BO(n))return}catch{}Fn(e,"unauthorized-domain")}function BO(e){const t=Zp(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const s=new URL(e);return s.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!jO.test(n))return!1;if(UO.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HO=new ql(3e4,6e4);function f_(){const e=Zn().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function WO(e){return new Promise((t,n)=>{var r,i,o;function s(){f_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{f_(),n(Jn(e,"network-request-failed"))},timeout:HO.get()})}if(!((i=(r=Zn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)t(gapi.iframes.getContext());else if(!((o=Zn().gapi)===null||o===void 0)&&o.load)s();else{const a=LN("iframefcb");return Zn()[a]=()=>{gapi.load?s():n(Jn(e,"network-request-failed"))},sC(`${$N()}?onload=${a}`).catch(l=>n(l))}}).catch(t=>{throw hc=null,t})}let hc=null;function GO(e){return hc=hc||WO(e),hc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qO=new ql(5e3,15e3),KO="__/auth/iframe",QO="emulator/auth/iframe",YO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},XO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function JO(e){const t=e.config;ie(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Fm(t,QO):`https://${e.config.authDomain}/${KO}`,r={apiKey:t.apiKey,appName:e.name,v:$s},i=XO.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Wl(r).slice(1)}`}async function ZO(e){const t=await GO(e),n=Zn().gapi;return ie(n,e,"internal-error"),t.open({where:document.body,url:JO(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:YO,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=Jn(e,"network-request-failed"),a=Zn().setTimeout(()=>{o(s)},qO.get());function l(){Zn().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},tM=500,nM=600,rM="_blank",iM="http://localhost";class h_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function oM(e,t,n,r=tM,i=nM){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},eM),{width:r.toString(),height:i.toString(),top:o,left:s}),u=ot().toLowerCase();n&&(a=Z1(u)?rM:n),J1(u)&&(t=t||iM,l.scrollbars="yes");const c=Object.entries(l).reduce((f,[h,y])=>`${f}${h}=${y},`,"");if(IN(u)&&a!=="_self")return sM(t||"",a),new h_(null);const d=window.open(t||"",a,c);ie(d,e,"popup-blocked");try{d.focus()}catch{}return new h_(d)}function sM(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aM="__/auth/handler",lM="emulator/auth/handler",uM=encodeURIComponent("fac");async function p_(e,t,n,r,i,o){ie(e.config.authDomain,e,"auth-domain-config-required"),ie(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:$s,eventId:i};if(t instanceof lC){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",qb(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[c,d]of Object.entries(o||{}))s[c]=d}if(t instanceof Kl){const c=t.getScopes().filter(d=>d!=="");c.length>0&&(s.scopes=c.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await e._getAppCheckToken(),u=l?`#${uM}=${encodeURIComponent(l)}`:"";return`${cM(e)}?${Wl(a).slice(1)}${u}`}function cM({config:e}){return e.emulator?Fm(e,lM):`https://${e.authDomain}/${aM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eh="webStorageSupport";class dM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pC,this._completeRedirectFn=MO,this._overrideRedirectResult=DO}async _openPopup(t,n,r,i){var o;Rr((o=this.eventManagers[t._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await p_(t,n,r,Zp(),i);return oM(t,s,Hm())}async _openRedirect(t,n,r,i){await this._originValidation(t);const o=await p_(t,n,r,Zp(),i);return pO(o),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Rr(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await ZO(t),r=new LO(t);return n.register("authEvent",i=>(ie(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Eh,{type:Eh},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[Eh];s!==void 0&&n(!!s),Fn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=zO(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return iC()||jm()||Bd()}}const fM=dM;var g_="@firebase/auth",m_="1.6.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pM(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function gM(e){_s(new ao("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;ie(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:oC(e)},u=new NN(r,i,o,l);return zN(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),_s(new ao("auth-internal",t=>{const n=Ls(t.getProvider("auth").getImmediate());return(r=>new hM(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),gi(g_,m_,pM(e)),gi(g_,m_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mM=5*60,vM=L1("authIdTokenMaxAge")||mM;let v_=null;const yM=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>vM)return;const i=n==null?void 0:n.token;v_!==i&&(v_=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function _M(e=z1()){const t=Lm(e,"auth");if(t.isInitialized())return t.getImmediate();const n=jN(e,{popupRedirectResolver:fM,persistence:[CO,dO,pC]}),r=L1("authTokenSyncURL");if(r&&r.match(/^\/[^\/].*/)){const o=yM(r);oO(n,o,()=>o(n.currentUser)),iO(n,s=>o(s))}const i=M1("auth");return i&&BN(n,`http://${i}`),n}function wM(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}ON({loadJS(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{const o=Jn("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",wM().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});gM("Browser");var EM="firebase",SM="10.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gi(EM,SM,"app");var CM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},F,Gm=Gm||{},oe=CM||self;function qd(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function Yl(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function TM(e){return Object.prototype.hasOwnProperty.call(e,Sh)&&e[Sh]||(e[Sh]=++RM)}var Sh="closure_uid_"+(1e9*Math.random()>>>0),RM=0;function IM(e,t,n){return e.call.apply(e.bind,arguments)}function PM(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function Ft(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ft=IM:Ft=PM,Ft.apply(null,arguments)}function Nu(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function _t(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return t.prototype[i].apply(r,s)}}function bi(){this.s=this.s,this.o=this.o}var xM=0;bi.prototype.s=!1;bi.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),xM!=0)&&TM(this)};bi.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const EC=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function qm(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function y_(e,t){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(qd(r)){const i=e.length||0,o=r.length||0;e.length=i+o;for(let s=0;s<o;s++)e[i+s]=r[s]}else e.push(r)}}function Ut(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Ut.prototype.h=function(){this.defaultPrevented=!0};var AM=function(){if(!oe.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const n=()=>{};oe.addEventListener("test",n,t),oe.removeEventListener("test",n,t)}catch{}return e}();function yl(e){return/^[\s\xa0]*$/.test(e)}function Kd(){var e=oe.navigator;return e&&(e=e.userAgent)?e:""}function qn(e){return Kd().indexOf(e)!=-1}function Km(e){return Km[" "](e),e}Km[" "]=function(){};function kM(e,t){var n=S$;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var bM=qn("Opera"),Es=qn("Trident")||qn("MSIE"),SC=qn("Edge"),tg=SC||Es,CC=qn("Gecko")&&!(Kd().toLowerCase().indexOf("webkit")!=-1&&!qn("Edge"))&&!(qn("Trident")||qn("MSIE"))&&!qn("Edge"),DM=Kd().toLowerCase().indexOf("webkit")!=-1&&!qn("Edge");function TC(){var e=oe.document;return e?e.documentMode:void 0}var ng;e:{var Ch="",Th=function(){var e=Kd();if(CC)return/rv:([^\);]+)(\)|;)/.exec(e);if(SC)return/Edge\/([\d\.]+)/.exec(e);if(Es)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(DM)return/WebKit\/(\S+)/.exec(e);if(bM)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(Th&&(Ch=Th?Th[1]:""),Es){var Rh=TC();if(Rh!=null&&Rh>parseFloat(Ch)){ng=String(Rh);break e}}ng=Ch}var rg;if(oe.document&&Es){var __=TC();rg=__||parseInt(ng,10)||void 0}else rg=void 0;var NM=rg;function _l(e,t){if(Ut.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(CC){e:{try{Km(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:OM[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&_l.$.h.call(this)}}_t(_l,Ut);var OM={2:"touch",3:"pen",4:"mouse"};_l.prototype.h=function(){_l.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Xl="closure_listenable_"+(1e6*Math.random()|0),MM=0;function $M(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++MM,this.fa=this.ia=!1}function Qd(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Qm(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function LM(e,t){for(const n in e)t.call(void 0,e[n],n,e)}function RC(e){const t={};for(const n in e)t[n]=e[n];return t}const w_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function IC(e,t){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(let o=0;o<w_.length;o++)n=w_[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Yd(e){this.src=e,this.g={},this.h=0}Yd.prototype.add=function(e,t,n,r,i){var o=e.toString();e=this.g[o],e||(e=this.g[o]=[],this.h++);var s=og(e,t,r,i);return-1<s?(t=e[s],n||(t.ia=!1)):(t=new $M(t,this.src,o,!!r,i),t.ia=n,e.push(t)),t};function ig(e,t){var n=t.type;if(n in e.g){var r=e.g[n],i=EC(r,t),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(Qd(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function og(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.fa&&o.listener==t&&o.capture==!!n&&o.la==r)return i}return-1}var Ym="closure_lm_"+(1e6*Math.random()|0),Ih={};function PC(e,t,n,r,i){if(r&&r.once)return AC(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)PC(e,t[o],n,r,i);return null}return n=Zm(n),e&&e[Xl]?e.O(t,n,Yl(r)?!!r.capture:!!r,i):xC(e,t,n,!1,r,i)}function xC(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=Yl(i)?!!i.capture:!!i,a=Jm(e);if(a||(e[Ym]=a=new Yd(e)),n=a.add(t,n,r,s,o),n.proxy)return n;if(r=VM(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)AM||(i=s),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(bC(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function VM(){function e(n){return t.call(e.src,e.listener,n)}const t=FM;return e}function AC(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)AC(e,t[o],n,r,i);return null}return n=Zm(n),e&&e[Xl]?e.P(t,n,Yl(r)?!!r.capture:!!r,i):xC(e,t,n,!0,r,i)}function kC(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)kC(e,t[o],n,r,i);else r=Yl(r)?!!r.capture:!!r,n=Zm(n),e&&e[Xl]?(e=e.i,t=String(t).toString(),t in e.g&&(o=e.g[t],n=og(o,n,r,i),-1<n&&(Qd(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete e.g[t],e.h--)))):e&&(e=Jm(e))&&(t=e.g[t.toString()],e=-1,t&&(e=og(t,n,r,i)),(n=-1<e?t[e]:null)&&Xm(n))}function Xm(e){if(typeof e!="number"&&e&&!e.fa){var t=e.src;if(t&&t[Xl])ig(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(bC(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Jm(t))?(ig(n,e),n.h==0&&(n.src=null,t[Ym]=null)):Qd(e)}}}function bC(e){return e in Ih?Ih[e]:Ih[e]="on"+e}function FM(e,t){if(e.fa)e=!0;else{t=new _l(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Xm(e),e=n.call(r,t)}return e}function Jm(e){return e=e[Ym],e instanceof Yd?e:null}var Ph="__closure_events_fn_"+(1e9*Math.random()>>>0);function Zm(e){return typeof e=="function"?e:(e[Ph]||(e[Ph]=function(t){return e.handleEvent(t)}),e[Ph])}function yt(){bi.call(this),this.i=new Yd(this),this.S=this,this.J=null}_t(yt,bi);yt.prototype[Xl]=!0;yt.prototype.removeEventListener=function(e,t,n,r){kC(this,e,t,n,r)};function xt(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,typeof t=="string")t=new Ut(t,e);else if(t instanceof Ut)t.target=t.target||e;else{var i=t;t=new Ut(r,e),IC(t,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.g=n[o];i=Ou(s,r,!0,t)&&i}if(s=t.g=e,i=Ou(s,r,!0,t)&&i,i=Ou(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)s=t.g=n[o],i=Ou(s,r,!1,t)&&i}yt.prototype.N=function(){if(yt.$.N.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)Qd(n[r]);delete e.g[t],e.h--}}this.J=null};yt.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};yt.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function Ou(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,l=s.la||s.src;s.ia&&ig(e.i,s),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var ev=oe.JSON.stringify;class UM{constructor(t,n){this.i=t,this.j=n,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}function jM(){var e=tv;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class zM{constructor(){this.h=this.g=null}add(t,n){const r=DC.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r}}var DC=new UM(()=>new BM,e=>e.reset());class BM{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function HM(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function WM(e){oe.setTimeout(()=>{throw e},0)}let wl,El=!1,tv=new zM,NC=()=>{const e=oe.Promise.resolve(void 0);wl=()=>{e.then(GM)}};var GM=()=>{for(var e;e=jM();){try{e.h.call(e.g)}catch(n){WM(n)}var t=DC;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}El=!1};function Xd(e,t){yt.call(this),this.h=e||1,this.g=t||oe,this.j=Ft(this.qb,this),this.l=Date.now()}_t(Xd,yt);F=Xd.prototype;F.ga=!1;F.T=null;F.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),xt(this,"tick"),this.ga&&(nv(this),this.start()))}};F.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function nv(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}F.N=function(){Xd.$.N.call(this),nv(this),delete this.g};function rv(e,t,n){if(typeof e=="function")n&&(e=Ft(e,n));else if(e&&typeof e.handleEvent=="function")e=Ft(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:oe.setTimeout(e,t||0)}function OC(e){e.g=rv(()=>{e.g=null,e.i&&(e.i=!1,OC(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class qM extends bi{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:OC(this)}N(){super.N(),this.g&&(oe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Sl(e){bi.call(this),this.h=e,this.g={}}_t(Sl,bi);var E_=[];function MC(e,t,n,r){Array.isArray(n)||(n&&(E_[0]=n.toString()),n=E_);for(var i=0;i<n.length;i++){var o=PC(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function $C(e){Qm(e.g,function(t,n){this.g.hasOwnProperty(n)&&Xm(t)},e),e.g={}}Sl.prototype.N=function(){Sl.$.N.call(this),$C(this)};Sl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Jd(){this.g=!0}Jd.prototype.Ea=function(){this.g=!1};function KM(e,t,n,r,i,o){e.info(function(){if(e.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");s=2<=d.length&&d[1]=="type"?s+(c+"="+u+"&"):s+(c+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+s})}function QM(e,t,n,r,i,o,s){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+o+" "+s})}function Jo(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+XM(e,n)+(r?" "+r:"")})}function YM(e,t){e.info(function(){return"TIMEOUT: "+t})}Jd.prototype.info=function(){};function XM(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return ev(n)}catch{return t}}var wo={},S_=null;function Zd(){return S_=S_||new yt}wo.Ta="serverreachability";function LC(e){Ut.call(this,wo.Ta,e)}_t(LC,Ut);function Cl(e){const t=Zd();xt(t,new LC(t))}wo.STAT_EVENT="statevent";function VC(e,t){Ut.call(this,wo.STAT_EVENT,e),this.stat=t}_t(VC,Ut);function Wt(e){const t=Zd();xt(t,new VC(t,e))}wo.Ua="timingevent";function FC(e,t){Ut.call(this,wo.Ua,e),this.size=t}_t(FC,Ut);function Jl(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return oe.setTimeout(function(){e()},t)}var ef={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},UC={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function iv(){}iv.prototype.h=null;function C_(e){return e.h||(e.h=e.i())}function jC(){}var Zl={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function ov(){Ut.call(this,"d")}_t(ov,Ut);function sv(){Ut.call(this,"c")}_t(sv,Ut);var sg;function tf(){}_t(tf,iv);tf.prototype.g=function(){return new XMLHttpRequest};tf.prototype.i=function(){return{}};sg=new tf;function eu(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Sl(this),this.P=JM,e=tg?125:void 0,this.V=new Xd(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new zC}function zC(){this.i=null,this.g="",this.h=!1}var JM=45e3,BC={},ag={};F=eu.prototype;F.setTimeout=function(e){this.P=e};function lg(e,t,n){e.L=1,e.A=rf(Ir(t)),e.u=n,e.S=!0,HC(e,null)}function HC(e,t){e.G=Date.now(),tu(e),e.B=Ir(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),JC(n.i,"t",r),e.o=0,n=e.l.J,e.h=new zC,e.g=_T(e.l,n?t:null,!e.u),0<e.O&&(e.M=new qM(Ft(e.Pa,e,e.g),e.O)),MC(e.U,e.g,"readystatechange",e.nb),t=e.I?RC(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),Cl(),KM(e.j,e.v,e.B,e.m,e.W,e.u)}F.nb=function(e){e=e.target;const t=this.M;t&&Kn(e)==3?t.l():this.Pa(e)};F.Pa=function(e){try{if(e==this.g)e:{const c=Kn(this.g);var t=this.g.Ia();const d=this.g.da();if(!(3>c)&&(c!=3||tg||this.g&&(this.h.h||this.g.ja()||P_(this.g)))){this.J||c!=4||t==7||(t==8||0>=d?Cl(3):Cl(2)),nf(this);var n=this.g.da();this.ca=n;t:if(WC(this)){var r=P_(this.g);e="";var i=r.length,o=Kn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Wi(this),ja(this);var s="";break t}this.h.i=new oe.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:o&&t==i-1});r.length=0,this.h.g+=e,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=n==200,QM(this.j,this.v,this.B,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!yl(a)){var u=a;break t}}u=null}if(n=u)Jo(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ug(this,n);else{this.i=!1,this.s=3,Wt(12),Wi(this),ja(this);break e}}this.S?(GC(this,c,s),tg&&this.i&&c==3&&(MC(this.U,this.V,"tick",this.mb),this.V.start())):(Jo(this.j,this.m,s,null),ug(this,s)),c==4&&Wi(this),this.i&&!this.J&&(c==4?gT(this.l,this):(this.i=!1,tu(this)))}else _$(this.g),n==400&&0<s.indexOf("Unknown SID")?(this.s=3,Wt(12)):(this.s=0,Wt(13)),Wi(this),ja(this)}}}catch{}finally{}};function WC(e){return e.g?e.v=="GET"&&e.L!=2&&e.l.Ha:!1}function GC(e,t,n){let r=!0,i;for(;!e.J&&e.o<n.length;)if(i=ZM(e,n),i==ag){t==4&&(e.s=4,Wt(14),r=!1),Jo(e.j,e.m,null,"[Incomplete Response]");break}else if(i==BC){e.s=4,Wt(15),Jo(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else Jo(e.j,e.m,i,null),ug(e,i);WC(e)&&e.o!=0&&(e.h.g=e.h.g.slice(e.o),e.o=0),t!=4||n.length!=0||e.h.h||(e.s=1,Wt(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.ba&&(e.ba=!0,t=e.l,t.g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),fv(t),t.M=!0,Wt(11))):(Jo(e.j,e.m,n,"[Invalid Chunked Response]"),Wi(e),ja(e))}F.mb=function(){if(this.g){var e=Kn(this.g),t=this.g.ja();this.o<t.length&&(nf(this),GC(this,e,t),this.i&&e!=4&&tu(this))}};function ZM(e,t){var n=e.o,r=t.indexOf(`
`,n);return r==-1?ag:(n=Number(t.substring(n,r)),isNaN(n)?BC:(r+=1,r+n>t.length?ag:(t=t.slice(r,r+n),e.o=r+n,t)))}F.cancel=function(){this.J=!0,Wi(this)};function tu(e){e.Y=Date.now()+e.P,qC(e,e.P)}function qC(e,t){if(e.C!=null)throw Error("WatchDog timer not null");e.C=Jl(Ft(e.lb,e),t)}function nf(e){e.C&&(oe.clearTimeout(e.C),e.C=null)}F.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(YM(this.j,this.B),this.L!=2&&(Cl(),Wt(17)),Wi(this),this.s=2,ja(this)):qC(this,this.Y-e)};function ja(e){e.l.H==0||e.J||gT(e.l,e)}function Wi(e){nf(e);var t=e.M;t&&typeof t.sa=="function"&&t.sa(),e.M=null,nv(e.V),$C(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function ug(e,t){try{var n=e.l;if(n.H!=0&&(n.g==e||cg(n.i,e))){if(!e.K&&cg(n.i,e)&&n.H==3){try{var r=n.Ja.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<e.G)rd(n),lf(n);else break e;dv(n),Wt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Jl(Ft(n.ib,n),6e3));if(1>=tT(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Gi(n,11)}else if((e.K||n.g==e)&&rd(n),!yl(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const f=u[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const y=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(y){var o=r.i;o.g||y.indexOf("spdy")==-1&&y.indexOf("quic")==-1&&y.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(av(o,o.h),o.h=null))}if(r.F){const v=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;v&&(r.Da=v,Fe(r.I,r.F,v))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var s=e;if(r.wa=yT(r,r.J?r.pa:null,r.Y),s.K){nT(r.i,s);var a=s,l=r.L;l&&a.setTimeout(l),a.C&&(nf(a),tu(a)),r.g=s}else hT(r);0<n.j.length&&uf(n)}else u[0]!="stop"&&u[0]!="close"||Gi(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Gi(n,7):cv(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Cl(4)}catch{}}function e$(e){if(e.Z&&typeof e.Z=="function")return e.Z();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(qd(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function t$(e){if(e.ta&&typeof e.ta=="function")return e.ta();if(!e.Z||typeof e.Z!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(qd(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}function KC(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(qd(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=t$(e),r=e$(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}var QC=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function n$(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Zi(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Zi){this.h=e.h,td(this,e.j),this.s=e.s,this.g=e.g,nd(this,e.m),this.l=e.l;var t=e.i,n=new Tl;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),T_(this,n),this.o=e.o}else e&&(t=String(e).match(QC))?(this.h=!1,td(this,t[1]||"",!0),this.s=Ia(t[2]||""),this.g=Ia(t[3]||"",!0),nd(this,t[4]),this.l=Ia(t[5]||"",!0),T_(this,t[6]||"",!0),this.o=Ia(t[7]||"")):(this.h=!1,this.i=new Tl(null,this.h))}Zi.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Pa(t,R_,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(Pa(t,R_,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(Pa(n,n.charAt(0)=="/"?o$:i$,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Pa(n,a$)),e.join("")};function Ir(e){return new Zi(e)}function td(e,t,n){e.j=n?Ia(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function nd(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function T_(e,t,n){t instanceof Tl?(e.i=t,l$(e.i,e.h)):(n||(t=Pa(t,s$)),e.i=new Tl(t,e.h))}function Fe(e,t,n){e.i.set(t,n)}function rf(e){return Fe(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Ia(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Pa(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,r$),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function r$(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var R_=/[#\/\?@]/g,i$=/[#\?:]/g,o$=/[#\?]/g,s$=/[#\?@]/g,a$=/#/g;function Tl(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Di(e){e.g||(e.g=new Map,e.h=0,e.i&&n$(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}F=Tl.prototype;F.add=function(e,t){Di(this),this.i=null,e=Fs(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function YC(e,t){Di(e),t=Fs(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function XC(e,t){return Di(e),t=Fs(e,t),e.g.has(t)}F.forEach=function(e,t){Di(this),this.g.forEach(function(n,r){n.forEach(function(i){e.call(t,i,r,this)},this)},this)};F.ta=function(){Di(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let o=0;o<i.length;o++)n.push(t[r])}return n};F.Z=function(e){Di(this);let t=[];if(typeof e=="string")XC(this,e)&&(t=t.concat(this.g.get(Fs(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};F.set=function(e,t){return Di(this),this.i=null,e=Fs(this,e),XC(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};F.get=function(e,t){return e?(e=this.Z(e),0<e.length?String(e[0]):t):t};function JC(e,t,n){YC(e,t),0<n.length&&(e.i=null,e.g.set(Fs(e,t),qm(n)),e.h+=n.length)}F.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;s[r]!==""&&(i+="="+encodeURIComponent(String(s[r]))),e.push(i)}}return this.i=e.join("&")};function Fs(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function l$(e,t){t&&!e.j&&(Di(e),e.i=null,e.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(YC(this,r),JC(this,i,n))},e)),e.j=t}var u$=class{constructor(e,t){this.g=e,this.map=t}};function ZC(e){this.l=e||c$,oe.PerformanceNavigationTiming?(e=oe.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(oe.g&&oe.g.Ka&&oe.g.Ka()&&oe.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var c$=10;function eT(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function tT(e){return e.h?1:e.g?e.g.size:0}function cg(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function av(e,t){e.g?e.g.add(t):e.h=t}function nT(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}ZC.prototype.cancel=function(){if(this.i=rT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function rT(e){if(e.h!=null)return e.i.concat(e.h.F);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return qm(e.i)}var d$=class{stringify(e){return oe.JSON.stringify(e,void 0)}parse(e){return oe.JSON.parse(e,void 0)}};function f$(){this.g=new d$}function h$(e,t,n){const r=n||"";try{KC(e,function(i,o){let s=i;Yl(i)&&(s=ev(i)),t.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function p$(e,t){const n=new Jd;if(oe.Image){const r=new Image;r.onload=Nu(Mu,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Nu(Mu,n,r,"TestLoadImage: error",!1,t),r.onabort=Nu(Mu,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Nu(Mu,n,r,"TestLoadImage: timeout",!1,t),oe.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function Mu(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function of(e){this.l=e.ec||null,this.j=e.ob||!1}_t(of,iv);of.prototype.g=function(){return new sf(this.l,this.j)};of.prototype.i=function(e){return function(){return e}}({});function sf(e,t){yt.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=lv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}_t(sf,yt);var lv=0;F=sf.prototype;F.open=function(e,t){if(this.readyState!=lv)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Rl(this)};F.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||oe).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};F.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,nu(this)),this.readyState=lv};F.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Rl(this)),this.g&&(this.readyState=3,Rl(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof oe.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;iT(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))};function iT(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}F.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?nu(this):Rl(this),this.readyState==3&&iT(this)}};F.Za=function(e){this.g&&(this.response=this.responseText=e,nu(this))};F.Ya=function(e){this.g&&(this.response=e,nu(this))};F.ka=function(){this.g&&nu(this)};function nu(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Rl(e)}F.setRequestHeader=function(e,t){this.v.append(e,t)};F.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};F.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function Rl(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(sf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var g$=oe.JSON.parse;function Xe(e){yt.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=oT,this.L=this.M=!1}_t(Xe,yt);var oT="",m$=/^https?$/i,v$=["POST","PUT"];F=Xe.prototype;F.Oa=function(e){this.M=e};F.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():sg.g(),this.C=this.u?C_(this.u):C_(sg),this.g.onreadystatechange=Ft(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(o){I_(this,o);return}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),i=oe.FormData&&e instanceof oe.FormData,!(0<=EC(v$,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{lT(this),0<this.B&&((this.L=y$(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ft(this.ua,this)):this.A=rv(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){I_(this,o)}};function y$(e){return Es&&typeof e.timeout=="number"&&e.ontimeout!==void 0}F.ua=function(){typeof Gm<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,xt(this,"timeout"),this.abort(8))};function I_(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,sT(e),af(e)}function sT(e){e.F||(e.F=!0,xt(e,"complete"),xt(e,"error"))}F.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,xt(this,"complete"),xt(this,"abort"),af(this))};F.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),af(this,!0)),Xe.$.N.call(this)};F.La=function(){this.s||(this.G||this.v||this.l?aT(this):this.kb())};F.kb=function(){aT(this)};function aT(e){if(e.h&&typeof Gm<"u"&&(!e.C[1]||Kn(e)!=4||e.da()!=2)){if(e.v&&Kn(e)==4)rv(e.La,0,e);else if(xt(e,"readystatechange"),Kn(e)==4){e.h=!1;try{const s=e.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=s===0){var i=String(e.I).match(QC)[1]||null;!i&&oe.self&&oe.self.location&&(i=oe.self.location.protocol.slice(0,-1)),r=!m$.test(i?i.toLowerCase():"")}n=r}if(n)xt(e,"complete"),xt(e,"success");else{e.m=6;try{var o=2<Kn(e)?e.g.statusText:""}catch{o=""}e.j=o+" ["+e.da()+"]",sT(e)}}finally{af(e)}}}}function af(e,t){if(e.g){lT(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||xt(e,"ready");try{n.onreadystatechange=r}catch{}}}function lT(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(oe.clearTimeout(e.A),e.A=null)}F.isActive=function(){return!!this.g};function Kn(e){return e.g?e.g.readyState:0}F.da=function(){try{return 2<Kn(this)?this.g.status:-1}catch{return-1}};F.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};F.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),g$(t)}};function P_(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case oT:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function _$(e){const t={};e=(e.g&&2<=Kn(e)&&e.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<e.length;r++){if(yl(e[r]))continue;var n=HM(e[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}LM(t,function(r){return r.join(", ")})}F.Ia=function(){return this.m};F.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function uT(e){let t="";return Qm(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function uv(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=uT(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):Fe(e,t,n))}function da(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function cT(e){this.Ga=0,this.j=[],this.l=new Jd,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=da("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=da("baseRetryDelayMs",5e3,e),this.hb=da("retryDelaySeedMs",1e4,e),this.eb=da("forwardChannelMaxRetries",2,e),this.xa=da("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new ZC(e&&e.concurrentRequestLimit),this.Ja=new f$,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}F=cT.prototype;F.ra=8;F.H=1;function cv(e){if(dT(e),e.H==3){var t=e.W++,n=Ir(e.I);if(Fe(n,"SID",e.K),Fe(n,"RID",t),Fe(n,"TYPE","terminate"),ru(e,n),t=new eu(e,e.l,t),t.L=2,t.A=rf(Ir(n)),n=!1,oe.navigator&&oe.navigator.sendBeacon)try{n=oe.navigator.sendBeacon(t.A.toString(),"")}catch{}!n&&oe.Image&&(new Image().src=t.A,n=!0),n||(t.g=_T(t.l,null),t.g.ha(t.A)),t.G=Date.now(),tu(t)}vT(e)}function lf(e){e.g&&(fv(e),e.g.cancel(),e.g=null)}function dT(e){lf(e),e.u&&(oe.clearTimeout(e.u),e.u=null),rd(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&oe.clearTimeout(e.m),e.m=null)}function uf(e){if(!eT(e.i)&&!e.m){e.m=!0;var t=e.Na;wl||NC(),El||(wl(),El=!0),tv.add(t,e),e.C=0}}function w$(e,t){return tT(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.j=t.F.concat(e.j),!0):e.H==1||e.H==2||e.C>=(e.cb?0:e.eb)?!1:(e.m=Jl(Ft(e.Na,e,t),mT(e,e.C)),e.C++,!0)}F.Na=function(e){if(this.m)if(this.m=null,this.H==1){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new eu(this,this.l,e);let o=this.s;if(this.U&&(o?(o=RC(o),IC(o,this.U)):o=this.U),this.o!==null||this.O||(i.I=o,o=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(t+=r,4096<t){t=n;break e}if(t===4096||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=fT(this,i,t),n=Ir(this.I),Fe(n,"RID",e),Fe(n,"CVER",22),this.F&&Fe(n,"X-HTTP-Session-Id",this.F),ru(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(uT(o)))+"&"+t:this.o&&uv(n,this.o,o)),av(this.i,i),this.bb&&Fe(n,"TYPE","init"),this.P?(Fe(n,"$req",t),Fe(n,"SID","null"),i.aa=!0,lg(i,n,null)):lg(i,n,t),this.H=2}}else this.H==3&&(e?x_(this,e):this.j.length==0||eT(this.i)||x_(this))};function x_(e,t){var n;t?n=t.m:n=e.W++;const r=Ir(e.I);Fe(r,"SID",e.K),Fe(r,"RID",n),Fe(r,"AID",e.V),ru(e,r),e.o&&e.s&&uv(r,e.o,e.s),n=new eu(e,e.l,n,e.C+1),e.o===null&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=fT(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),av(e.i,n),lg(n,r,t)}function ru(e,t){e.na&&Qm(e.na,function(n,r){Fe(t,r,n)}),e.h&&KC({},function(n,r){Fe(t,r,n)})}function fT(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Ft(e.h.Va,e.h,e):null;e:{var i=e.j;let o=-1;for(;;){const s=["count="+n];o==-1?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=o,0>u)o=Math.max(0,i[l].g-100),a=!1;else try{h$(c,s,"req"+u+"_")}catch{r&&r(c)}}if(a){r=s.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function hT(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;wl||NC(),El||(wl(),El=!0),tv.add(t,e),e.A=0}}function dv(e){return e.g||e.u||3<=e.A?!1:(e.ba++,e.u=Jl(Ft(e.Ma,e),mT(e,e.A)),e.A++,!0)}F.Ma=function(){if(this.u=null,pT(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Jl(Ft(this.jb,this),e)}};F.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Wt(10),lf(this),pT(this))};function fv(e){e.B!=null&&(oe.clearTimeout(e.B),e.B=null)}function pT(e){e.g=new eu(e,e.l,"rpc",e.ba),e.o===null&&(e.g.I=e.s),e.g.O=0;var t=Ir(e.wa);Fe(t,"RID","rpc"),Fe(t,"SID",e.K),Fe(t,"AID",e.V),Fe(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Fe(t,"TO",e.qa),Fe(t,"TYPE","xmlhttp"),ru(e,t),e.o&&e.s&&uv(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=rf(Ir(t)),n.u=null,n.S=!0,HC(n,e)}F.ib=function(){this.v!=null&&(this.v=null,lf(this),dv(this),Wt(19))};function rd(e){e.v!=null&&(oe.clearTimeout(e.v),e.v=null)}function gT(e,t){var n=null;if(e.g==t){rd(e),fv(e),e.g=null;var r=2}else if(cg(e.i,t))n=t.F,nT(e.i,t),r=1;else return;if(e.H!=0){if(t.i)if(r==1){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;r=Zd(),xt(r,new FC(r,n)),uf(e)}else hT(e);else if(i=t.s,i==3||i==0&&0<t.ca||!(r==1&&w$(e,t)||r==2&&dv(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Gi(e,5);break;case 4:Gi(e,10);break;case 3:Gi(e,6);break;default:Gi(e,2)}}}function mT(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Gi(e,t){if(e.l.info("Error code "+t),t==2){var n=null;e.h&&(n=null);var r=Ft(e.pb,e);n||(n=new Zi("//www.google.com/images/cleardot.gif"),oe.location&&oe.location.protocol=="http"||td(n,"https"),rf(n)),p$(n.toString(),r)}else Wt(2);e.H=0,e.h&&e.h.za(t),vT(e),dT(e)}F.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Wt(2)):(this.l.info("Failed to ping google.com"),Wt(1))};function vT(e){if(e.H=0,e.ma=[],e.h){const t=rT(e.i);(t.length!=0||e.j.length!=0)&&(y_(e.ma,t),y_(e.ma,e.j),e.i.i.length=0,qm(e.j),e.j.length=0),e.h.ya()}}function yT(e,t,n){var r=n instanceof Zi?Ir(n):new Zi(n);if(r.g!="")t&&(r.g=t+"."+r.g),nd(r,r.m);else{var i=oe.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var o=new Zi(null);r&&td(o,r),t&&(o.g=t),i&&nd(o,i),n&&(o.l=n),r=o}return n=e.F,t=e.Da,n&&t&&Fe(r,n,t),Fe(r,"VER",e.ra),ru(e,r),r}function _T(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=e.Ha&&!e.va?new Xe(new of({ob:n})):new Xe(e.va),t.Oa(e.J),t}F.isActive=function(){return!!this.h&&this.h.isActive(this)};function wT(){}F=wT.prototype;F.Ba=function(){};F.Aa=function(){};F.za=function(){};F.ya=function(){};F.isActive=function(){return!0};F.Va=function(){};function id(){if(Es&&!(10<=Number(NM)))throw Error("Environmental error: no available transport.")}id.prototype.g=function(e,t){return new hn(e,t)};function hn(e,t){yt.call(this),this.g=new cT(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!yl(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!yl(t)&&(this.g.F=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Us(this)}_t(hn,yt);hn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Wt(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=yT(e,null,e.Y),uf(e)};hn.prototype.close=function(){cv(this.g)};hn.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=ev(e),e=n);t.j.push(new u$(t.fb++,e)),t.H==3&&uf(t)};hn.prototype.N=function(){this.g.h=null,delete this.j,cv(this.g),delete this.g,hn.$.N.call(this)};function ET(e){ov.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}_t(ET,ov);function ST(){sv.call(this),this.status=1}_t(ST,sv);function Us(e){this.g=e}_t(Us,wT);Us.prototype.Ba=function(){xt(this.g,"a")};Us.prototype.Aa=function(e){xt(this.g,new ET(e))};Us.prototype.za=function(e){xt(this.g,new ST)};Us.prototype.ya=function(){xt(this.g,"b")};function E$(){this.blockSize=-1}function Un(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}_t(Un,E$);Un.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function xh(e,t,n){n||(n=0);var r=Array(16);if(typeof t=="string")for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],s=t+(o^n&(i^o))+r[0]+3614090360&4294967295;t=n+(s<<7&4294967295|s>>>25),s=o+(i^t&(n^i))+r[1]+3905402710&4294967295,o=t+(s<<12&4294967295|s>>>20),s=i+(n^o&(t^n))+r[2]+606105819&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(t^i&(o^t))+r[3]+3250441966&4294967295,n=i+(s<<22&4294967295|s>>>10),s=t+(o^n&(i^o))+r[4]+4118548399&4294967295,t=n+(s<<7&4294967295|s>>>25),s=o+(i^t&(n^i))+r[5]+1200080426&4294967295,o=t+(s<<12&4294967295|s>>>20),s=i+(n^o&(t^n))+r[6]+2821735955&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(t^i&(o^t))+r[7]+4249261313&4294967295,n=i+(s<<22&4294967295|s>>>10),s=t+(o^n&(i^o))+r[8]+1770035416&4294967295,t=n+(s<<7&4294967295|s>>>25),s=o+(i^t&(n^i))+r[9]+2336552879&4294967295,o=t+(s<<12&4294967295|s>>>20),s=i+(n^o&(t^n))+r[10]+4294925233&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(t^i&(o^t))+r[11]+2304563134&4294967295,n=i+(s<<22&4294967295|s>>>10),s=t+(o^n&(i^o))+r[12]+1804603682&4294967295,t=n+(s<<7&4294967295|s>>>25),s=o+(i^t&(n^i))+r[13]+4254626195&4294967295,o=t+(s<<12&4294967295|s>>>20),s=i+(n^o&(t^n))+r[14]+2792965006&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(t^i&(o^t))+r[15]+1236535329&4294967295,n=i+(s<<22&4294967295|s>>>10),s=t+(i^o&(n^i))+r[1]+4129170786&4294967295,t=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(t^n))+r[6]+3225465664&4294967295,o=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(o^t))+r[11]+643717713&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^t&(i^o))+r[0]+3921069994&4294967295,n=i+(s<<20&4294967295|s>>>12),s=t+(i^o&(n^i))+r[5]+3593408605&4294967295,t=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(t^n))+r[10]+38016083&4294967295,o=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(o^t))+r[15]+3634488961&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^t&(i^o))+r[4]+3889429448&4294967295,n=i+(s<<20&4294967295|s>>>12),s=t+(i^o&(n^i))+r[9]+568446438&4294967295,t=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(t^n))+r[14]+3275163606&4294967295,o=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(o^t))+r[3]+4107603335&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^t&(i^o))+r[8]+1163531501&4294967295,n=i+(s<<20&4294967295|s>>>12),s=t+(i^o&(n^i))+r[13]+2850285829&4294967295,t=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(t^n))+r[2]+4243563512&4294967295,o=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(o^t))+r[7]+1735328473&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^t&(i^o))+r[12]+2368359562&4294967295,n=i+(s<<20&4294967295|s>>>12),s=t+(n^i^o)+r[5]+4294588738&4294967295,t=n+(s<<4&4294967295|s>>>28),s=o+(t^n^i)+r[8]+2272392833&4294967295,o=t+(s<<11&4294967295|s>>>21),s=i+(o^t^n)+r[11]+1839030562&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^t)+r[14]+4259657740&4294967295,n=i+(s<<23&4294967295|s>>>9),s=t+(n^i^o)+r[1]+2763975236&4294967295,t=n+(s<<4&4294967295|s>>>28),s=o+(t^n^i)+r[4]+1272893353&4294967295,o=t+(s<<11&4294967295|s>>>21),s=i+(o^t^n)+r[7]+4139469664&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^t)+r[10]+3200236656&4294967295,n=i+(s<<23&4294967295|s>>>9),s=t+(n^i^o)+r[13]+681279174&4294967295,t=n+(s<<4&4294967295|s>>>28),s=o+(t^n^i)+r[0]+3936430074&4294967295,o=t+(s<<11&4294967295|s>>>21),s=i+(o^t^n)+r[3]+3572445317&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^t)+r[6]+76029189&4294967295,n=i+(s<<23&4294967295|s>>>9),s=t+(n^i^o)+r[9]+3654602809&4294967295,t=n+(s<<4&4294967295|s>>>28),s=o+(t^n^i)+r[12]+3873151461&4294967295,o=t+(s<<11&4294967295|s>>>21),s=i+(o^t^n)+r[15]+530742520&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^t)+r[2]+3299628645&4294967295,n=i+(s<<23&4294967295|s>>>9),s=t+(i^(n|~o))+r[0]+4096336452&4294967295,t=n+(s<<6&4294967295|s>>>26),s=o+(n^(t|~i))+r[7]+1126891415&4294967295,o=t+(s<<10&4294967295|s>>>22),s=i+(t^(o|~n))+r[14]+2878612391&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~t))+r[5]+4237533241&4294967295,n=i+(s<<21&4294967295|s>>>11),s=t+(i^(n|~o))+r[12]+1700485571&4294967295,t=n+(s<<6&4294967295|s>>>26),s=o+(n^(t|~i))+r[3]+2399980690&4294967295,o=t+(s<<10&4294967295|s>>>22),s=i+(t^(o|~n))+r[10]+4293915773&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~t))+r[1]+2240044497&4294967295,n=i+(s<<21&4294967295|s>>>11),s=t+(i^(n|~o))+r[8]+1873313359&4294967295,t=n+(s<<6&4294967295|s>>>26),s=o+(n^(t|~i))+r[15]+4264355552&4294967295,o=t+(s<<10&4294967295|s>>>22),s=i+(t^(o|~n))+r[6]+2734768916&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~t))+r[13]+1309151649&4294967295,n=i+(s<<21&4294967295|s>>>11),s=t+(i^(n|~o))+r[4]+4149444226&4294967295,t=n+(s<<6&4294967295|s>>>26),s=o+(n^(t|~i))+r[11]+3174756917&4294967295,o=t+(s<<10&4294967295|s>>>22),s=i+(t^(o|~n))+r[2]+718787259&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}Un.prototype.j=function(e,t){t===void 0&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,o=0;o<t;){if(i==0)for(;o<=n;)xh(this,e,o),o+=this.blockSize;if(typeof e=="string"){for(;o<t;)if(r[i++]=e.charCodeAt(o++),i==this.blockSize){xh(this,r),i=0;break}}else for(;o<t;)if(r[i++]=e[o++],i==this.blockSize){xh(this,r),i=0;break}}this.h=i,this.i+=t};Un.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=n&255,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};function xe(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=e[i]|0;r&&o==t||(n[i]=o,r=!1)}this.g=n}var S$={};function hv(e){return-128<=e&&128>e?kM(e,function(t){return new xe([t|0],0>t?-1:0)}):new xe([e|0],0>e?-1:0)}function Qn(e){if(isNaN(e)||!isFinite(e))return as;if(0>e)return Rt(Qn(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=dg;return new xe(t,0)}function CT(e,t){if(e.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(e.charAt(0)=="-")return Rt(CT(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Qn(Math.pow(t,8)),r=as,i=0;i<e.length;i+=8){var o=Math.min(8,e.length-i),s=parseInt(e.substring(i,i+o),t);8>o?(o=Qn(Math.pow(t,o)),r=r.R(o).add(Qn(s))):(r=r.R(n),r=r.add(Qn(s)))}return r}var dg=4294967296,as=hv(0),fg=hv(1),A_=hv(16777216);F=xe.prototype;F.ea=function(){if(En(this))return-Rt(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:dg+r)*t,t*=dg}return e};F.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(mr(this))return"0";if(En(this))return"-"+Rt(this).toString(e);for(var t=Qn(Math.pow(e,6)),n=this,r="";;){var i=sd(n,t).g;n=od(n,i.R(t));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(e);if(n=i,mr(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}};F.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h};function mr(e){if(e.h!=0)return!1;for(var t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function En(e){return e.h==-1}F.X=function(e){return e=od(this,e),En(e)?-1:mr(e)?0:1};function Rt(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new xe(n,~e.h).add(fg)}F.abs=function(){return En(this)?Rt(this):this};F.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var o=r+(this.D(i)&65535)+(e.D(i)&65535),s=(o>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new xe(n,n[n.length-1]&-2147483648?-1:0)};function od(e,t){return e.add(Rt(t))}F.R=function(e){if(mr(this)||mr(e))return as;if(En(this))return En(e)?Rt(this).R(Rt(e)):Rt(Rt(this).R(e));if(En(e))return Rt(this.R(Rt(e)));if(0>this.X(A_)&&0>e.X(A_))return Qn(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var o=this.D(r)>>>16,s=this.D(r)&65535,a=e.D(i)>>>16,l=e.D(i)&65535;n[2*r+2*i]+=s*l,$u(n,2*r+2*i),n[2*r+2*i+1]+=o*l,$u(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,$u(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,$u(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new xe(n,0)};function $u(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function fa(e,t){this.g=e,this.h=t}function sd(e,t){if(mr(t))throw Error("division by zero");if(mr(e))return new fa(as,as);if(En(e))return t=sd(Rt(e),t),new fa(Rt(t.g),Rt(t.h));if(En(t))return t=sd(e,Rt(t)),new fa(Rt(t.g),t.h);if(30<e.g.length){if(En(e)||En(t))throw Error("slowDivide_ only works with positive integers.");for(var n=fg,r=t;0>=r.X(e);)n=k_(n),r=k_(r);var i=Ao(n,1),o=Ao(r,1);for(r=Ao(r,2),n=Ao(n,2);!mr(r);){var s=o.add(r);0>=s.X(e)&&(i=i.add(n),o=s),r=Ao(r,1),n=Ao(n,1)}return t=od(e,i.R(t)),new fa(i,t)}for(i=as;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=Qn(n),s=o.R(t);En(s)||0<s.X(e);)n-=r,o=Qn(n),s=o.R(t);mr(o)&&(o=fg),i=i.add(o),e=od(e,s)}return new fa(i,e)}F.gb=function(e){return sd(this,e).h};F.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new xe(n,this.h&e.h)};F.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new xe(n,this.h|e.h)};F.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new xe(n,this.h^e.h)};function k_(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new xe(n,e.h)}function Ao(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],o=0;o<r;o++)i[o]=0<t?e.D(o+n)>>>t|e.D(o+n+1)<<32-t:e.D(o+n);return new xe(i,e.h)}id.prototype.createWebChannel=id.prototype.g;hn.prototype.send=hn.prototype.u;hn.prototype.open=hn.prototype.m;hn.prototype.close=hn.prototype.close;ef.NO_ERROR=0;ef.TIMEOUT=8;ef.HTTP_ERROR=6;UC.COMPLETE="complete";jC.EventType=Zl;Zl.OPEN="a";Zl.CLOSE="b";Zl.ERROR="c";Zl.MESSAGE="d";yt.prototype.listen=yt.prototype.O;Xe.prototype.listenOnce=Xe.prototype.P;Xe.prototype.getLastError=Xe.prototype.Sa;Xe.prototype.getLastErrorCode=Xe.prototype.Ia;Xe.prototype.getStatus=Xe.prototype.da;Xe.prototype.getResponseJson=Xe.prototype.Wa;Xe.prototype.getResponseText=Xe.prototype.ja;Xe.prototype.send=Xe.prototype.ha;Xe.prototype.setWithCredentials=Xe.prototype.Oa;Un.prototype.digest=Un.prototype.l;Un.prototype.reset=Un.prototype.reset;Un.prototype.update=Un.prototype.j;xe.prototype.add=xe.prototype.add;xe.prototype.multiply=xe.prototype.R;xe.prototype.modulo=xe.prototype.gb;xe.prototype.compare=xe.prototype.X;xe.prototype.toNumber=xe.prototype.ea;xe.prototype.toString=xe.prototype.toString;xe.prototype.getBits=xe.prototype.D;xe.fromNumber=Qn;xe.fromString=CT;var C$=function(){return new id},T$=function(){return Zd()},Ah=ef,R$=UC,I$=wo,b_={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Lu=jC,P$=Xe,x$=Un,ls=xe;const D_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let js="10.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const co=new Mm("@firebase/firestore");function ha(){return co.logLevel}function V(e,...t){if(co.logLevel<=we.DEBUG){const n=t.map(pv);co.debug(`Firestore (${js}): ${e}`,...n)}}function nr(e,...t){if(co.logLevel<=we.ERROR){const n=t.map(pv);co.error(`Firestore (${js}): ${e}`,...n)}}function Ss(e,...t){if(co.logLevel<=we.WARN){const n=t.map(pv);co.warn(`Firestore (${js}): ${e}`,...n)}}function pv(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function se(e="Unexpected state"){const t=`FIRESTORE (${js}) INTERNAL ASSERTION FAILED: `+e;throw nr(t),new Error(t)}function $e(e,t){e||se()}function le(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class K extends Or{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class A${getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n($t.UNAUTHENTICATED))}shutdown(){}}class k${constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class b${constructor(t){this.t=t,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new _r;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new _r,t.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;t.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{V("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(V("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new _r)}},0),s()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(V("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?($e(typeof r.accessToken=="string"),new TT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return $e(t===null||typeof t=="string"),new $t(t)}}class D${constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class N${constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new D$(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n($t.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class O${constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class M${constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){const r=o=>{o.error!=null&&V("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,V("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>r(o))};const i=o=>{V("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):V("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?($e(typeof n.token=="string"),this.R=n.token,new O$(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $$(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=$$(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=t.charAt(i[o]%t.length))}return r}}function Re(e,t){return e<t?-1:e>t?1:0}function Cs(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new K(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new K(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new K(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new K(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return dt.fromMillis(Date.now())}static fromDate(t){return dt.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new dt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Re(this.nanoseconds,t.nanoseconds):Re(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(t){this.timestamp=t}static fromTimestamp(t){return new ae(t)}static min(){return new ae(new dt(0,0))}static max(){return new ae(new dt(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(t,n,r){n===void 0?n=0:n>t.length&&se(),r===void 0?r=t.length-n:r>t.length-n&&se(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Il.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Il?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const o=t.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class Qe extends Il{construct(t,n,r){return new Qe(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new K(N.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Qe(n)}static emptyPath(){return new Qe([])}}const L$=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class It extends Il{construct(t,n,r){return new It(t,n,r)}static isValidIdentifier(t){return L$.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),It.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new It(["__name__"])}static fromServerFormat(t){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new K(N.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<t.length;){const a=t[i];if(a==="\\"){if(i+1===t.length)throw new K(N.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new K(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new K(N.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new It(n)}static emptyPath(){return new It([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(t){this.path=t}static fromPath(t){return new X(Qe.fromString(t))}static fromName(t){return new X(Qe.fromString(t).popFirst(5))}static empty(){return new X(Qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Qe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Qe.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new X(new Qe(t.slice()))}}function V$(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=ae.fromTimestamp(r===1e9?new dt(n+1,0):new dt(n,r));return new yi(i,X.empty(),t)}function F$(e){return new yi(e.readTime,e.key,-1)}class yi{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new yi(ae.min(),X.empty(),-1)}static max(){return new yi(ae.max(),X.empty(),-1)}}function U$(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=X.comparator(e.documentKey,t.documentKey),n!==0?n:Re(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j$="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class z${constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iu(e){if(e.code!==N.FAILED_PRECONDITION||e.message!==j$)throw e;V("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new b((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof b?n:b.resolve(n)}catch(n){return b.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):b.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):b.reject(n)}static resolve(t){return new b((n,r)=>{n(t)})}static reject(t){return new b((n,r)=>{r(t)})}static waitFor(t){return new b((n,r)=>{let i=0,o=0,s=!1;t.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(t){let n=b.resolve(!1);for(const r of t)n=n.next(i=>i?b.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(t,n){return new b((r,i)=>{const o=t.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(t[u]).next(c=>{s[u]=c,++a,a===o&&r(s)},c=>i(c))}})}static doWhile(t,n){return new b((r,i)=>{const o=()=>{t()===!0?n().next(()=>{o()},i):r()};o()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(t,n){this.action=t,this.transaction=n,this.aborted=!1,this.V=new _r,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new za(t,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=mv(r.target.error);this.V.reject(new za(t,i))}}static open(t,n,r,i){try{return new gv(n,t.transaction(i,r))}catch(o){throw new za(n,o)}}get m(){return this.V.promise}abort(t){t&&this.V.reject(t),this.aborted||(V("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const t=this.transaction;this.aborted||typeof t.commit!="function"||t.commit()}store(t){const n=this.transaction.objectStore(t);return new H$(n)}}class qi{constructor(t,n,r){this.name=t,this.version=n,this.p=r,qi.S(ot())===12.2&&nr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return V("SimpleDb","Removing database:",t),Fi(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!V1())return!1;if(qi.C())return!0;const t=ot(),n=qi.S(t),r=0<n&&n<10,i=qi.v(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)}static C(){var t;return typeof process<"u"&&((t=process.__PRIVATE_env)===null||t===void 0?void 0:t.F)==="YES"}static M(t,n){return t.store(n)}static S(t){const n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(t){const n=t.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(t){return this.db||(V("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{const s=o.target.result;n(s)},i.onblocked=()=>{r(new za(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{const s=o.target.error;s.name==="VersionError"?r(new K(N.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?r(new K(N.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):r(new za(t,s))},i.onupgradeneeded=o=>{V("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const s=o.target.result;this.p.N(s,i.transaction,o.oldVersion,this.version).next(()=>{V("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=n=>this.L(n)),this.db}B(t){this.L=t,this.db&&(this.db.onversionchange=n=>t(n))}async runTransaction(t,n,r,i){const o=n==="readonly";let s=0;for(;;){++s;try{this.db=await this.O(t);const a=gv.open(this.db,t,o?"readonly":"readwrite",r),l=i(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),b.reject(u))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,u=l.name!=="FirebaseError"&&s<3;if(V("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class B${constructor(t){this.k=t,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(t){this.k=t}done(){this.q=!0}U(t){this.K=t}delete(){return Fi(this.k.delete())}}class za extends K{constructor(t,n){super(N.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function ou(e){return e.name==="IndexedDbTransactionError"}class H${constructor(t){this.store=t}put(t,n){let r;return n!==void 0?(V("SimpleDb","PUT",this.store.name,t,n),r=this.store.put(n,t)):(V("SimpleDb","PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),Fi(r)}add(t){return V("SimpleDb","ADD",this.store.name,t,t),Fi(this.store.add(t))}get(t){return Fi(this.store.get(t)).next(n=>(n===void 0&&(n=null),V("SimpleDb","GET",this.store.name,t,n),n))}delete(t){return V("SimpleDb","DELETE",this.store.name,t),Fi(this.store.delete(t))}count(){return V("SimpleDb","COUNT",this.store.name),Fi(this.store.count())}W(t,n){const r=this.options(t,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const o=i.getAll(r.range);return new b((s,a)=>{o.onerror=l=>{a(l.target.error)},o.onsuccess=l=>{s(l.target.result)}})}{const o=this.cursor(r),s=[];return this.G(o,(a,l)=>{s.push(l)}).next(()=>s)}}j(t,n){const r=this.store.getAll(t,n===null?void 0:n);return new b((i,o)=>{r.onerror=s=>{o(s.target.error)},r.onsuccess=s=>{i(s.target.result)}})}H(t,n){V("SimpleDb","DELETE ALL",this.store.name);const r=this.options(t,n);r.J=!1;const i=this.cursor(r);return this.G(i,(o,s,a)=>a.delete())}Y(t,n){let r;n?r=t:(r={},n=t);const i=this.cursor(r);return this.G(i,n)}Z(t){const n=this.cursor({});return new b((r,i)=>{n.onerror=o=>{const s=mv(o.target.error);i(s)},n.onsuccess=o=>{const s=o.target.result;s?t(s.primaryKey,s.value).next(a=>{a?s.continue():r()}):r()}})}G(t,n){const r=[];return new b((i,o)=>{t.onerror=s=>{o(s.target.error)},t.onsuccess=s=>{const a=s.target.result;if(!a)return void i();const l=new B$(a),u=n(a.primaryKey,a.value,l);if(u instanceof b){const c=u.catch(d=>(l.done(),b.reject(d)));r.push(c)}l.isDone?i():l.$===null?a.continue():a.continue(l.$)}}).next(()=>b.waitFor(r))}options(t,n){let r;return t!==void 0&&(typeof t=="string"?r=t:n=t),{index:r,range:n}}cursor(t){let n="next";if(t.reverse&&(n="prev"),t.index){const r=this.store.index(t.index);return t.J?r.openKeyCursor(t.range,n):r.openCursor(t.range,n)}return this.store.openCursor(t.range,n)}}function Fi(e){return new b((t,n)=>{e.onsuccess=r=>{const i=r.target.result;t(i)},e.onerror=r=>{const i=mv(r.target.error);n(i)}})}let N_=!1;function mv(e){const t=qi.S(ot());if(t>=12.2&&t<13){const n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){const r=new K("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return N_||(N_=!0,setTimeout(()=>{throw r},0)),r}}return e}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}vv._e=-1;function cf(e){return e==null}function ad(e){return e===0&&1/e==-1/0}function W$(e){return typeof e=="number"&&Number.isInteger(e)&&!ad(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O_(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function zs(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function IT(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(t,n){this.comparator=t,this.root=n||Tt.EMPTY}insert(t,n){return new We(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Tt.BLACK,null,null))}remove(t){return new We(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Tt.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Vu(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Vu(this.root,t,this.comparator,!1)}getReverseIterator(){return new Vu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Vu(this.root,t,this.comparator,!0)}}class Vu{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=n?r(t.key,n):1,n&&i&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Tt{constructor(t,n,r,i,o){this.key=t,this.value=n,this.color=r??Tt.RED,this.left=i??Tt.EMPTY,this.right=o??Tt.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,o){return new Tt(t??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const o=r(t,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(t,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Tt.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return Tt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Tt.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Tt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw se();const t=this.left.check();if(t!==this.right.check())throw se();return t+(this.isRed()?0:1)}}Tt.EMPTY=null,Tt.RED=!0,Tt.BLACK=!1;Tt.EMPTY=new class{constructor(){this.size=0}get key(){throw se()}get value(){throw se()}get color(){throw se()}get left(){throw se()}get right(){throw se()}copy(t,n,r,i,o){return this}insert(t,n,r){return new Tt(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(t){this.comparator=t,this.data=new We(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new M_(this.data.getIterator())}getIteratorFrom(t){return new M_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof At)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new At(this.comparator);return n.data=t,n}}class M_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(t){this.fields=t,t.sort(It.comparator)}static empty(){return new On([])}unionWith(t){let n=new At(It.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new On(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Cs(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new PT("Invalid base64 string: "+o):o}}(t);return new zt(n)}static fromUint8Array(t){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(t);return new zt(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Re(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}zt.EMPTY_BYTE_STRING=new zt("");const G$=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _i(e){if($e(!!e),typeof e=="string"){let t=0;const n=G$.exec(e);if($e(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:rt(e.seconds),nanos:rt(e.nanos)}}function rt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function fo(e){return typeof e=="string"?zt.fromBase64String(e):zt.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yv(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function _v(e){const t=e.mapValue.fields.__previous_value__;return yv(t)?_v(t):t}function Pl(e){const t=_i(e.mapValue.fields.__local_write_time__.timestampValue);return new dt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q${constructor(t,n,r,i,o,s,a,l,u){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class xl{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new xl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof xl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ho(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?yv(e)?4:K$(e)?9007199254740991:10:se()}function rr(e,t){if(e===t)return!0;const n=ho(e);if(n!==ho(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Pl(e).isEqual(Pl(t));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=_i(i.timestampValue),a=_i(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,o){return fo(i.bytesValue).isEqual(fo(o.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,o){return rt(i.geoPointValue.latitude)===rt(o.geoPointValue.latitude)&&rt(i.geoPointValue.longitude)===rt(o.geoPointValue.longitude)}(e,t);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return rt(i.integerValue)===rt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=rt(i.doubleValue),a=rt(o.doubleValue);return s===a?ad(s)===ad(a):isNaN(s)&&isNaN(a)}return!1}(e,t);case 9:return Cs(e.arrayValue.values||[],t.arrayValue.values||[],rr);case 10:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(O_(s)!==O_(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!rr(s[l],a[l])))return!1;return!0}(e,t);default:return se()}}function Al(e,t){return(e.values||[]).find(n=>rr(n,t))!==void 0}function Ts(e,t){if(e===t)return 0;const n=ho(e),r=ho(t);if(n!==r)return Re(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Re(e.booleanValue,t.booleanValue);case 2:return function(o,s){const a=rt(o.integerValue||o.doubleValue),l=rt(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return $_(e.timestampValue,t.timestampValue);case 4:return $_(Pl(e),Pl(t));case 5:return Re(e.stringValue,t.stringValue);case 6:return function(o,s){const a=fo(o),l=fo(s);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=Re(a[u],l[u]);if(c!==0)return c}return Re(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(o,s){const a=Re(rt(o.latitude),rt(s.latitude));return a!==0?a:Re(rt(o.longitude),rt(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(o,s){const a=o.values||[],l=s.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=Ts(a[u],l[u]);if(c)return c}return Re(a.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(o,s){if(o===Fu.mapValue&&s===Fu.mapValue)return 0;if(o===Fu.mapValue)return 1;if(s===Fu.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const f=Re(l[d],c[d]);if(f!==0)return f;const h=Ts(a[l[d]],u[c[d]]);if(h!==0)return h}return Re(l.length,c.length)}(e.mapValue,t.mapValue);default:throw se()}}function $_(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Re(e,t);const n=_i(e),r=_i(t),i=Re(n.seconds,r.seconds);return i!==0?i:Re(n.nanos,r.nanos)}function Rs(e){return hg(e)}function hg(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=_i(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return fo(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return X.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=hg(o);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${hg(n.fields[s])}`;return i+"}"}(e.mapValue):se()}function pg(e){return!!e&&"integerValue"in e}function wv(e){return!!e&&"arrayValue"in e}function L_(e){return!!e&&"nullValue"in e}function V_(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function pc(e){return!!e&&"mapValue"in e}function Ba(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return zs(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=Ba(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Ba(e.arrayValue.values[n]);return t}return Object.assign({},e)}function K$(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(t){this.value=t}static empty(){return new Sn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!pc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ba(n)}setAll(t){let n=It.emptyPath(),r={},i=[];t.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Ba(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(t){const n=this.field(t.popLast());pc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return rr(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];pc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){zs(n,(i,o)=>t[i]=o);for(const i of r)delete t[i]}clone(){return new Sn(Ba(this.value))}}function xT(e){const t=[];return zs(e.fields,(n,r)=>{const i=new It([n]);if(pc(r)){const o=xT(r.mapValue).fields;if(o.length===0)t.push(i);else for(const s of o)t.push(i.child(s))}else t.push(i)}),new On(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(t,n,r,i,o,s,a){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(t){return new Vt(t,0,ae.min(),ae.min(),ae.min(),Sn.empty(),0)}static newFoundDocument(t,n,r,i){return new Vt(t,1,n,ae.min(),r,i,0)}static newNoDocument(t,n){return new Vt(t,2,n,ae.min(),ae.min(),Sn.empty(),0)}static newUnknownDocument(t,n){return new Vt(t,3,n,ae.min(),ae.min(),Sn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Sn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ae.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Vt&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Vt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(t,n){this.position=t,this.inclusive=n}}function F_(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(o.field.isKeyField()?r=X.comparator(X.fromName(s.referenceValue),n.key):r=Ts(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function U_(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!rr(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(t,n="asc"){this.field=t,this.dir=n}}function Q$(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{}class ut extends AT{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new X$(t,n,r):n==="array-contains"?new e2(t,r):n==="in"?new t2(t,r):n==="not-in"?new n2(t,r):n==="array-contains-any"?new r2(t,r):new ut(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new J$(t,r):new Z$(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ts(n,this.value)):n!==null&&ho(this.value)===ho(n)&&this.matchesComparison(Ts(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ir extends AT{constructor(t,n){super(),this.filters=t,this.op=n,this.ue=null}static create(t,n){return new ir(t,n)}matches(t){return kT(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function kT(e){return e.op==="and"}function bT(e){return Y$(e)&&kT(e)}function Y$(e){for(const t of e.filters)if(t instanceof ir)return!1;return!0}function gg(e){if(e instanceof ut)return e.field.canonicalString()+e.op.toString()+Rs(e.value);if(bT(e))return e.filters.map(t=>gg(t)).join(",");{const t=e.filters.map(n=>gg(n)).join(",");return`${e.op}(${t})`}}function DT(e,t){return e instanceof ut?function(r,i){return i instanceof ut&&r.op===i.op&&r.field.isEqual(i.field)&&rr(r.value,i.value)}(e,t):e instanceof ir?function(r,i){return i instanceof ir&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&DT(s,i.filters[a]),!0):!1}(e,t):void se()}function NT(e){return e instanceof ut?function(n){return`${n.field.canonicalString()} ${n.op} ${Rs(n.value)}`}(e):e instanceof ir?function(n){return n.op.toString()+" {"+n.getFilters().map(NT).join(" ,")+"}"}(e):"Filter"}class X$ extends ut{constructor(t,n,r){super(t,n,r),this.key=X.fromName(r.referenceValue)}matches(t){const n=X.comparator(t.key,this.key);return this.matchesComparison(n)}}class J$ extends ut{constructor(t,n){super(t,"in",n),this.keys=OT("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class Z$ extends ut{constructor(t,n){super(t,"not-in",n),this.keys=OT("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function OT(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>X.fromName(r.referenceValue))}class e2 extends ut{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return wv(n)&&Al(n.arrayValue,this.value)}}class t2 extends ut{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Al(this.value.arrayValue,n)}}class n2 extends ut{constructor(t,n){super(t,"not-in",n)}matches(t){if(Al(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!Al(this.value.arrayValue,n)}}class r2 extends ut{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!wv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Al(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(t,n=null,r=[],i=[],o=null,s=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}}function j_(e,t=null,n=[],r=[],i=null,o=null,s=null){return new i2(e,t,n,r,i,o,s)}function Ev(e){const t=le(e);if(t.ce===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>gg(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),cf(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>Rs(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>Rs(r)).join(",")),t.ce=n}return t.ce}function Sv(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Q$(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!DT(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!U_(e.startAt,t.startAt)&&U_(e.endAt,t.endAt)}function mg(e){return X.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(t,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function o2(e,t,n,r,i,o,s,a){return new df(e,t,n,r,i,o,s,a)}function Cv(e){return new df(e)}function z_(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function s2(e){return e.collectionGroup!==null}function Ha(e){const t=le(e);if(t.le===null){t.le=[];const n=new Set;for(const o of t.explicitOrderBy)t.le.push(o),n.add(o.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new At(It.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(t).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||t.le.push(new ud(o,r))}),n.has(It.keyField().canonicalString())||t.le.push(new ud(It.keyField(),r))}return t.le}function er(e){const t=le(e);return t.he||(t.he=a2(t,Ha(e))),t.he}function a2(e,t){if(e.limitType==="F")return j_(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new ud(i.field,o)});const n=e.endAt?new ld(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new ld(e.startAt.position,e.startAt.inclusive):null;return j_(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function vg(e,t,n){return new df(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function ff(e,t){return Sv(er(e),er(t))&&e.limitType===t.limitType}function MT(e){return`${Ev(er(e))}|lt:${e.limitType}`}function Oo(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>NT(i)).join(", ")}]`),cf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Rs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Rs(i)).join(",")),`Target(${r})`}(er(e))}; limitType=${e.limitType})`}function hf(e,t){return t.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):X.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(e,t)&&function(r,i){for(const o of Ha(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(e,t)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(e,t)&&function(r,i){return!(r.startAt&&!function(s,a,l){const u=F_(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,Ha(r),i)||r.endAt&&!function(s,a,l){const u=F_(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,Ha(r),i))}(e,t)}function l2(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function $T(e){return(t,n)=>{let r=!1;for(const i of Ha(e)){const o=u2(i,t,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function u2(e,t,n){const r=e.field.isKeyField()?X.comparator(t.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?Ts(l,u):se()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return se()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,t))return o}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],t))return void(i[o]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){zs(this.inner,(n,r)=>{for(const[i,o]of r)t(i,o)})}isEmpty(){return IT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2=new We(X.comparator);function Pr(){return c2}const LT=new We(X.comparator);function xa(...e){let t=LT;for(const n of e)t=t.insert(n.key,n);return t}function VT(e){let t=LT;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function Ki(){return Wa()}function FT(){return Wa()}function Wa(){return new Bs(e=>e.toString(),(e,t)=>e.isEqual(t))}const d2=new We(X.comparator),f2=new At(X.comparator);function ve(...e){let t=f2;for(const n of e)t=t.add(n);return t}const h2=new At(Re);function p2(){return h2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ad(t)?"-0":t}}function jT(e){return{integerValue:""+e}}function g2(e,t){return W$(t)?jT(t):UT(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(){this._=void 0}}function m2(e,t,n){return e instanceof cd?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&yv(o)&&(o=_v(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,t):e instanceof kl?BT(e,t):e instanceof bl?HT(e,t):function(i,o){const s=zT(i,o),a=B_(s)+B_(i.Ie);return pg(s)&&pg(i.Ie)?jT(a):UT(i.serializer,a)}(e,t)}function v2(e,t,n){return e instanceof kl?BT(e,t):e instanceof bl?HT(e,t):n}function zT(e,t){return e instanceof dd?function(r){return pg(r)||function(o){return!!o&&"doubleValue"in o}(r)}(t)?t:{integerValue:0}:null}class cd extends pf{}class kl extends pf{constructor(t){super(),this.elements=t}}function BT(e,t){const n=WT(t);for(const r of e.elements)n.some(i=>rr(i,r))||n.push(r);return{arrayValue:{values:n}}}class bl extends pf{constructor(t){super(),this.elements=t}}function HT(e,t){let n=WT(t);for(const r of e.elements)n=n.filter(i=>!rr(i,r));return{arrayValue:{values:n}}}class dd extends pf{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function B_(e){return rt(e.integerValue||e.doubleValue)}function WT(e){return wv(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function y2(e,t){return e.field.isEqual(t.field)&&function(r,i){return r instanceof kl&&i instanceof kl||r instanceof bl&&i instanceof bl?Cs(r.elements,i.elements,rr):r instanceof dd&&i instanceof dd?rr(r.Ie,i.Ie):r instanceof cd&&i instanceof cd}(e.transform,t.transform)}class _2{constructor(t,n){this.version=t,this.transformResults=n}}class wr{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new wr}static exists(t){return new wr(void 0,t)}static updateTime(t){return new wr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function gc(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class gf{}function GT(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new KT(e.key,wr.none()):new su(e.key,e.data,wr.none());{const n=e.data,r=Sn.empty();let i=new At(It.comparator);for(let o of t.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Eo(e.key,r,new On(i.toArray()),wr.none())}}function w2(e,t,n){e instanceof su?function(i,o,s){const a=i.value.clone(),l=W_(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(e,t,n):e instanceof Eo?function(i,o,s){if(!gc(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=W_(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(qT(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(e,t,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function Ga(e,t,n,r){return e instanceof su?function(o,s,a,l){if(!gc(o.precondition,s))return a;const u=o.value.clone(),c=G_(o.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(e,t,n,r):e instanceof Eo?function(o,s,a,l){if(!gc(o.precondition,s))return a;const u=G_(o.fieldTransforms,l,s),c=s.data;return c.setAll(qT(o)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(e,t,n,r):function(o,s,a){return gc(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(e,t,n)}function E2(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),o=zT(r.transform,i||null);o!=null&&(n===null&&(n=Sn.empty()),n.set(r.field,o))}return n||null}function H_(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Cs(r,i,(o,s)=>y2(o,s))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class su extends gf{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Eo extends gf{constructor(t,n,r,i,o=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function qT(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function W_(e,t,n){const r=new Map;$e(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,v2(s,a,n[i]))}return r}function G_(e,t,n){const r=new Map;for(const i of e){const o=i.transform,s=n.data.field(i.field);r.set(i.field,m2(o,s,t))}return r}class KT extends gf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class S2 extends gf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(t.key)&&w2(o,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=Ga(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=Ga(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=FT();return this.mutations.forEach(i=>{const o=t.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=GT(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(ae.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),ve())}isEqual(t){return this.batchId===t.batchId&&Cs(this.mutations,t.mutations,(n,r)=>H_(n,r))&&Cs(this.baseMutations,t.baseMutations,(n,r)=>H_(n,r))}}class Tv{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){$e(t.mutations.length===r.length);let i=function(){return d2}();const o=t.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new Tv(t,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nt,Se;function I2(e){switch(e){default:return se();case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0}}function QT(e){if(e===void 0)return nr("GRPC error has no .code"),N.UNKNOWN;switch(e){case nt.OK:return N.OK;case nt.CANCELLED:return N.CANCELLED;case nt.UNKNOWN:return N.UNKNOWN;case nt.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case nt.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case nt.INTERNAL:return N.INTERNAL;case nt.UNAVAILABLE:return N.UNAVAILABLE;case nt.UNAUTHENTICATED:return N.UNAUTHENTICATED;case nt.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case nt.NOT_FOUND:return N.NOT_FOUND;case nt.ALREADY_EXISTS:return N.ALREADY_EXISTS;case nt.PERMISSION_DENIED:return N.PERMISSION_DENIED;case nt.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case nt.ABORTED:return N.ABORTED;case nt.OUT_OF_RANGE:return N.OUT_OF_RANGE;case nt.UNIMPLEMENTED:return N.UNIMPLEMENTED;case nt.DATA_LOSS:return N.DATA_LOSS;default:return se()}}(Se=nt||(nt={}))[Se.OK=0]="OK",Se[Se.CANCELLED=1]="CANCELLED",Se[Se.UNKNOWN=2]="UNKNOWN",Se[Se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Se[Se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Se[Se.NOT_FOUND=5]="NOT_FOUND",Se[Se.ALREADY_EXISTS=6]="ALREADY_EXISTS",Se[Se.PERMISSION_DENIED=7]="PERMISSION_DENIED",Se[Se.UNAUTHENTICATED=16]="UNAUTHENTICATED",Se[Se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Se[Se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Se[Se.ABORTED=10]="ABORTED",Se[Se.OUT_OF_RANGE=11]="OUT_OF_RANGE",Se[Se.UNIMPLEMENTED=12]="UNIMPLEMENTED",Se[Se.INTERNAL=13]="INTERNAL",Se[Se.UNAVAILABLE=14]="UNAVAILABLE",Se[Se.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2=new ls([4294967295,4294967295],0);function q_(e){const t=P2().encode(e),n=new x$;return n.update(t),new Uint8Array(n.digest())}function K_(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new ls([n,r],0),new ls([i,o],0)]}class Rv{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Aa(`Invalid padding: ${n}`);if(r<0)throw new Aa(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Aa(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new Aa(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*t.length-n,this.Ee=ls.fromNumber(this.Te)}de(t,n,r){let i=t.add(n.multiply(ls.fromNumber(r)));return i.compare(x2)===1&&(i=new ls([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Te===0)return!1;const n=q_(t),[r,i]=K_(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);if(!this.Ae(s))return!1}return!0}static create(t,n,r){const i=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),s=new Rv(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(t){if(this.Te===0)return;const n=q_(t),[r,i]=K_(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);this.Re(s)}}Re(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class Aa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(t,n,r,i,o){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,au.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new mf(ae.min(),i,new We(Re),Pr(),ve())}}class au{constructor(t,n,r,i,o){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new au(r,n,ve(),ve(),ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(t,n,r,i){this.Ve=t,this.removedTargetIds=n,this.key=r,this.me=i}}class YT{constructor(t,n){this.targetId=t,this.fe=n}}class XT{constructor(t,n,r=zt.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Q_{constructor(){this.ge=0,this.pe=X_(),this.ye=zt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.ye=t)}ve(){let t=ve(),n=ve(),r=ve();return this.pe.forEach((i,o)=>{switch(o){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:se()}}),new au(this.ye,this.we,t,n,r)}Fe(){this.Se=!1,this.pe=X_()}Me(t,n){this.Se=!0,this.pe=this.pe.insert(t,n)}xe(t){this.Se=!0,this.pe=this.pe.remove(t)}Oe(){this.ge+=1}Ne(){this.ge-=1,$e(this.ge>=0)}Le(){this.Se=!0,this.we=!0}}class A2{constructor(t){this.Be=t,this.ke=new Map,this.qe=Pr(),this.Qe=Y_(),this.Ke=new We(Re)}$e(t){for(const n of t.Ve)t.me&&t.me.isFoundDocument()?this.Ue(n,t.me):this.We(n,t.key,t.me);for(const n of t.removedTargetIds)this.We(n,t.key,t.me)}Ge(t){this.forEachTarget(t,n=>{const r=this.ze(n);switch(t.state){case 0:this.je(n)&&r.Ce(t.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(t.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Le(),r.Ce(t.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(t.resumeToken));break;default:se()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(t){const n=t.targetId,r=t.fe.count,i=this.Ye(n);if(i){const o=i.target;if(mg(o))if(r===0){const s=new X(o.path);this.We(n,s,Vt.newNoDocument(s,ae.min()))}else $e(r===1);else{const s=this.Ze(n);if(s!==r){const a=this.Xe(t),l=a?this.et(a,t,s):1;if(l!==0){this.He(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}Xe(t){const n=t.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=fo(r).toUint8Array()}catch(l){if(l instanceof PT)return Ss("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Rv(s,i,o)}catch(l){return Ss(l instanceof Aa?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(t,n,r){return n.fe.count===r-this.rt(t,n.targetId)?0:2}rt(t,n){const r=this.Be.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Be.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;t.mightContain(a)||(this.We(n,o,null),i++)}),i}it(t){const n=new Map;this.ke.forEach((o,s)=>{const a=this.Ye(s);if(a){if(o.current&&mg(a.target)){const l=new X(a.target.path);this.qe.get(l)!==null||this.st(s,l)||this.We(s,l,Vt.newNoDocument(l,t))}o.De&&(n.set(s,o.ve()),o.Fe())}});let r=ve();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.Ye(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(t));const i=new mf(t,n,this.Ke,this.qe,r);return this.qe=Pr(),this.Qe=Y_(),this.Ke=new We(Re),i}Ue(t,n){if(!this.je(t))return;const r=this.st(t,n.key)?2:0;this.ze(t).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(t))}We(t,n,r){if(!this.je(t))return;const i=this.ze(t);this.st(t,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(t)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(t){this.ke.delete(t)}Ze(t){const n=this.ze(t).ve();return this.Be.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Oe(t){this.ze(t).Oe()}ze(t){let n=this.ke.get(t);return n||(n=new Q_,this.ke.set(t,n)),n}ot(t){let n=this.Qe.get(t);return n||(n=new At(Re),this.Qe=this.Qe.insert(t,n)),n}je(t){const n=this.Ye(t)!==null;return n||V("WatchChangeAggregator","Detected inactive target",t),n}Ye(t){const n=this.ke.get(t);return n&&n.be?null:this.Be._t(t)}He(t){this.ke.set(t,new Q_),this.Be.getRemoteKeysForTarget(t).forEach(n=>{this.We(t,n,null)})}st(t,n){return this.Be.getRemoteKeysForTarget(t).has(n)}}function Y_(){return new We(X.comparator)}function X_(){return new We(X.comparator)}const k2={asc:"ASCENDING",desc:"DESCENDING"},b2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},D2={and:"AND",or:"OR"};class N2{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function yg(e,t){return e.useProto3Json||cf(t)?t:{value:t}}function fd(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function JT(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function O2(e,t){return fd(e,t.toTimestamp())}function tr(e){return $e(!!e),ae.fromTimestamp(function(n){const r=_i(n);return new dt(r.seconds,r.nanos)}(e))}function Iv(e,t){return _g(e,t).canonicalString()}function _g(e,t){const n=function(i){return new Qe(["projects",i.projectId,"databases",i.database])}(e).child("documents");return t===void 0?n:n.child(t)}function ZT(e){const t=Qe.fromString(e);return $e(iR(t)),t}function wg(e,t){return Iv(e.databaseId,t.path)}function kh(e,t){const n=ZT(t);if(n.get(1)!==e.databaseId.projectId)throw new K(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new K(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new X(tR(n))}function eR(e,t){return Iv(e.databaseId,t)}function M2(e){const t=ZT(e);return t.length===4?Qe.emptyPath():tR(t)}function Eg(e){return new Qe(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function tR(e){return $e(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function J_(e,t,n){return{name:wg(e,t),fields:n.value.mapValue.fields}}function $2(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:se()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?($e(c===void 0||typeof c=="string"),zt.fromBase64String(c||"")):($e(c===void 0||c instanceof Uint8Array),zt.fromUint8Array(c||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(u){const c=u.code===void 0?N.UNKNOWN:QT(u.code);return new K(c,u.message||"")}(s);n=new XT(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=kh(e,r.document.name),o=tr(r.document.updateTime),s=r.document.createTime?tr(r.document.createTime):ae.min(),a=new Sn({mapValue:{fields:r.document.fields}}),l=Vt.newFoundDocument(i,o,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new mc(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=kh(e,r.document),o=r.readTime?tr(r.readTime):ae.min(),s=Vt.newNoDocument(i,o),a=r.removedTargetIds||[];n=new mc([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=kh(e,r.document),o=r.removedTargetIds||[];n=new mc([],o,i,null)}else{if(!("filter"in t))return se();{t.filter;const r=t.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new R2(i,o),a=r.targetId;n=new YT(a,s)}}return n}function L2(e,t){let n;if(t instanceof su)n={update:J_(e,t.key,t.value)};else if(t instanceof KT)n={delete:wg(e,t.key)};else if(t instanceof Eo)n={update:J_(e,t.key,t.data),updateMask:G2(t.fieldMask)};else{if(!(t instanceof S2))return se();n={verify:wg(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof cd)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof kl)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof bl)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof dd)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw se()}(0,r))),t.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:O2(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:se()}(e,t.precondition)),n}function V2(e,t){return e&&e.length>0?($e(t!==void 0),e.map(n=>function(i,o){let s=i.updateTime?tr(i.updateTime):tr(o);return s.isEqual(ae.min())&&(s=tr(o)),new _2(s,i.transformResults||[])}(n,t))):[]}function F2(e,t){return{documents:[eR(e,t.path)]}}function U2(e,t){const n={structuredQuery:{}},r=t.path;let i;t.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=eR(e,i);const o=function(u){if(u.length!==0)return rR(ir.create(u,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const s=function(u){if(u.length!==0)return u.map(c=>function(f){return{field:Mo(f.field),direction:B2(f.dir)}}(c))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const a=yg(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(t.endAt)),{ut:n,parent:i}}function j2(e){let t=M2(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){$e(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:t=t.child(c.collectionId)}let o=[];n.where&&(o=function(d){const f=nR(d);return f instanceof ir&&bT(f)?f.getFilters():[f]}(n.where));let s=[];n.orderBy&&(s=function(d){return d.map(f=>function(y){return new ud($o(y.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(d){let f;return f=typeof d=="object"?d.value:d,cf(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(d){const f=!!d.before,h=d.values||[];return new ld(h,f)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const f=!d.before,h=d.values||[];return new ld(h,f)}(n.endAt)),o2(t,i,s,o,a,"F",l,u)}function z2(e,t){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return se()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function nR(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=$o(n.unaryFilter.field);return ut.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=$o(n.unaryFilter.field);return ut.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=$o(n.unaryFilter.field);return ut.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=$o(n.unaryFilter.field);return ut.create(s,"!=",{nullValue:"NULL_VALUE"});default:return se()}}(e):e.fieldFilter!==void 0?function(n){return ut.create($o(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return se()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return ir.create(n.compositeFilter.filters.map(r=>nR(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return se()}}(n.compositeFilter.op))}(e):se()}function B2(e){return k2[e]}function H2(e){return b2[e]}function W2(e){return D2[e]}function Mo(e){return{fieldPath:e.canonicalString()}}function $o(e){return It.fromServerFormat(e.fieldPath)}function rR(e){return e instanceof ut?function(n){if(n.op==="=="){if(V_(n.value))return{unaryFilter:{field:Mo(n.field),op:"IS_NAN"}};if(L_(n.value))return{unaryFilter:{field:Mo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(V_(n.value))return{unaryFilter:{field:Mo(n.field),op:"IS_NOT_NAN"}};if(L_(n.value))return{unaryFilter:{field:Mo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Mo(n.field),op:H2(n.op),value:n.value}}}(e):e instanceof ir?function(n){const r=n.getFilters().map(i=>rR(i));return r.length===1?r[0]:{compositeFilter:{op:W2(n.op),filters:r}}}(e):se()}function G2(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function iR(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(t,n,r,i,o=ae.min(),s=ae.min(),a=zt.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new ri(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new ri(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ri(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ri(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(t){this.ct=t}}function K2(e){const t=j2({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?vg(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(){this._n=new Y2}addToCollectionParentIndex(t,n){return this._n.add(n),b.resolve()}getCollectionParents(t,n){return b.resolve(this._n.getEntries(n))}addFieldIndex(t,n){return b.resolve()}deleteFieldIndex(t,n){return b.resolve()}deleteAllFieldIndexes(t){return b.resolve()}createTargetIndexes(t,n){return b.resolve()}getDocumentsMatchingTarget(t,n){return b.resolve(null)}getIndexType(t,n){return b.resolve(0)}getFieldIndexes(t,n){return b.resolve([])}getNextCollectionGroupToUpdate(t){return b.resolve(null)}getMinOffset(t,n){return b.resolve(yi.min())}getMinOffsetFromCollectionGroup(t,n){return b.resolve(yi.min())}updateCollectionGroup(t,n,r){return b.resolve()}updateIndexEntries(t,n){return b.resolve()}}class Y2{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new At(Qe.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new At(Qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(t){this.On=t}next(){return this.On+=2,this.On}static Nn(){return new Is(0)}static Ln(){return new Is(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(){this.changes=new Bs(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Vt.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?b.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&Ga(r.mutation,i,On.empty(),dt.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,ve()).next(()=>r))}getLocalViewOfDocuments(t,n,r=ve()){const i=Ki();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(o=>{let s=xa();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(t,n){const r=Ki();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,ve()))}populateOverlays(t,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(t,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(t,n,r,i){let o=Pr();const s=Wa(),a=function(){return Wa()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Eo)?o=o.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),Ga(c.mutation,u,c.mutation.getFieldMask(),dt.now())):s.set(u.key,On.empty())}),this.recalculateAndSaveOverlays(t,o).next(l=>(l.forEach((u,c)=>s.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new J2(c,(d=s.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(t,n){const r=Wa();let i=new We((s,a)=>s-a),o=ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||On.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||ve()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=FT();c.forEach(f=>{if(!o.has(f)){const h=GT(n.get(f),r.get(f));h!==null&&d.set(f,h),o=o.add(f)}}),s.push(this.documentOverlayCache.saveOverlays(t,u,d))}return b.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,i){return function(s){return X.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):s2(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,i):this.getDocumentsMatchingCollectionQuery(t,n,r,i)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-o.size):b.resolve(Ki());let a=-1,l=o;return s.next(u=>b.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(c)?b.resolve():this.remoteDocumentCache.getEntry(t,c).next(f=>{l=l.insert(c,f)}))).next(()=>this.populateOverlays(t,u,o)).next(()=>this.computeViews(t,l,u,ve())).next(c=>({batchId:a,changes:VT(c)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new X(n)).next(r=>{let i=xa();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r,i){const o=n.collectionGroup;let s=xa();return this.indexManager.getCollectionParents(t,o).next(a=>b.forEach(a,l=>{const u=function(d,f){return new df(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(t,u,r,i).next(c=>{c.forEach((d,f)=>{s=s.insert(d,f)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,o,i))).next(s=>{o.forEach((l,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,Vt.newInvalidDocument(c)))});let a=xa();return s.forEach((l,u)=>{const c=o.get(l);c!==void 0&&Ga(c.mutation,u,On.empty(),dt.now()),hf(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(t){this.serializer=t,this.cr=new Map,this.lr=new Map}getBundleMetadata(t,n){return b.resolve(this.cr.get(n))}saveBundleMetadata(t,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:tr(i.createTime)}}(n)),b.resolve()}getNamedQuery(t,n){return b.resolve(this.lr.get(n))}saveNamedQuery(t,n){return this.lr.set(n.name,function(i){return{name:i.name,query:K2(i.bundledQuery),readTime:tr(i.readTime)}}(n)),b.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL{constructor(){this.overlays=new We(X.comparator),this.hr=new Map}getOverlay(t,n){return b.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Ki();return b.forEach(n,i=>this.getOverlay(t,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,o)=>{this.ht(t,n,o)}),b.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(r)),b.resolve()}getOverlaysForCollection(t,n,r){const i=Ki(),o=n.length+1,s=new X(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return b.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let o=new We((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=Ki(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Ki(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return b.resolve(a)}ht(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new T2(n,r));let o=this.hr.get(n);o===void 0&&(o=ve(),this.hr.set(n,o)),this.hr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(){this.Pr=new At(gt.Ir),this.Tr=new At(gt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(t,n){const r=new gt(t,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.Ar(new gt(t,n))}Rr(t,n){t.forEach(r=>this.removeReference(r,n))}Vr(t){const n=new X(new Qe([])),r=new gt(n,t),i=new gt(n,t+1),o=[];return this.Tr.forEachInRange([r,i],s=>{this.Ar(s),o.push(s.key)}),o}mr(){this.Pr.forEach(t=>this.Ar(t))}Ar(t){this.Pr=this.Pr.delete(t),this.Tr=this.Tr.delete(t)}gr(t){const n=new X(new Qe([])),r=new gt(n,t),i=new gt(n,t+1);let o=ve();return this.Tr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(t){const n=new gt(t,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class gt{constructor(t,n){this.key=t,this.pr=n}static Ir(t,n){return X.comparator(t.key,n.key)||Re(t.pr,n.pr)}static Er(t,n){return Re(t.pr,n.pr)||X.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new At(gt.Ir)}checkEmpty(t){return b.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const o=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new C2(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.wr=this.wr.add(new gt(a.key,o)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return b.resolve(s)}lookupMutationBatch(t,n){return b.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.br(r),o=i<0?0:i;return b.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return b.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(t){return b.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new gt(n,0),i=new gt(n,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([r,i],s=>{const a=this.Sr(s.pr);o.push(a)}),b.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new At(Re);return n.forEach(i=>{const o=new gt(i,0),s=new gt(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,s],a=>{r=r.add(a.pr)})}),b.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let o=r;X.isDocumentKey(o)||(o=o.child(""));const s=new gt(new X(o),0);let a=new At(Re);return this.wr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.pr)),!0)},s),b.resolve(this.Dr(a))}Dr(t){const n=[];return t.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){$e(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return b.forEach(n.mutations,i=>{const o=new gt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.wr=r})}Mn(t){}containsKey(t,n){const r=new gt(n,0),i=this.wr.firstAfterOrEqual(r);return b.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,b.resolve()}Cr(t,n){return this.br(t)}br(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Sr(t){const n=this.br(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(t){this.vr=t,this.docs=function(){return new We(X.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return b.resolve(r?r.document.mutableCopy():Vt.newInvalidDocument(n))}getEntries(t,n){let r=Pr();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Vt.newInvalidDocument(i))}),b.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let o=Pr();const s=n.path,a=new X(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||U$(F$(c),r)<=0||(i.has(c.key)||hf(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return b.resolve(o)}getAllFromCollectionGroup(t,n,r,i){se()}Fr(t,n){return b.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new iL(this)}getSize(t){return b.resolve(this.size)}}class iL extends X2{constructor(t){super(),this.ar=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(t,i)):this.ar.removeEntry(r)}),b.waitFor(n)}getFromCache(t,n){return this.ar.getEntry(t,n)}getAllFromCache(t,n){return this.ar.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oL{constructor(t){this.persistence=t,this.Mr=new Bs(n=>Ev(n),Sv),this.lastRemoteSnapshotVersion=ae.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Pv,this.targetCount=0,this.Lr=Is.Nn()}forEachTarget(t,n){return this.Mr.forEach((r,i)=>n(i)),b.resolve()}getLastRemoteSnapshotVersion(t){return b.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return b.resolve(this.Or)}allocateTargetId(t){return this.highestTargetId=this.Lr.next(),b.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),b.resolve()}qn(t){this.Mr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Lr=new Is(n),this.highestTargetId=n),t.sequenceNumber>this.Or&&(this.Or=t.sequenceNumber)}addTargetData(t,n){return this.qn(n),this.targetCount+=1,b.resolve()}updateTargetData(t,n){return this.qn(n),b.resolve()}removeTargetData(t,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,b.resolve()}removeTargets(t,n,r){let i=0;const o=[];return this.Mr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(s),o.push(this.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),b.waitFor(o).next(()=>i)}getTargetCount(t){return b.resolve(this.targetCount)}getTargetData(t,n){const r=this.Mr.get(n)||null;return b.resolve(r)}addMatchingKeys(t,n,r){return this.Nr.dr(n,r),b.resolve()}removeMatchingKeys(t,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(t,s))}),b.waitFor(o)}removeMatchingKeysForTargetId(t,n){return this.Nr.Vr(n),b.resolve()}getMatchingKeysForTargetId(t,n){const r=this.Nr.gr(n);return b.resolve(r)}containsKey(t,n){return b.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(t,n){this.Br={},this.overlays={},this.kr=new vv(0),this.qr=!1,this.qr=!0,this.referenceDelegate=t(this),this.Qr=new oL(this),this.indexManager=new Q2,this.remoteDocumentCache=function(i){return new rL(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new q2(n),this.$r=new eL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new tL,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.Br[t.toKey()];return r||(r=new nL(n,this.referenceDelegate),this.Br[t.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(t,n,r){V("MemoryPersistence","Starting transaction:",t);const i=new aL(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(o=>this.referenceDelegate.Wr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gr(t,n){return b.or(Object.values(this.Br).map(r=>()=>r.containsKey(t,n)))}}class aL extends z${constructor(t){super(),this.currentSequenceNumber=t}}class xv{constructor(t){this.persistence=t,this.zr=new Pv,this.jr=null}static Hr(t){return new xv(t)}get Jr(){if(this.jr)return this.jr;throw se()}addReference(t,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),b.resolve()}removeReference(t,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),b.resolve()}markPotentiallyOrphaned(t,n){return this.Jr.add(n.toString()),b.resolve()}removeTarget(t,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(o=>this.Jr.add(o.toString()))}).next(()=>r.removeTargetData(t,n))}Ur(){this.jr=new Set}Wr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return b.forEach(this.Jr,r=>{const i=X.fromPath(r);return this.Yr(t,i).next(o=>{o||n.removeEntry(i,ae.min())})}).next(()=>(this.jr=null,n.apply(t)))}updateLimboDocument(t,n){return this.Yr(t,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(t){return 0}Yr(t,n){return b.or([()=>b.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Gr(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(t,n){let r=ve(),i=ve();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Av(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return zb()?8:qi.v(ot())>0?6:4}()}initialize(t,n){this.zi=t,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(t,n,r,i){const o={result:null};return this.ji(t,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Hi(t,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new lL;return this.Ji(t,n,s).next(a=>{if(o.result=a,this.Ui)return this.Yi(t,n,s,a.size)})}).next(()=>o.result)}Yi(t,n,r,i){return r.documentReadCount<this.Wi?(ha()<=we.DEBUG&&V("QueryEngine","SDK will not create cache indexes for query:",Oo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),b.resolve()):(ha()<=we.DEBUG&&V("QueryEngine","Query:",Oo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(ha()<=we.DEBUG&&V("QueryEngine","The SDK decides to create cache indexes for query:",Oo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,er(n))):b.resolve())}ji(t,n){if(z_(n))return b.resolve(null);let r=er(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=vg(n,null,"F"),r=er(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(o=>{const s=ve(...o);return this.zi.getDocuments(t,s).next(a=>this.indexManager.getMinOffset(t,r).next(l=>{const u=this.Zi(n,a);return this.Xi(n,u,s,l.readTime)?this.ji(t,vg(n,null,"F")):this.es(t,u,n,l)}))})))}Hi(t,n,r,i){return z_(n)||i.isEqual(ae.min())?b.resolve(null):this.zi.getDocuments(t,r).next(o=>{const s=this.Zi(n,o);return this.Xi(n,s,r,i)?b.resolve(null):(ha()<=we.DEBUG&&V("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Oo(n)),this.es(t,s,n,V$(i,-1)).next(a=>a))})}Zi(t,n){let r=new At($T(t));return n.forEach((i,o)=>{hf(t,o)&&(r=r.add(o))}),r}Xi(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const o=t.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ji(t,n,r){return ha()<=we.DEBUG&&V("QueryEngine","Using full collection scan to execute query:",Oo(n)),this.zi.getDocumentsMatchingQuery(t,n,yi.min(),r)}es(t,n,r,i){return this.zi.getDocumentsMatchingQuery(t,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(t,n,r,i){this.persistence=t,this.ts=n,this.serializer=i,this.ns=new We(Re),this.rs=new Bs(o=>Ev(o),Sv),this.ss=new Map,this.os=t.getRemoteDocumentCache(),this.Qr=t.getTargetCache(),this.$r=t.getBundleCache(),this._s(r)}_s(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Z2(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.ns))}}function dL(e,t,n,r){return new cL(e,t,n,r)}async function oR(e,t){const n=le(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n._s(t),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=ve();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({us:u,removedBatchIds:s,addedBatchIds:a}))})})}function fL(e,t){const n=le(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),o=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const d=u.batch,f=d.keys();let h=b.resolve();return f.forEach(y=>{h=h.next(()=>c.getEntry(l,y)).next(v=>{const _=u.docVersions.get(y);$e(_!==null),v.version.compareTo(_)<0&&(d.applyToRemoteDocument(v,u),v.isValidDocument()&&(v.setReadTime(u.commitVersion),c.addEntry(v)))})}),h.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,t,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ve();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(t))).next(()=>n.localDocuments.getDocuments(r,i))})}function sR(e){const t=le(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Qr.getLastRemoteSnapshotVersion(n))}function hL(e,t){const n=le(e),r=t.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];t.targetChanges.forEach((c,d)=>{const f=i.get(d);if(!f)return;a.push(n.Qr.removeMatchingKeys(o,c.removedDocuments,d).next(()=>n.Qr.addMatchingKeys(o,c.addedDocuments,d)));let h=f.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(d)!==null?h=h.withResumeToken(zt.EMPTY_BYTE_STRING,ae.min()).withLastLimboFreeSnapshotVersion(ae.min()):c.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(c.resumeToken,r)),i=i.insert(d,h),function(v,_,p){return v.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:p.addedDocuments.size+p.modifiedDocuments.size+p.removedDocuments.size>0}(f,h,c)&&a.push(n.Qr.updateTargetData(o,h))});let l=Pr(),u=ve();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(pL(o,s,t.documentUpdates).next(c=>{l=c.cs,u=c.ls})),!r.isEqual(ae.min())){const c=n.Qr.getLastRemoteSnapshotVersion(o).next(d=>n.Qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(c)}return b.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.ns=i,o))}function pL(e,t,n){let r=ve(),i=ve();return n.forEach(o=>r=r.add(o)),t.getEntries(e,r).next(o=>{let s=Pr();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ae.min())?(t.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(l),s=s.insert(a,l)):V("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{cs:s,ls:i}})}function gL(e,t){const n=le(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function mL(e,t){const n=le(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,t).next(o=>o?(i=o,b.resolve(i)):n.Qr.allocateTargetId(r).next(s=>(i=new ri(t,s,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(t,r.targetId)),r})}async function Sg(e,t,n){const r=le(e),i=r.ns.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!ou(s))throw s;V("LocalStore",`Failed to update sequence numbers for target ${t}: ${s}`)}r.ns=r.ns.remove(t),r.rs.delete(i.target)}function Z_(e,t,n){const r=le(e);let i=ae.min(),o=ve();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,c){const d=le(l),f=d.rs.get(c);return f!==void 0?b.resolve(d.ns.get(f)):d.Qr.getTargetData(u,c)}(r,s,er(t)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.ts.getDocumentsMatchingQuery(s,t,n?i:ae.min(),n?o:ve())).next(a=>(vL(r,l2(t),a),{documents:a,hs:o})))}function vL(e,t,n){let r=e.ss.get(t)||ae.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),e.ss.set(t,r)}class ew{constructor(){this.activeTargetIds=p2()}As(t){this.activeTargetIds=this.activeTargetIds.add(t)}Rs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}ds(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class yL{constructor(){this.no=new ew,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t){return this.no.As(t),this.ro[t]||"not-current"}updateQueryState(t,n,r){this.ro[t]=n}removeLocalQueryTarget(t){this.no.Rs(t)}isLocalQueryTarget(t){return this.no.activeTargetIds.has(t)}clearQueryState(t){delete this.ro[t]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(t){return this.no.activeTargetIds.has(t)}start(){return this.no=new ew,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{io(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(t){this.uo.push(t)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){V("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.uo)t(0)}ao(){V("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.uo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uu=null;function bh(){return Uu===null?Uu=function(){return 268435456+Math.round(2147483648*Math.random())}():Uu++,"0x"+Uu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL{constructor(t){this.lo=t.lo,this.ho=t.ho}Po(t){this.Io=t}To(t){this.Eo=t}onMessage(t){this.Ao=t}close(){this.ho()}send(t){this.lo(t)}Ro(){this.Io()}Vo(t){this.Eo(t)}mo(t){this.Ao(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ot="WebChannelConnection";class SL extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${o}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get wo(){return!1}So(n,r,i,o,s){const a=bh(),l=this.bo(n,r.toUriEncodedString());V("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(u,o,s),this.Co(n,l,u,i).then(c=>(V("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw Ss("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}vo(n,r,i,o,s,a){return this.So(n,r,i,o,s)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+js}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}bo(n,r){const i=wL[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Co(t,n,r,i){const o=bh();return new Promise((s,a)=>{const l=new P$;l.setWithCredentials(!0),l.listenOnce(R$.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Ah.NO_ERROR:const c=l.getResponseJson();V(Ot,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(c)),s(c);break;case Ah.TIMEOUT:V(Ot,`RPC '${t}' ${o} timed out`),a(new K(N.DEADLINE_EXCEEDED,"Request time out"));break;case Ah.HTTP_ERROR:const d=l.getStatus();if(V(Ot,`RPC '${t}' ${o} failed with status:`,d,"response text:",l.getResponseText()),d>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const h=f==null?void 0:f.error;if(h&&h.status&&h.message){const y=function(_){const p=_.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(p)>=0?p:N.UNKNOWN}(h.status);a(new K(y,h.message))}else a(new K(N.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new K(N.UNAVAILABLE,"Connection failed."));break;default:se()}}finally{V(Ot,`RPC '${t}' ${o} completed.`)}});const u=JSON.stringify(i);V(Ot,`RPC '${t}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Fo(t,n,r){const i=bh(),o=[this.fo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=C$(),a=T$(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");V(Ot,`Creating RPC '${t}' stream ${i}: ${c}`,l);const d=s.createWebChannel(c,l);let f=!1,h=!1;const y=new EL({lo:_=>{h?V(Ot,`Not sending because RPC '${t}' stream ${i} is closed:`,_):(f||(V(Ot,`Opening RPC '${t}' stream ${i} transport.`),d.open(),f=!0),V(Ot,`RPC '${t}' stream ${i} sending:`,_),d.send(_))},ho:()=>d.close()}),v=(_,p,g)=>{_.listen(p,w=>{try{g(w)}catch(S){setTimeout(()=>{throw S},0)}})};return v(d,Lu.EventType.OPEN,()=>{h||V(Ot,`RPC '${t}' stream ${i} transport opened.`)}),v(d,Lu.EventType.CLOSE,()=>{h||(h=!0,V(Ot,`RPC '${t}' stream ${i} transport closed`),y.Vo())}),v(d,Lu.EventType.ERROR,_=>{h||(h=!0,Ss(Ot,`RPC '${t}' stream ${i} transport errored:`,_),y.Vo(new K(N.UNAVAILABLE,"The operation could not be completed")))}),v(d,Lu.EventType.MESSAGE,_=>{var p;if(!h){const g=_.data[0];$e(!!g);const w=g,S=w.error||((p=w[0])===null||p===void 0?void 0:p.error);if(S){V(Ot,`RPC '${t}' stream ${i} received error:`,S);const C=S.status;let E=function(D){const $=nt[D];if($!==void 0)return QT($)}(C),T=S.message;E===void 0&&(E=N.INTERNAL,T="Unknown error status: "+C+" with message "+S.message),h=!0,y.Vo(new K(E,T)),d.close()}else V(Ot,`RPC '${t}' stream ${i} received:`,g),y.mo(g)}}),v(a,I$.STAT_EVENT,_=>{_.stat===b_.PROXY?V(Ot,`RPC '${t}' stream ${i} detected buffering proxy`):_.stat===b_.NOPROXY&&V(Ot,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.Ro()},0),y}}function Dh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vf(e){return new N2(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(t,n,r=1e3,i=1.5,o=6e4){this.oi=t,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=o,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(t){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&V("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),t())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(t,n,r,i,o,s,a,l){this.oi=t,this.$o=r,this.Uo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new aR(t,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(t){this.n_(),this.stream.send(t)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(t,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,t!==4?this.jo.reset():n&&n.code===N.RESOURCE_EXHAUSTED?(nr(n.toString()),nr("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===N.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.To(n)}i_(){}auth(){this.state=1;const t=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{t(()=>{const i=new K(N.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(t,n){const r=this.s_(this.Wo);this.stream=this.a_(t,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(t){return V("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}s_(t){return n=>{this.oi.enqueueAndForget(()=>this.Wo===t?n():(V("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class CL extends lR{constructor(t,n,r,i,o,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}a_(t,n){return this.connection.Fo("Listen",t,n)}onMessage(t){this.jo.reset();const n=$2(this.serializer,t),r=function(o){if(!("targetChange"in o))return ae.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?ae.min():s.readTime?tr(s.readTime):ae.min()}(t);return this.listener.u_(n,r)}c_(t){const n={};n.database=Eg(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=mg(l)?{documents:F2(o,l)}:{query:U2(o,l).ut},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=JT(o,s.resumeToken);const u=yg(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(ae.min())>0){a.readTime=fd(o,s.snapshotVersion.toTimestamp());const u=yg(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,t);const r=z2(this.serializer,t);r&&(n.labels=r),this.t_(n)}l_(t){const n={};n.database=Eg(this.serializer),n.removeTarget=t,this.t_(n)}}class TL extends lR{constructor(t,n,r,i,o,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(t,n){return this.connection.Fo("Write",t,n)}onMessage(t){if($e(!!t.streamToken),this.lastStreamToken=t.streamToken,this.h_){this.jo.reset();const n=V2(t.writeResults,t.commitTime),r=tr(t.commitTime);return this.listener.T_(r,n)}return $e(!t.writeResults||t.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const t={};t.database=Eg(this.serializer),this.t_(t)}I_(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>L2(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL extends class{}{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new K(N.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.So(t,_g(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new K(N.UNKNOWN,o.toString())})}vo(t,n,r,i,o){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.vo(t,_g(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new K(N.UNKNOWN,s.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class IL{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(t){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.y_("Offline")))}set(t){this.b_(),this.m_=0,t==="Online"&&(this.g_=!1),this.y_(t)}y_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}w_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(nr(n),this.g_=!1):V("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{constructor(t,n,r,i,o){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=o,this.M_.io(s=>{r.enqueueAndForget(async()=>{So(this)&&(V("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=le(l);u.v_.add(4),await lu(u),u.x_.set("Unknown"),u.v_.delete(4),await yf(u)}(this))})}),this.x_=new IL(r,i)}}async function yf(e){if(So(e))for(const t of e.F_)await t(!0)}async function lu(e){for(const t of e.F_)await t(!1)}function uR(e,t){const n=le(e);n.C_.has(t.targetId)||(n.C_.set(t.targetId,t),Nv(n)?Dv(n):Hs(n).Jo()&&bv(n,t))}function kv(e,t){const n=le(e),r=Hs(n);n.C_.delete(t),r.Jo()&&cR(n,t),n.C_.size===0&&(r.Jo()?r.Xo():So(n)&&n.x_.set("Unknown"))}function bv(e,t){if(e.O_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ae.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Hs(e).c_(t)}function cR(e,t){e.O_.Oe(t),Hs(e).l_(t)}function Dv(e){e.O_=new A2({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.C_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),Hs(e).start(),e.x_.p_()}function Nv(e){return So(e)&&!Hs(e).Ho()&&e.C_.size>0}function So(e){return le(e).v_.size===0}function dR(e){e.O_=void 0}async function xL(e){e.C_.forEach((t,n)=>{bv(e,t)})}async function AL(e,t){dR(e),Nv(e)?(e.x_.S_(t),Dv(e)):e.x_.set("Unknown")}async function kL(e,t,n){if(e.x_.set("Online"),t instanceof XT&&t.state===2&&t.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.C_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.C_.delete(a),i.O_.removeTarget(a))}(e,t)}catch(r){V("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await hd(e,r)}else if(t instanceof mc?e.O_.$e(t):t instanceof YT?e.O_.Je(t):e.O_.Ge(t),!n.isEqual(ae.min()))try{const r=await sR(e.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.O_.it(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.C_.get(u);c&&o.C_.set(u,c.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const c=o.C_.get(l);if(!c)return;o.C_.set(l,c.withResumeToken(zt.EMPTY_BYTE_STRING,c.snapshotVersion)),cR(o,l);const d=new ri(c.target,l,u,c.sequenceNumber);bv(o,d)}),o.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(r){V("RemoteStore","Failed to raise snapshot:",r),await hd(e,r)}}async function hd(e,t,n){if(!ou(t))throw t;e.v_.add(1),await lu(e),e.x_.set("Offline"),n||(n=()=>sR(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{V("RemoteStore","Retrying IndexedDB access"),await n(),e.v_.delete(1),await yf(e)})}function fR(e,t){return t().catch(n=>hd(e,n,t))}async function _f(e){const t=le(e),n=wi(t);let r=t.D_.length>0?t.D_[t.D_.length-1].batchId:-1;for(;bL(t);)try{const i=await gL(t.localStore,r);if(i===null){t.D_.length===0&&n.Xo();break}r=i.batchId,DL(t,i)}catch(i){await hd(t,i)}hR(t)&&pR(t)}function bL(e){return So(e)&&e.D_.length<10}function DL(e,t){e.D_.push(t);const n=wi(e);n.Jo()&&n.P_&&n.I_(t.mutations)}function hR(e){return So(e)&&!wi(e).Ho()&&e.D_.length>0}function pR(e){wi(e).start()}async function NL(e){wi(e).d_()}async function OL(e){const t=wi(e);for(const n of e.D_)t.I_(n.mutations)}async function ML(e,t,n){const r=e.D_.shift(),i=Tv.from(r,t,n);await fR(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await _f(e)}async function $L(e,t){t&&wi(e).P_&&await async function(r,i){if(function(s){return I2(s)&&s!==N.ABORTED}(i.code)){const o=r.D_.shift();wi(r).Zo(),await fR(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await _f(r)}}(e,t),hR(e)&&pR(e)}async function nw(e,t){const n=le(e);n.asyncQueue.verifyOperationInProgress(),V("RemoteStore","RemoteStore received new credentials");const r=So(n);n.v_.add(3),await lu(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.v_.delete(3),await yf(n)}async function LL(e,t){const n=le(e);t?(n.v_.delete(2),await yf(n)):t||(n.v_.add(2),await lu(n),n.x_.set("Unknown"))}function Hs(e){return e.N_||(e.N_=function(n,r,i){const o=le(n);return o.R_(),new CL(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(e.datastore,e.asyncQueue,{Po:xL.bind(null,e),To:AL.bind(null,e),u_:kL.bind(null,e)}),e.F_.push(async t=>{t?(e.N_.Zo(),Nv(e)?Dv(e):e.x_.set("Unknown")):(await e.N_.stop(),dR(e))})),e.N_}function wi(e){return e.L_||(e.L_=function(n,r,i){const o=le(n);return o.R_(),new TL(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(e.datastore,e.asyncQueue,{Po:NL.bind(null,e),To:$L.bind(null,e),E_:OL.bind(null,e),T_:ML.bind(null,e)}),e.F_.push(async t=>{t?(e.L_.Zo(),await _f(e)):(await e.L_.stop(),e.D_.length>0&&(V("RemoteStore",`Stopping write stream with ${e.D_.length} pending writes`),e.D_=[]))})),e.L_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(t,n,r,i,o){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new _r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,o){const s=Date.now()+r,a=new Ov(t,n,s,i,o);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new K(N.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Mv(e,t){if(nr("AsyncQueue",`${t}: ${e}`),ou(e))return new K(N.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(t){this.comparator=t?(n,r)=>t(n,r)||X.comparator(n.key,r.key):(n,r)=>X.comparator(n.key,r.key),this.keyedMap=xa(),this.sortedSet=new We(this.comparator)}static emptySet(t){return new us(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof us)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new us;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(){this.B_=new We(X.comparator)}track(t){const n=t.doc.key,r=this.B_.get(n);r?t.type!==0&&r.type===3?this.B_=this.B_.insert(n,t):t.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.B_=this.B_.remove(n):t.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:t.doc}):se():this.B_=this.B_.insert(n,t)}k_(){const t=[];return this.B_.inorderTraversal((n,r)=>{t.push(r)}),t}}class Ps{constructor(t,n,r,i,o,s,a,l,u){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(t,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Ps(t,n,us.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ff(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some(t=>t.U_())}}class FL{constructor(){this.queries=new Bs(t=>MT(t),ff),this.onlineState="Unknown",this.W_=new Set}}async function UL(e,t){const n=le(e);let r=3;const i=t.query;let o=n.queries.get(i);o?!o.K_()&&t.U_()&&(r=2):(o=new VL,r=t.U_()?0:1);try{switch(r){case 0:o.q_=await n.onListen(i,!0);break;case 1:o.q_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=Mv(s,`Initialization of query '${Oo(t.query)}' failed`);return void t.onError(a)}n.queries.set(i,o),o.Q_.push(t),t.G_(n.onlineState),o.q_&&t.z_(o.q_)&&$v(n)}async function jL(e,t){const n=le(e),r=t.query;let i=3;const o=n.queries.get(r);if(o){const s=o.Q_.indexOf(t);s>=0&&(o.Q_.splice(s,1),o.Q_.length===0?i=t.U_()?0:1:!o.K_()&&t.U_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function zL(e,t){const n=le(e);let r=!1;for(const i of t){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.Q_)a.z_(i)&&(r=!0);s.q_=i}}r&&$v(n)}function BL(e,t,n){const r=le(e),i=r.queries.get(t);if(i)for(const o of i.Q_)o.onError(n);r.queries.delete(t)}function $v(e){e.W_.forEach(t=>{t.next()})}var Cg,iw;(iw=Cg||(Cg={})).j_="default",iw.Cache="cache";class HL{constructor(t,n,r){this.query=t,this.H_=n,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=r||{}}z_(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new Ps(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.J_?this.Z_(t)&&(this.H_.next(t),n=!0):this.X_(t,this.onlineState)&&(this.ea(t),n=!0),this.Y_=t,n}onError(t){this.H_.error(t)}G_(t){this.onlineState=t;let n=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,t)&&(this.ea(this.Y_),n=!0),n}X_(t,n){if(!t.fromCache||!this.U_())return!0;const r=n!=="Offline";return(!this.options.ta||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Z_(t){if(t.docChanges.length>0)return!0;const n=this.Y_&&this.Y_.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ea(t){t=Ps.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.J_=!0,this.H_.next(t)}U_(){return this.options.source!==Cg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(t){this.key=t}}class mR{constructor(t){this.key=t}}class WL{constructor(t,n){this.query=t,this.ua=n,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=ve(),this.mutatedKeys=ve(),this.ha=$T(t),this.Pa=new us(this.ha)}get Ia(){return this.ua}Ta(t,n){const r=n?n.Ea:new rw,i=n?n.Pa:this.Pa;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((c,d)=>{const f=i.get(c),h=hf(this.query,d)?d:null,y=!!f&&this.mutatedKeys.has(f.key),v=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let _=!1;f&&h?f.data.isEqual(h.data)?y!==v&&(r.track({type:3,doc:h}),_=!0):this.da(f,h)||(r.track({type:2,doc:h}),_=!0,(l&&this.ha(h,l)>0||u&&this.ha(h,u)<0)&&(a=!0)):!f&&h?(r.track({type:0,doc:h}),_=!0):f&&!h&&(r.track({type:1,doc:f}),_=!0,(l||u)&&(a=!0)),_&&(h?(s=s.add(h),o=v?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{Pa:s,Ea:r,Xi:a,mutatedKeys:o}}da(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,i){const o=this.Pa;this.Pa=t.Pa,this.mutatedKeys=t.mutatedKeys;const s=t.Ea.k_();s.sort((c,d)=>function(h,y){const v=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return se()}};return v(h)-v(y)}(c.type,d.type)||this.ha(c.doc,d.doc)),this.Aa(r),i=i!=null&&i;const a=n&&!i?this.Ra():[],l=this.la.size===0&&this.current&&!i?1:0,u=l!==this.ca;return this.ca=l,s.length!==0||u?{snapshot:new Ps(this.query,t.Pa,o,s,t.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Va:a}:{Va:a}}G_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new rw,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(t){return!this.ua.has(t)&&!!this.Pa.has(t)&&!this.Pa.get(t).hasLocalMutations}Aa(t){t&&(t.addedDocuments.forEach(n=>this.ua=this.ua.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.ua=this.ua.delete(n)),this.current=t.current)}Ra(){if(!this.current)return[];const t=this.la;this.la=ve(),this.Pa.forEach(r=>{this.ma(r.key)&&(this.la=this.la.add(r.key))});const n=[];return t.forEach(r=>{this.la.has(r)||n.push(new mR(r))}),this.la.forEach(r=>{t.has(r)||n.push(new gR(r))}),n}fa(t){this.ua=t.hs,this.la=ve();const n=this.Ta(t.documents);return this.applyChanges(n,!0)}ga(){return Ps.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,this.ca===0,this.hasCachedResults)}}class GL{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class qL{constructor(t){this.key=t,this.pa=!1}}class KL{constructor(t,n,r,i,o,s){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.ya={},this.wa=new Bs(a=>MT(a),ff),this.Sa=new Map,this.ba=new Set,this.Da=new We(X.comparator),this.Ca=new Map,this.va=new Pv,this.Fa={},this.Ma=new Map,this.xa=Is.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return this.Oa===!0}}async function QL(e,t,n=!0){const r=SR(e);let i;const o=r.wa.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ga()):i=await vR(r,t,n,!0),i}async function YL(e,t){const n=SR(e);await vR(n,t,!0,!1)}async function vR(e,t,n,r){const i=await mL(e.localStore,er(t)),o=i.targetId,s=n?e.sharedClientState.addLocalQueryTarget(o):"not-current";let a;return r&&(a=await XL(e,t,o,s==="current",i.resumeToken)),e.isPrimaryClient&&n&&uR(e.remoteStore,i),a}async function XL(e,t,n,r,i){e.Na=(d,f,h)=>async function(v,_,p,g){let w=_.view.Ta(p);w.Xi&&(w=await Z_(v.localStore,_.query,!1).then(({documents:T})=>_.view.Ta(T,w)));const S=g&&g.targetChanges.get(_.targetId),C=g&&g.targetMismatches.get(_.targetId)!=null,E=_.view.applyChanges(w,v.isPrimaryClient,S,C);return sw(v,_.targetId,E.Va),E.snapshot}(e,d,f,h);const o=await Z_(e.localStore,t,!0),s=new WL(t,o.hs),a=s.Ta(o.documents),l=au.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),u=s.applyChanges(a,e.isPrimaryClient,l);sw(e,n,u.Va);const c=new GL(t,n,s);return e.wa.set(t,c),e.Sa.has(n)?e.Sa.get(n).push(t):e.Sa.set(n,[t]),u.snapshot}async function JL(e,t,n){const r=le(e),i=r.wa.get(t),o=r.Sa.get(i.targetId);if(o.length>1)return r.Sa.set(i.targetId,o.filter(s=>!ff(s,t))),void r.wa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Sg(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&kv(r.remoteStore,i.targetId),Tg(r,i.targetId)}).catch(iu)):(Tg(r,i.targetId),await Sg(r.localStore,i.targetId,!0))}async function ZL(e,t){const n=le(e),r=n.wa.get(t),i=n.Sa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),kv(n.remoteStore,r.targetId))}async function eV(e,t,n){const r=aV(e);try{const i=await function(s,a){const l=le(s),u=dt.now(),c=a.reduce((h,y)=>h.add(y.key),ve());let d,f;return l.persistence.runTransaction("Locally write mutations","readwrite",h=>{let y=Pr(),v=ve();return l.os.getEntries(h,c).next(_=>{y=_,y.forEach((p,g)=>{g.isValidDocument()||(v=v.add(p))})}).next(()=>l.localDocuments.getOverlayedDocuments(h,y)).next(_=>{d=_;const p=[];for(const g of a){const w=E2(g,d.get(g.key).overlayedDocument);w!=null&&p.push(new Eo(g.key,w,xT(w.value.mapValue),wr.exists(!0)))}return l.mutationQueue.addMutationBatch(h,u,p,a)}).next(_=>{f=_;const p=_.applyToLocalDocumentSet(d,v);return l.documentOverlayCache.saveOverlays(h,_.batchId,p)})}).then(()=>({batchId:f.batchId,changes:VT(d)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.Fa[s.currentUser.toKey()];u||(u=new We(Re)),u=u.insert(a,l),s.Fa[s.currentUser.toKey()]=u}(r,i.batchId,n),await uu(r,i.changes),await _f(r.remoteStore)}catch(i){const o=Mv(i,"Failed to persist write");n.reject(o)}}async function yR(e,t){const n=le(e);try{const r=await hL(n.localStore,t);t.targetChanges.forEach((i,o)=>{const s=n.Ca.get(o);s&&($e(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.pa=!0:i.modifiedDocuments.size>0?$e(s.pa):i.removedDocuments.size>0&&($e(s.pa),s.pa=!1))}),await uu(n,r,t)}catch(r){await iu(r)}}function ow(e,t,n){const r=le(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.wa.forEach((o,s)=>{const a=s.view.G_(t);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=le(s);l.onlineState=a;let u=!1;l.queries.forEach((c,d)=>{for(const f of d.Q_)f.G_(a)&&(u=!0)}),u&&$v(l)}(r.eventManager,t),i.length&&r.ya.u_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function tV(e,t,n){const r=le(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Ca.get(t),o=i&&i.key;if(o){let s=new We(X.comparator);s=s.insert(o,Vt.newNoDocument(o,ae.min()));const a=ve().add(o),l=new mf(ae.min(),new Map,new We(Re),s,a);await yR(r,l),r.Da=r.Da.remove(o),r.Ca.delete(t),Lv(r)}else await Sg(r.localStore,t,!1).then(()=>Tg(r,t,n)).catch(iu)}async function nV(e,t){const n=le(e),r=t.batch.batchId;try{const i=await fL(n.localStore,t);wR(n,r,null),_R(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await uu(n,i)}catch(i){await iu(i)}}async function rV(e,t,n){const r=le(e);try{const i=await function(s,a){const l=le(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>($e(d!==null),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,t);wR(r,t,n),_R(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await uu(r,i)}catch(i){await iu(i)}}function _R(e,t){(e.Ma.get(t)||[]).forEach(n=>{n.resolve()}),e.Ma.delete(t)}function wR(e,t,n){const r=le(e);let i=r.Fa[r.currentUser.toKey()];if(i){const o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.Fa[r.currentUser.toKey()]=i}}function Tg(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Sa.get(t))e.wa.delete(r),n&&e.ya.La(r,n);e.Sa.delete(t),e.isPrimaryClient&&e.va.Vr(t).forEach(r=>{e.va.containsKey(r)||ER(e,r)})}function ER(e,t){e.ba.delete(t.path.canonicalString());const n=e.Da.get(t);n!==null&&(kv(e.remoteStore,n),e.Da=e.Da.remove(t),e.Ca.delete(n),Lv(e))}function sw(e,t,n){for(const r of n)r instanceof gR?(e.va.addReference(r.key,t),iV(e,r)):r instanceof mR?(V("SyncEngine","Document no longer in limbo: "+r.key),e.va.removeReference(r.key,t),e.va.containsKey(r.key)||ER(e,r.key)):se()}function iV(e,t){const n=t.key,r=n.path.canonicalString();e.Da.get(n)||e.ba.has(r)||(V("SyncEngine","New document in limbo: "+n),e.ba.add(r),Lv(e))}function Lv(e){for(;e.ba.size>0&&e.Da.size<e.maxConcurrentLimboResolutions;){const t=e.ba.values().next().value;e.ba.delete(t);const n=new X(Qe.fromString(t)),r=e.xa.next();e.Ca.set(r,new qL(n)),e.Da=e.Da.insert(n,r),uR(e.remoteStore,new ri(er(Cv(n.path)),r,"TargetPurposeLimboResolution",vv._e))}}async function uu(e,t,n){const r=le(e),i=[],o=[],s=[];r.wa.isEmpty()||(r.wa.forEach((a,l)=>{s.push(r.Na(l,t,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=Av.Ki(l.targetId,u);o.push(c)}}))}),await Promise.all(s),r.ya.u_(i),await async function(l,u){const c=le(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>b.forEach(u,f=>b.forEach(f.qi,h=>c.persistence.referenceDelegate.addReference(d,f.targetId,h)).next(()=>b.forEach(f.Qi,h=>c.persistence.referenceDelegate.removeReference(d,f.targetId,h)))))}catch(d){if(!ou(d))throw d;V("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const f=d.targetId;if(!d.fromCache){const h=c.ns.get(f),y=h.snapshotVersion,v=h.withLastLimboFreeSnapshotVersion(y);c.ns=c.ns.insert(f,v)}}}(r.localStore,o))}async function oV(e,t){const n=le(e);if(!n.currentUser.isEqual(t)){V("SyncEngine","User change. New user:",t.toKey());const r=await oR(n.localStore,t);n.currentUser=t,function(o,s){o.Ma.forEach(a=>{a.forEach(l=>{l.reject(new K(N.CANCELLED,s))})}),o.Ma.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await uu(n,r.us)}}function sV(e,t){const n=le(e),r=n.Ca.get(t);if(r&&r.pa)return ve().add(r.key);{let i=ve();const o=n.Sa.get(t);if(!o)return i;for(const s of o){const a=n.wa.get(s);i=i.unionWith(a.view.Ia)}return i}}function SR(e){const t=le(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=yR.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=sV.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=tV.bind(null,t),t.ya.u_=zL.bind(null,t.eventManager),t.ya.La=BL.bind(null,t.eventManager),t}function aV(e){const t=le(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=nV.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=rV.bind(null,t),t}class aw{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=vf(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return dL(this.persistence,new uL,t.initialUser,this.serializer)}createPersistence(t){return new sL(xv.Hr,this.serializer)}createSharedClientState(t){return new yL}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class lV{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ow(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=oV.bind(null,this.syncEngine),await LL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new FL}()}createDatastore(t){const n=vf(t.databaseInfo.databaseId),r=function(o){return new SL(o)}(t.databaseInfo);return function(o,s,a,l){return new RL(o,s,a,l)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,i,o,s,a){return new PL(r,i,o,s,a)}(this.localStore,this.datastore,t.asyncQueue,n=>ow(this.syncEngine,n,0),function(){return tw.D()?new tw:new _L}())}createSyncEngine(t,n){return function(i,o,s,a,l,u,c){const d=new KL(i,o,s,a,l,u);return c&&(d.Oa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t;await async function(r){const i=le(r);V("RemoteStore","RemoteStore shutting down."),i.v_.add(5),await lu(i),i.M_.shutdown(),i.x_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.qa(this.observer.next,t)}error(t){this.observer.error?this.qa(this.observer.error,t):nr("Uncaught Error in snapshot listener:",t.toString())}Qa(){this.muted=!0}qa(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{constructor(t,n,r,i){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=$t.UNAUTHENTICATED,this.clientId=RT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{V("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(V("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new K(N.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new _r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=Mv(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function Nh(e,t){e.asyncQueue.verifyOperationInProgress(),V("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await oR(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function lw(e,t){e.asyncQueue.verifyOperationInProgress();const n=await fV(e);V("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(r=>nw(t.remoteStore,r)),e.setAppCheckTokenChangeListener((r,i)=>nw(t.remoteStore,i)),e._onlineComponents=t}function dV(e){return e.name==="FirebaseError"?e.code===N.FAILED_PRECONDITION||e.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function fV(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){V("FirestoreClient","Using user provided OfflineComponentProvider");try{await Nh(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!dV(n))throw n;Ss("Error using user provided cache. Falling back to memory cache: "+n),await Nh(e,new aw)}}else V("FirestoreClient","Using default OfflineComponentProvider"),await Nh(e,new aw);return e._offlineComponents}async function CR(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(V("FirestoreClient","Using user provided OnlineComponentProvider"),await lw(e,e._uninitializedComponentsProvider._online)):(V("FirestoreClient","Using default OnlineComponentProvider"),await lw(e,new lV))),e._onlineComponents}function hV(e){return CR(e).then(t=>t.syncEngine)}async function pV(e){const t=await CR(e),n=t.eventManager;return n.onListen=QL.bind(null,t.syncEngine),n.onUnlisten=JL.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=YL.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=ZL.bind(null,t.syncEngine),n}function gV(e,t,n={}){const r=new _r;return e.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new uV({next:f=>{s.enqueueAndForget(()=>jL(o,d));const h=f.docs.has(a);!h&&f.fromCache?u.reject(new K(N.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&f.fromCache&&l&&l.source==="server"?u.reject(new K(N.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),d=new HL(Cv(a.path),c,{includeMetadataChanges:!0,ta:!0});return UL(o,d)}(await pV(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TR(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mV(e,t,n){if(!n)throw new K(N.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function vV(e,t,n,r){if(t===!0&&r===!0)throw new K(N.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function cw(e){if(!X.isDocumentKey(e))throw new K(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Vv(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":se()}function Dl(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new K(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Vv(e);throw new K(N.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new K(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new K(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}vV("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=TR((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new K(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new K(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new K(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Fv{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dw({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new K(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new K(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dw(t),t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new A$;switch(r.type){case"firstParty":return new N$(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new K(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=uw.get(n);r&&(V("ComponentProvider","Removing Datastore"),uw.delete(n),r.terminate())}(this),Promise.resolve()}}function yV(e,t,n,r={}){var i;const o=(e=Dl(e,Fv))._getSettings(),s=`${t}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Ss("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=$t.MOCK_USER;else{a=$b(r.mockUserToken,(i=e._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new K(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new $t(u)}e._authCredentials=new k$(new TT(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Uv(this.firestore,t,this._query)}}class Rn{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Nl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Rn(this.firestore,t,this._key)}}class Nl extends Uv{constructor(t,n,r){super(t,n,Cv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Rn(this.firestore,null,new X(t))}withConverter(t){return new Nl(this.firestore,t,this._path)}}function RR(e,t,...n){if(e=fn(e),arguments.length===1&&(t=RT.newId()),mV("doc","path",t),e instanceof Fv){const r=Qe.fromString(t,...n);return cw(r),new Rn(e,null,new X(r))}{if(!(e instanceof Rn||e instanceof Nl))throw new K(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Qe.fromString(t,...n));return cw(r),new Rn(e.firestore,e instanceof Nl?e.converter:null,new X(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new aR(this,"async_queue_retry"),this.cu=()=>{const n=Dh();n&&V("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const t=Dh();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.lu(),this.hu(t)}enterRestrictedMode(t){if(!this.iu){this.iu=!0,this.au=t||!1;const n=Dh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.cu)}}enqueue(t){if(this.lu(),this.iu)return new Promise(()=>{});const n=new _r;return this.hu(()=>this.iu&&this.au?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.ru.push(t),this.Pu()))}async Pu(){if(this.ru.length!==0){try{await this.ru[0](),this.ru.shift(),this.jo.reset()}catch(t){if(!ou(t))throw t;V("AsyncQueue","Operation failed with retryable error: "+t)}this.ru.length>0&&this.jo.qo(()=>this.Pu())}}hu(t){const n=this.nu.then(()=>(this._u=!0,t().catch(r=>{this.ou=r,this._u=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw nr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this._u=!1,r))));return this.nu=n,n}enqueueAfterDelay(t,n,r){this.lu(),this.uu.indexOf(t)>-1&&(n=0);const i=Ov.createAndSchedule(this,t,n,r,o=>this.Iu(o));return this.su.push(i),i}lu(){this.ou&&se()}verifyOperationInProgress(){}async Tu(){let t;do t=this.nu,await t;while(t!==this.nu)}Eu(t){for(const n of this.su)if(n.timerId===t)return!0;return!1}du(t){return this.Tu().then(()=>{this.su.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.su)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tu()})}Au(t){this.uu.push(t)}Iu(t){const n=this.su.indexOf(t);this.su.splice(n,1)}}class jv extends Fv{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=function(){return new _V}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||PR(this),this._firestoreClient.terminate()}}function wV(e,t){const n=typeof e=="object"?e:z1(),r=typeof e=="string"?e:t||"(default)",i=Lm(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=Ob("firestore");o&&yV(i,...o)}return i}function IR(e){return e._firestoreClient||PR(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function PR(e){var t,n,r;const i=e._freezeSettings(),o=function(a,l,u,c){return new q$(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,TR(c.experimentalLongPollingOptions),c.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new cV(e._authCredentials,e._appCheckCredentials,e._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(t){this._byteString=t}static fromBase64String(t){try{return new xs(zt.fromBase64String(t))}catch(n){throw new K(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new xs(zt.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new K(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new It(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new K(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new K(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Re(this._lat,t._lat)||Re(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EV=/^__.*__$/;class SV{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new Eo(t,this.data,this.fieldMask,n,this.fieldTransforms):new su(t,this.data,n,this.fieldTransforms)}}function AR(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw se()}}class Hv{constructor(t,n,r,i,o,s){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ru(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(t){return new Hv(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.mu({path:r,gu:!1});return i.pu(t),i}yu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.mu({path:r,gu:!1});return i.Ru(),i}wu(t){return this.mu({path:void 0,gu:!0})}Su(t){return pd(t,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Ru(){if(this.path)for(let t=0;t<this.path.length;t++)this.pu(this.path.get(t))}pu(t){if(t.length===0)throw this.Su("Document fields must not be empty");if(AR(this.Vu)&&EV.test(t))throw this.Su('Document fields cannot begin and end with "__"')}}class CV{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||vf(t)}Cu(t,n,r,i=!1){return new Hv({Vu:t,methodName:n,Du:r,path:It.emptyPath(),gu:!1,bu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function TV(e){const t=e._freezeSettings(),n=vf(e._databaseId);return new CV(e._databaseId,!!t.ignoreUndefinedProperties,n)}function RV(e,t,n,r,i,o={}){const s=e.Cu(o.merge||o.mergeFields?2:0,t,n,i);NR("Data must be an object, but it was:",s,r);const a=bR(r,s);let l,u;if(o.merge)l=new On(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const c=[];for(const d of o.mergeFields){const f=IV(t,d,n);if(!s.contains(f))throw new K(N.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);xV(c,f)||c.push(f)}l=new On(c),u=s.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=s.fieldTransforms;return new SV(new Sn(a),l,u)}function kR(e,t){if(DR(e=fn(e)))return NR("Unsupported field value:",t,e),bR(e,t);if(e instanceof xR)return function(r,i){if(!AR(i.Vu))throw i.Su(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Su(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.gu&&t.Vu!==4)throw t.Su("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=kR(a,i.wu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(e,t)}return function(r,i){if((r=fn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return g2(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=dt.fromDate(r);return{timestampValue:fd(i.serializer,o)}}if(r instanceof dt){const o=new dt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:fd(i.serializer,o)}}if(r instanceof Bv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof xs)return{bytesValue:JT(i.serializer,r._byteString)};if(r instanceof Rn){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Su(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Iv(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Su(`Unsupported field value: ${Vv(r)}`)}(e,t)}function bR(e,t){const n={};return IT(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):zs(e,(r,i)=>{const o=kR(i,t.fu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function DR(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof dt||e instanceof Bv||e instanceof xs||e instanceof Rn||e instanceof xR)}function NR(e,t,n){if(!DR(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Vv(n);throw r==="an object"?t.Su(e+" a custom object"):t.Su(e+" "+r)}}function IV(e,t,n){if((t=fn(t))instanceof zv)return t._internalPath;if(typeof t=="string")return OR(e,t);throw pd("Field path arguments must be of type string or ",e,!1,void 0,n)}const PV=new RegExp("[~\\*/\\[\\]]");function OR(e,t,n){if(t.search(PV)>=0)throw pd(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new zv(...t.split("."))._internalPath}catch{throw pd(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function pd(e,t,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new K(N.INVALID_ARGUMENT,a+e+l)}function xV(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(t,n,r,i,o){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Rn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new AV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field($R("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class AV extends MR{data(){return super.data()}}function $R(e,t){return typeof t=="string"?OR(e,t):t instanceof zv?t._internalPath:t._delegate._internalPath}class kV{convertValue(t,n="none"){switch(ho(t)){case 0:return null;case 1:return t.booleanValue;case 2:return rt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(fo(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw se()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return zs(t,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(t){return new Bv(rt(t.latitude),rt(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=_v(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Pl(t));default:return null}}convertTimestamp(t){const n=_i(t);return new dt(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=Qe.fromString(t);$e(iR(r));const i=new xl(r.get(1),r.get(3)),o=new X(r.popFirst(5));return i.isEqual(n)||nr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bV(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class LR extends MR{constructor(t,n,r,i,o,s){super(t,n,r,i,s),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new NV(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field($R("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class NV extends LR{data(t={}){return super.data(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OV(e){e=Dl(e,Rn);const t=Dl(e.firestore,jv);return gV(IR(t),e._key).then(n=>VV(t,e,n))}class MV extends kV{constructor(t){super(),this.firestore=t}convertBytes(t){return new xs(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Rn(this.firestore,null,n)}}function $V(e,t,n){e=Dl(e,Rn);const r=Dl(e.firestore,jv),i=bV(e.converter,t,n);return LV(r,[RV(TV(r),"setDoc",e._key,i,e.converter!==null,n).toMutation(e._key,wr.none())])}function LV(e,t){return function(r,i){const o=new _r;return r.asyncQueue.enqueueAndForget(async()=>eV(await hV(r),i,o)),o.promise}(IR(e),t)}function VV(e,t,n){const r=n.docs.get(t._key),i=new MV(e);return new LR(e,i,t._key,r,new DV(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(i){js=i})($s),_s(new ao("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new jv(new b$(r.getProvider("auth-internal")),new M$(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new K(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xl(u.options.projectId,c)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),gi(D_,"4.5.0",t),gi(D_,"4.5.0","esm2017")})();const FV={apiKey:"AIzaSyBshreJcUdV2MD6ahe7HVTqFP4EaTC9-1I",authDomain:"stock-taking-app.firebaseapp.com",projectId:"stock-taking-app",storageBucket:"stock-taking-app.appspot.com",messagingSenderId:"188209975982",appId:"1:188209975982:web:5788c696b0f420fb33933f"},UV=j1(FV),Wv=_M(),VR=wV(UV),FR=m.createContext(),jV=({children:e})=>{const[t,n]=m.useState(null);return m.useEffect(()=>{const r=sO(Wv,i=>{n(i)});return()=>{r()}},[]),x.jsx(FR.Provider,{value:{userState:t},children:e})};function UR(){const e=m.useContext(FR);if(e===void 0)throw new Error("AuthContext was used outside of AuthContextProvider");return e}function nn(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function jn(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function zV(e,t){const n=nn(e);return isNaN(t)?jn(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function BV(e,t){const n=nn(e);if(isNaN(t))return jn(e,NaN);if(!t)return n;const r=n.getDate(),i=jn(e,n.getTime());i.setMonth(n.getMonth()+t+1,0);const o=i.getDate();return r>=o?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}function HV(e,t){const{years:n=0,months:r=0,weeks:i=0,days:o=0,hours:s=0,minutes:a=0,seconds:l=0}=t,u=nn(e),c=r||n?BV(u,r+n*12):u,d=o||i?zV(c,o+i*7):c,f=a+s*60,y=(l+f*60)*1e3;return jn(e,d.getTime()+y)}const jR=6048e5,WV=864e5;let GV={};function wf(){return GV}function Ol(e,t){var a,l,u,c;const n=wf(),r=(t==null?void 0:t.weekStartsOn)??((l=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((c=(u=n.locale)==null?void 0:u.options)==null?void 0:c.weekStartsOn)??0,i=nn(e),o=i.getDay(),s=(o<r?7:0)+o-r;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function gd(e){return Ol(e,{weekStartsOn:1})}function zR(e){const t=nn(e),n=t.getFullYear(),r=jn(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=gd(r),o=jn(e,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const s=gd(o);return t.getTime()>=i.getTime()?n+1:t.getTime()>=s.getTime()?n:n-1}function fw(e){const t=nn(e);return t.setHours(0,0,0,0),t}function hw(e){const t=nn(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function qV(e,t){const n=fw(e),r=fw(t),i=+n-hw(n),o=+r-hw(r);return Math.round((i-o)/WV)}function KV(e){const t=zR(e),n=jn(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),gd(n)}function QV(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function YV(e){if(!QV(e)&&typeof e!="number")return!1;const t=nn(e);return!isNaN(Number(t))}function XV(e){const t=nn(e),n=jn(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}const JV={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ZV=(e,t,n)=>{let r;const i=JV[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Oh(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const eF={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},tF={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},nF={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},rF={date:Oh({formats:eF,defaultWidth:"full"}),time:Oh({formats:tF,defaultWidth:"full"}),dateTime:Oh({formats:nF,defaultWidth:"full"})},iF={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},oF=(e,t,n,r)=>iF[e];function pa(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&e.formattingValues){const s=e.defaultFormattingWidth||e.defaultWidth,a=n!=null&&n.width?String(n.width):s;i=e.formattingValues[a]||e.formattingValues[s]}else{const s=e.defaultWidth,a=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[a]||e.values[s]}const o=e.argumentCallback?e.argumentCallback(t):t;return i[o]}}const sF={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},aF={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},lF={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},uF={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},cF={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},dF={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},fF=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},hF={ordinalNumber:fF,era:pa({values:sF,defaultWidth:"wide"}),quarter:pa({values:aF,defaultWidth:"wide",argumentCallback:e=>e-1}),month:pa({values:lF,defaultWidth:"wide"}),day:pa({values:uF,defaultWidth:"wide"}),dayPeriod:pa({values:cF,defaultWidth:"wide",formattingValues:dF,defaultFormattingWidth:"wide"})};function ga(e){return(t,n={})=>{const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;const s=o[0],a=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(a)?gF(a,d=>d.test(s)):pF(a,d=>d.test(s));let u;u=e.valueCallback?e.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;const c=t.slice(s.length);return{value:u,rest:c}}}function pF(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function gF(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function mF(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],o=t.match(e.parsePattern);if(!o)return null;let s=e.valueCallback?e.valueCallback(o[0]):o[0];s=n.valueCallback?n.valueCallback(s):s;const a=t.slice(i.length);return{value:s,rest:a}}}const vF=/^(\d+)(th|st|nd|rd)?/i,yF=/\d+/i,_F={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},wF={any:[/^b/i,/^(a|c)/i]},EF={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},SF={any:[/1/i,/2/i,/3/i,/4/i]},CF={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},TF={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},RF={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},IF={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},PF={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},xF={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},AF={ordinalNumber:mF({matchPattern:vF,parsePattern:yF,valueCallback:e=>parseInt(e,10)}),era:ga({matchPatterns:_F,defaultMatchWidth:"wide",parsePatterns:wF,defaultParseWidth:"any"}),quarter:ga({matchPatterns:EF,defaultMatchWidth:"wide",parsePatterns:SF,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ga({matchPatterns:CF,defaultMatchWidth:"wide",parsePatterns:TF,defaultParseWidth:"any"}),day:ga({matchPatterns:RF,defaultMatchWidth:"wide",parsePatterns:IF,defaultParseWidth:"any"}),dayPeriod:ga({matchPatterns:PF,defaultMatchWidth:"any",parsePatterns:xF,defaultParseWidth:"any"})},kF={code:"en-US",formatDistance:ZV,formatLong:rF,formatRelative:oF,localize:hF,match:AF,options:{weekStartsOn:0,firstWeekContainsDate:1}};function bF(e){const t=nn(e);return qV(t,XV(t))+1}function DF(e){const t=nn(e),n=+gd(t)-+KV(t);return Math.round(n/jR)+1}function BR(e,t){var c,d,f,h;const n=nn(e),r=n.getFullYear(),i=wf(),o=(t==null?void 0:t.firstWeekContainsDate)??((d=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??i.firstWeekContainsDate??((h=(f=i.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??1,s=jn(e,0);s.setFullYear(r+1,0,o),s.setHours(0,0,0,0);const a=Ol(s,t),l=jn(e,0);l.setFullYear(r,0,o),l.setHours(0,0,0,0);const u=Ol(l,t);return n.getTime()>=a.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function NF(e,t){var a,l,u,c;const n=wf(),r=(t==null?void 0:t.firstWeekContainsDate)??((l=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((c=(u=n.locale)==null?void 0:u.options)==null?void 0:c.firstWeekContainsDate)??1,i=BR(e,t),o=jn(e,0);return o.setFullYear(i,0,r),o.setHours(0,0,0,0),Ol(o,t)}function OF(e,t){const n=nn(e),r=+Ol(n,t)-+NF(n,t);return Math.round(r/jR)+1}function Ie(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const zr={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return Ie(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Ie(n+1,2)},d(e,t){return Ie(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Ie(e.getHours()%12||12,t.length)},H(e,t){return Ie(e.getHours(),t.length)},m(e,t){return Ie(e.getMinutes(),t.length)},s(e,t){return Ie(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Ie(i,t.length)}},ko={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},pw={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return zr.y(e,t)},Y:function(e,t,n,r){const i=BR(e,r),o=i>0?i:1-i;if(t==="YY"){const s=o%100;return Ie(s,2)}return t==="Yo"?n.ordinalNumber(o,{unit:"year"}):Ie(o,t.length)},R:function(e,t){const n=zR(e);return Ie(n,t.length)},u:function(e,t){const n=e.getFullYear();return Ie(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Ie(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Ie(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return zr.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Ie(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=OF(e,r);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):Ie(i,t.length)},I:function(e,t,n){const r=DF(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):Ie(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):zr.d(e,t)},D:function(e,t,n){const r=bF(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Ie(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return Ie(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return Ie(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=r===0?7:r;switch(t){case"i":return String(i);case"ii":return Ie(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(r===12?i=ko.noon:r===0?i=ko.midnight:i=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(r>=17?i=ko.evening:r>=12?i=ko.afternoon:r>=4?i=ko.morning:i=ko.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return zr.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):zr.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Ie(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):Ie(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):zr.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):zr.s(e,t)},S:function(e,t){return zr.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return mw(r);case"XXXX":case"XX":return Vi(r);case"XXXXX":case"XXX":default:return Vi(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return mw(r);case"xxxx":case"xx":return Vi(r);case"xxxxx":case"xxx":default:return Vi(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+gw(r,":");case"OOOO":default:return"GMT"+Vi(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+gw(r,":");case"zzzz":default:return"GMT"+Vi(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return Ie(r,t.length)},T:function(e,t,n){const r=e.getTime();return Ie(r,t.length)}};function gw(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),o=r%60;return o===0?n+String(i):n+String(i)+t+Ie(o,2)}function mw(e,t){return e%60===0?(e>0?"-":"+")+Ie(Math.abs(e)/60,2):Vi(e,t)}function Vi(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Ie(Math.trunc(r/60),2),o=Ie(r%60,2);return n+i+t+o}const vw=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},HR=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},MF=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return vw(e,t);let o;switch(r){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",vw(r,t)).replace("{{time}}",HR(i,t))},$F={p:HR,P:MF},LF=/^D+$/,VF=/^Y+$/,FF=["D","DD","YY","YYYY"];function UF(e){return LF.test(e)}function jF(e){return VF.test(e)}function zF(e,t,n){const r=BF(e,t,n);if(console.warn(r),FF.includes(e))throw new RangeError(r)}function BF(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const HF=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,WF=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,GF=/^'([^]*?)'?$/,qF=/''/g,KF=/[a-zA-Z]/;function Mh(e,t,n){var c,d,f,h,y,v,_,p;const r=wf(),i=(n==null?void 0:n.locale)??r.locale??kF,o=(n==null?void 0:n.firstWeekContainsDate)??((d=(c=n==null?void 0:n.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??r.firstWeekContainsDate??((h=(f=r.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??1,s=(n==null?void 0:n.weekStartsOn)??((v=(y=n==null?void 0:n.locale)==null?void 0:y.options)==null?void 0:v.weekStartsOn)??r.weekStartsOn??((p=(_=r.locale)==null?void 0:_.options)==null?void 0:p.weekStartsOn)??0,a=nn(e);if(!YV(a))throw new RangeError("Invalid time value");let l=t.match(WF).map(g=>{const w=g[0];if(w==="p"||w==="P"){const S=$F[w];return S(g,i.formatLong)}return g}).join("").match(HF).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const w=g[0];if(w==="'")return{isToken:!1,value:QF(g)};if(pw[w])return{isToken:!0,value:g};if(w.match(KF))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:g}});i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));const u={firstWeekContainsDate:o,weekStartsOn:s,locale:i};return l.map(g=>{if(!g.isToken)return g.value;const w=g.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&jF(w)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&UF(w))&&zF(w,t,String(e));const S=pw[w[0]];return S(a,w,i.localize,u)}).join("")}function QF(e){const t=e.match(GF);return t?t[1].replace(qF,"'"):e}function he(){return he=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},he.apply(this,arguments)}function YF(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function WR(...e){return t=>e.forEach(n=>YF(n,t))}function ft(...e){return m.useCallback(WR(...e),e)}const po=m.forwardRef((e,t)=>{const{children:n,...r}=e,i=m.Children.toArray(n),o=i.find(JF);if(o){const s=o.props.children,a=i.map(l=>l===o?m.Children.count(s)>1?m.Children.only(null):m.isValidElement(s)?s.props.children:null:l);return m.createElement(Rg,he({},r,{ref:t}),m.isValidElement(s)?m.cloneElement(s,void 0,a):null)}return m.createElement(Rg,he({},r,{ref:t}),n)});po.displayName="Slot";const Rg=m.forwardRef((e,t)=>{const{children:n,...r}=e;return m.isValidElement(n)?m.cloneElement(n,{...ZF(r,n.props),ref:t?WR(t,n.ref):n.ref}):m.Children.count(n)>1?m.Children.only(null):null});Rg.displayName="SlotClone";const XF=({children:e})=>m.createElement(m.Fragment,null,e);function JF(e){return m.isValidElement(e)&&e.type===XF}function ZF(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...a)=>{o(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function GR(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=GR(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function e4(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=GR(e))&&(r&&(r+=" "),r+=t);return r}const yw=e=>typeof e=="boolean"?"".concat(e):e===0?"0":e,_w=e4,qR=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return _w(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:o}=t,s=Object.keys(i).map(u=>{const c=n==null?void 0:n[u],d=o==null?void 0:o[u];if(c===null)return null;const f=yw(c)||yw(d);return i[u][f]}),a=n&&Object.entries(n).reduce((u,c)=>{let[d,f]=c;return f===void 0||(u[d]=f),u},{}),l=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,c)=>{let{class:d,className:f,...h}=c;return Object.entries(h).every(y=>{let[v,_]=y;return Array.isArray(_)?_.includes({...o,...a}[v]):{...o,...a}[v]===_})?[...u,d,f]:u},[]);return _w(e,s,l,n==null?void 0:n.class,n==null?void 0:n.className)};function KR(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=KR(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function t4(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=KR(e))&&(r&&(r+=" "),r+=t);return r}const Gv="-";function n4(e){const t=i4(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;function i(s){const a=s.split(Gv);return a[0]===""&&a.length!==1&&a.shift(),QR(a,t)||r4(s)}function o(s,a){const l=n[s]||[];return a&&r[s]?[...l,...r[s]]:l}return{getClassGroupId:i,getConflictingClassGroupIds:o}}function QR(e,t){var s;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?QR(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const o=e.join(Gv);return(s=t.validators.find(({validator:a})=>a(o)))==null?void 0:s.classGroupId}const ww=/^\[(.+)\]$/;function r4(e){if(ww.test(e)){const t=ww.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}}function i4(e){const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return s4(Object.entries(e.classGroups),n).forEach(([o,s])=>{Ig(s,r,o,t)}),r}function Ig(e,t,n,r){e.forEach(i=>{if(typeof i=="string"){const o=i===""?t:Ew(t,i);o.classGroupId=n;return}if(typeof i=="function"){if(o4(i)){Ig(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([o,s])=>{Ig(s,Ew(t,o),n,r)})})}function Ew(e,t){let n=e;return t.split(Gv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function o4(e){return e.isThemeGetter}function s4(e,t){return t?e.map(([n,r])=>{const i=r.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([s,a])=>[t+s,a])):o);return[n,i]}):e}function a4(e){if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;function i(o,s){n.set(o,s),t++,t>e&&(t=0,r=n,n=new Map)}return{get(o){let s=n.get(o);if(s!==void 0)return s;if((s=r.get(o))!==void 0)return i(o,s),s},set(o,s){n.has(o)?n.set(o,s):i(o,s)}}}const YR="!";function l4(e){const t=e.separator,n=t.length===1,r=t[0],i=t.length;return function(s){const a=[];let l=0,u=0,c;for(let v=0;v<s.length;v++){let _=s[v];if(l===0){if(_===r&&(n||s.slice(v,v+i)===t)){a.push(s.slice(u,v)),u=v+i;continue}if(_==="/"){c=v;continue}}_==="["?l++:_==="]"&&l--}const d=a.length===0?s:s.substring(u),f=d.startsWith(YR),h=f?d.substring(1):d,y=c&&c>u?c-u:void 0;return{modifiers:a,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:y}}}function u4(e){if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t}function c4(e){return{cache:a4(e.cacheSize),splitModifiers:l4(e),...n4(e)}}const d4=/\s+/;function f4(e,t){const{splitModifiers:n,getClassGroupId:r,getConflictingClassGroupIds:i}=t,o=new Set;return e.trim().split(d4).map(s=>{const{modifiers:a,hasImportantModifier:l,baseClassName:u,maybePostfixModifierPosition:c}=n(s);let d=r(c?u.substring(0,c):u),f=!!c;if(!d){if(!c)return{isTailwindClass:!1,originalClassName:s};if(d=r(u),!d)return{isTailwindClass:!1,originalClassName:s};f=!1}const h=u4(a).join(":");return{isTailwindClass:!0,modifierId:l?h+YR:h,classGroupId:d,originalClassName:s,hasPostfixModifier:f}}).reverse().filter(s=>{if(!s.isTailwindClass)return!0;const{modifierId:a,classGroupId:l,hasPostfixModifier:u}=s,c=a+l;return o.has(c)?!1:(o.add(c),i(l,u).forEach(d=>o.add(a+d)),!0)}).reverse().map(s=>s.originalClassName).join(" ")}function h4(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=XR(t))&&(r&&(r+=" "),r+=n);return r}function XR(e){if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=XR(e[r]))&&(n&&(n+=" "),n+=t);return n}function p4(e,...t){let n,r,i,o=s;function s(l){const u=t.reduce((c,d)=>d(c),e());return n=c4(u),r=n.cache.get,i=n.cache.set,o=a,a(l)}function a(l){const u=r(l);if(u)return u;const c=f4(l,n);return i(l,c),c}return function(){return o(h4.apply(null,arguments))}}function Le(e){const t=n=>n[e]||[];return t.isThemeGetter=!0,t}const JR=/^\[(?:([a-z-]+):)?(.+)\]$/i,g4=/^\d+\/\d+$/,m4=new Set(["px","full","screen"]),v4=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,y4=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,_4=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,w4=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,E4=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/;function ar(e){return Qi(e)||m4.has(e)||g4.test(e)}function Br(e){return Ws(e,"length",A4)}function Qi(e){return!!e&&!Number.isNaN(Number(e))}function ju(e){return Ws(e,"number",Qi)}function ma(e){return!!e&&Number.isInteger(Number(e))}function S4(e){return e.endsWith("%")&&Qi(e.slice(0,-1))}function de(e){return JR.test(e)}function Hr(e){return v4.test(e)}const C4=new Set(["length","size","percentage"]);function T4(e){return Ws(e,C4,ZR)}function R4(e){return Ws(e,"position",ZR)}const I4=new Set(["image","url"]);function P4(e){return Ws(e,I4,b4)}function x4(e){return Ws(e,"",k4)}function va(){return!0}function Ws(e,t,n){const r=JR.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1}function A4(e){return y4.test(e)&&!_4.test(e)}function ZR(){return!1}function k4(e){return w4.test(e)}function b4(e){return E4.test(e)}function D4(){const e=Le("colors"),t=Le("spacing"),n=Le("blur"),r=Le("brightness"),i=Le("borderColor"),o=Le("borderRadius"),s=Le("borderSpacing"),a=Le("borderWidth"),l=Le("contrast"),u=Le("grayscale"),c=Le("hueRotate"),d=Le("invert"),f=Le("gap"),h=Le("gradientColorStops"),y=Le("gradientColorStopPositions"),v=Le("inset"),_=Le("margin"),p=Le("opacity"),g=Le("padding"),w=Le("saturate"),S=Le("scale"),C=Le("sepia"),E=Le("skew"),T=Le("space"),I=Le("translate"),D=()=>["auto","contain","none"],$=()=>["auto","hidden","clip","visible","scroll"],j=()=>["auto",de,t],k=()=>[de,t],G=()=>["",ar,Br],W=()=>["auto",Qi,de],J=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ce=()=>["solid","dashed","dotted","double","none"],B=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"],M=()=>["start","end","center","between","around","evenly","stretch"],U=()=>["","0",de],q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ee=()=>[Qi,ju],me=()=>[Qi,de];return{cacheSize:500,separator:":",theme:{colors:[va],spacing:[ar,Br],blur:["none","",Hr,de],brightness:ee(),borderColor:[e],borderRadius:["none","","full",Hr,de],borderSpacing:k(),borderWidth:G(),contrast:ee(),grayscale:U(),hueRotate:me(),invert:U(),gap:k(),gradientColorStops:[e],gradientColorStopPositions:[S4,Br],inset:j(),margin:j(),opacity:ee(),padding:k(),saturate:ee(),scale:ee(),sepia:U(),skew:me(),space:k(),translate:k()},classGroups:{aspect:[{aspect:["auto","square","video",de]}],container:["container"],columns:[{columns:[Hr]}],"break-after":[{"break-after":q()}],"break-before":[{"break-before":q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...J(),de]}],overflow:[{overflow:$()}],"overflow-x":[{"overflow-x":$()}],"overflow-y":[{"overflow-y":$()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ma,de]}],basis:[{basis:j()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",de]}],grow:[{grow:U()}],shrink:[{shrink:U()}],order:[{order:["first","last","none",ma,de]}],"grid-cols":[{"grid-cols":[va]}],"col-start-end":[{col:["auto",{span:["full",ma,de]},de]}],"col-start":[{"col-start":W()}],"col-end":[{"col-end":W()}],"grid-rows":[{"grid-rows":[va]}],"row-start-end":[{row:["auto",{span:[ma,de]},de]}],"row-start":[{"row-start":W()}],"row-end":[{"row-end":W()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",de]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",de]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...M()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...M(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...M(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[g]}],px:[{px:[g]}],py:[{py:[g]}],ps:[{ps:[g]}],pe:[{pe:[g]}],pt:[{pt:[g]}],pr:[{pr:[g]}],pb:[{pb:[g]}],pl:[{pl:[g]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],ms:[{ms:[_]}],me:[{me:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",de,t]}],"min-w":[{"min-w":[de,t,"min","max","fit"]}],"max-w":[{"max-w":[de,t,"none","full","min","max","fit","prose",{screen:[Hr]},Hr]}],h:[{h:[de,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[de,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[de,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[de,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Hr,Br]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ju]}],"font-family":[{font:[va]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",de]}],"line-clamp":[{"line-clamp":["none",Qi,ju]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ar,de]}],"list-image":[{"list-image":["none",de]}],"list-style-type":[{list:["none","disc","decimal",de]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[p]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[p]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ce(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ar,Br]}],"underline-offset":[{"underline-offset":["auto",ar,de]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",de]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",de]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[p]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...J(),R4]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",T4]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},P4]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[p]}],"border-style":[{border:[...ce(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[p]}],"divide-style":[{divide:ce()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...ce()]}],"outline-offset":[{"outline-offset":[ar,de]}],"outline-w":[{outline:[ar,Br]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:G()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[p]}],"ring-offset-w":[{"ring-offset":[ar,Br]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Hr,x4]}],"shadow-color":[{shadow:[va]}],opacity:[{opacity:[p]}],"mix-blend":[{"mix-blend":B()}],"bg-blend":[{"bg-blend":B()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Hr,de]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[c]}],invert:[{invert:[d]}],saturate:[{saturate:[w]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[c]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[p]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",de]}],duration:[{duration:me()}],ease:[{ease:["linear","in","out","in-out",de]}],delay:[{delay:me()}],animate:[{animate:["none","spin","ping","pulse","bounce",de]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[ma,de]}],"translate-x":[{"translate-x":[I]}],"translate-y":[{"translate-y":[I]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",de]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",de]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",de]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ar,Br,ju]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}const N4=p4(D4);function st(...e){return N4(t4(e))}const O4=qR("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ln=m.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...i},o)=>{const s=r?po:"button";return x.jsx(s,{className:st(O4({variant:t,size:n,className:e})),ref:o,...i})});ln.displayName="Button";const go=m.forwardRef(({className:e,type:t,...n},r)=>x.jsx("input",{type:t,className:st("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...n}));go.displayName="Input";const M4=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],at=M4.reduce((e,t)=>{const n=m.forwardRef((r,i)=>{const{asChild:o,...s}=r,a=o?po:t;return m.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),m.createElement(a,he({},s,{ref:i}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function $4(e,t){e&&xi.flushSync(()=>e.dispatchEvent(t))}const L4=m.forwardRef((e,t)=>m.createElement(at.label,he({},e,{ref:t,onMouseDown:n=>{var r;(r=e.onMouseDown)===null||r===void 0||r.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault()}}))),eI=L4,V4=qR("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),vc=m.forwardRef(({className:e,...t},n)=>x.jsx(eI,{ref:n,className:st(V4(),e),...t}));vc.displayName=eI.displayName;function Ye(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function Ef(e,t=[]){let n=[];function r(o,s){const a=m.createContext(s),l=n.length;n=[...n,s];function u(d){const{scope:f,children:h,...y}=d,v=(f==null?void 0:f[e][l])||a,_=m.useMemo(()=>y,Object.values(y));return m.createElement(v.Provider,{value:_},h)}function c(d,f){const h=(f==null?void 0:f[e][l])||a,y=m.useContext(h);if(y)return y;if(s!==void 0)return s;throw new Error(`\`${d}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,c]}const i=()=>{const o=n.map(s=>m.createContext(s));return function(a){const l=(a==null?void 0:a[e])||o;return m.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return i.scopeName=e,[r,F4(i,...t)]}function F4(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const s=r.reduce((a,{useScope:l,scopeName:u})=>{const d=l(o)[`__scope${u}`];return{...a,...d}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}function xr(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...n)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...n)},[])}function U4(e,t=globalThis==null?void 0:globalThis.document){const n=xr(e);m.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r),()=>t.removeEventListener("keydown",r)},[n,t])}const Pg="dismissableLayer.update",j4="dismissableLayer.pointerDownOutside",z4="dismissableLayer.focusOutside";let Sw;const B4=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),tI=m.forwardRef((e,t)=>{var n;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:s,onInteractOutside:a,onDismiss:l,...u}=e,c=m.useContext(B4),[d,f]=m.useState(null),h=(n=d==null?void 0:d.ownerDocument)!==null&&n!==void 0?n:globalThis==null?void 0:globalThis.document,[,y]=m.useState({}),v=ft(t,I=>f(I)),_=Array.from(c.layers),[p]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),g=_.indexOf(p),w=d?_.indexOf(d):-1,S=c.layersWithOutsidePointerEventsDisabled.size>0,C=w>=g,E=H4(I=>{const D=I.target,$=[...c.branches].some(j=>j.contains(D));!C||$||(o==null||o(I),a==null||a(I),I.defaultPrevented||l==null||l())},h),T=W4(I=>{const D=I.target;[...c.branches].some(j=>j.contains(D))||(s==null||s(I),a==null||a(I),I.defaultPrevented||l==null||l())},h);return U4(I=>{w===c.layers.size-1&&(i==null||i(I),!I.defaultPrevented&&l&&(I.preventDefault(),l()))},h),m.useEffect(()=>{if(d)return r&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(Sw=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),Cw(),()=>{r&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Sw)}},[d,h,r,c]),m.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),Cw())},[d,c]),m.useEffect(()=>{const I=()=>y({});return document.addEventListener(Pg,I),()=>document.removeEventListener(Pg,I)},[]),m.createElement(at.div,he({},u,{ref:v,style:{pointerEvents:S?C?"auto":"none":void 0,...e.style},onFocusCapture:Ye(e.onFocusCapture,T.onFocusCapture),onBlurCapture:Ye(e.onBlurCapture,T.onBlurCapture),onPointerDownCapture:Ye(e.onPointerDownCapture,E.onPointerDownCapture)}))});function H4(e,t=globalThis==null?void 0:globalThis.document){const n=xr(e),r=m.useRef(!1),i=m.useRef(()=>{});return m.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let c=function(){nI(j4,n,u,{discrete:!0})};var l=c;const u={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);r.current=!1},s=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",o),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function W4(e,t=globalThis==null?void 0:globalThis.document){const n=xr(e),r=m.useRef(!1);return m.useEffect(()=>{const i=o=>{o.target&&!r.current&&nI(z4,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Cw(){const e=new CustomEvent(Pg);document.dispatchEvent(e)}function nI(e,t,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?$4(i,o):i.dispatchEvent(o)}let $h=0;function rI(){m.useEffect(()=>{var e,t;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=n[0])!==null&&e!==void 0?e:Tw()),document.body.insertAdjacentElement("beforeend",(t=n[1])!==null&&t!==void 0?t:Tw()),$h++,()=>{$h===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),$h--}},[])}function Tw(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}const Lh="focusScope.autoFocusOnMount",Vh="focusScope.autoFocusOnUnmount",Rw={bubbles:!1,cancelable:!0},iI=m.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...s}=e,[a,l]=m.useState(null),u=xr(i),c=xr(o),d=m.useRef(null),f=ft(t,v=>l(v)),h=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let g=function(E){if(h.paused||!a)return;const T=E.target;a.contains(T)?d.current=T:Gr(d.current,{select:!0})},w=function(E){if(h.paused||!a)return;const T=E.relatedTarget;T!==null&&(a.contains(T)||Gr(d.current,{select:!0}))},S=function(E){if(document.activeElement===document.body)for(const I of E)I.removedNodes.length>0&&Gr(a)};var v=g,_=w,p=S;document.addEventListener("focusin",g),document.addEventListener("focusout",w);const C=new MutationObserver(S);return a&&C.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",w),C.disconnect()}}},[r,a,h.paused]),m.useEffect(()=>{if(a){Pw.add(h);const v=document.activeElement;if(!a.contains(v)){const p=new CustomEvent(Lh,Rw);a.addEventListener(Lh,u),a.dispatchEvent(p),p.defaultPrevented||(G4(X4(oI(a)),{select:!0}),document.activeElement===v&&Gr(a))}return()=>{a.removeEventListener(Lh,u),setTimeout(()=>{const p=new CustomEvent(Vh,Rw);a.addEventListener(Vh,c),a.dispatchEvent(p),p.defaultPrevented||Gr(v??document.body,{select:!0}),a.removeEventListener(Vh,c),Pw.remove(h)},0)}}},[a,u,c,h]);const y=m.useCallback(v=>{if(!n&&!r||h.paused)return;const _=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,p=document.activeElement;if(_&&p){const g=v.currentTarget,[w,S]=q4(g);w&&S?!v.shiftKey&&p===S?(v.preventDefault(),n&&Gr(w,{select:!0})):v.shiftKey&&p===w&&(v.preventDefault(),n&&Gr(S,{select:!0})):p===g&&v.preventDefault()}},[n,r,h.paused]);return m.createElement(at.div,he({tabIndex:-1},s,{ref:f,onKeyDown:y}))});function G4(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Gr(r,{select:t}),document.activeElement!==n)return}function q4(e){const t=oI(e),n=Iw(t,e),r=Iw(t.reverse(),e);return[n,r]}function oI(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Iw(e,t){for(const n of e)if(!K4(n,{upTo:t}))return n}function K4(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Q4(e){return e instanceof HTMLInputElement&&"select"in e}function Gr(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Q4(e)&&t&&e.select()}}const Pw=Y4();function Y4(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=xw(e,t),e.unshift(t)},remove(t){var n;e=xw(e,t),(n=e[0])===null||n===void 0||n.resume()}}}function xw(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function X4(e){return e.filter(t=>t.tagName!=="A")}const tn=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},J4=lE.useId||(()=>{});let Z4=0;function Sf(e){const[t,n]=m.useState(J4());return tn(()=>{e||n(r=>r??String(Z4++))},[e]),e||(t?`radix-${t}`:"")}const e9=["top","right","bottom","left"],Ei=Math.min,sn=Math.max,md=Math.round,zu=Math.floor,Si=e=>({x:e,y:e}),t9={left:"right",right:"left",bottom:"top",top:"bottom"},n9={start:"end",end:"start"};function xg(e,t,n){return sn(e,Ei(t,n))}function Ar(e,t){return typeof e=="function"?e(t):e}function kr(e){return e.split("-")[0]}function Gs(e){return e.split("-")[1]}function qv(e){return e==="x"?"y":"x"}function Kv(e){return e==="y"?"height":"width"}function qs(e){return["top","bottom"].includes(kr(e))?"y":"x"}function Qv(e){return qv(qs(e))}function r9(e,t,n){n===void 0&&(n=!1);const r=Gs(e),i=Qv(e),o=Kv(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(s=vd(s)),[s,vd(s)]}function i9(e){const t=vd(e);return[Ag(e),t,Ag(t)]}function Ag(e){return e.replace(/start|end/g,t=>n9[t])}function o9(e,t,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?o:s;default:return[]}}function s9(e,t,n,r){const i=Gs(e);let o=o9(kr(e),n==="start",r);return i&&(o=o.map(s=>s+"-"+i),t&&(o=o.concat(o.map(Ag)))),o}function vd(e){return e.replace(/left|right|bottom|top/g,t=>t9[t])}function a9(e){return{top:0,right:0,bottom:0,left:0,...e}}function sI(e){return typeof e!="number"?a9(e):{top:e,right:e,bottom:e,left:e}}function yd(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function Aw(e,t,n){let{reference:r,floating:i}=e;const o=qs(t),s=Qv(t),a=Kv(s),l=kr(t),u=o==="y",c=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,f=r[a]/2-i[a]/2;let h;switch(l){case"top":h={x:c,y:r.y-i.height};break;case"bottom":h={x:c,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:d};break;case"left":h={x:r.x-i.width,y:d};break;default:h={x:r.x,y:r.y}}switch(Gs(t)){case"start":h[s]-=f*(n&&u?-1:1);break;case"end":h[s]+=f*(n&&u?-1:1);break}return h}const l9=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(t));let u=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:c,y:d}=Aw(u,r,l),f=r,h={},y=0;for(let v=0;v<a.length;v++){const{name:_,fn:p}=a[v],{x:g,y:w,data:S,reset:C}=await p({x:c,y:d,initialPlacement:r,placement:f,strategy:i,middlewareData:h,rects:u,platform:s,elements:{reference:e,floating:t}});c=g??c,d=w??d,h={...h,[_]:{...h[_],...S}},C&&y<=50&&(y++,typeof C=="object"&&(C.placement&&(f=C.placement),C.rects&&(u=C.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:i}):C.rects),{x:c,y:d}=Aw(u,f,l)),v=-1)}return{x:c,y:d,placement:f,strategy:i,middlewareData:h}};async function Ml(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:d="floating",altBoundary:f=!1,padding:h=0}=Ar(t,e),y=sI(h),_=a[f?d==="floating"?"reference":"floating":d],p=yd(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(_)))==null||n?_:_.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:u,rootBoundary:c,strategy:l})),g=d==="floating"?{...s.floating,x:r,y:i}:s.reference,w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),S=await(o.isElement==null?void 0:o.isElement(w))?await(o.getScale==null?void 0:o.getScale(w))||{x:1,y:1}:{x:1,y:1},C=yd(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:g,offsetParent:w,strategy:l}):g);return{top:(p.top-C.top+y.top)/S.y,bottom:(C.bottom-p.bottom+y.bottom)/S.y,left:(p.left-C.left+y.left)/S.x,right:(C.right-p.right+y.right)/S.x}}const u9=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:o,platform:s,elements:a,middlewareData:l}=t,{element:u,padding:c=0}=Ar(e,t)||{};if(u==null)return{};const d=sI(c),f={x:n,y:r},h=Qv(i),y=Kv(h),v=await s.getDimensions(u),_=h==="y",p=_?"top":"left",g=_?"bottom":"right",w=_?"clientHeight":"clientWidth",S=o.reference[y]+o.reference[h]-f[h]-o.floating[y],C=f[h]-o.reference[h],E=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let T=E?E[w]:0;(!T||!await(s.isElement==null?void 0:s.isElement(E)))&&(T=a.floating[w]||o.floating[y]);const I=S/2-C/2,D=T/2-v[y]/2-1,$=Ei(d[p],D),j=Ei(d[g],D),k=$,G=T-v[y]-j,W=T/2-v[y]/2+I,J=xg(k,W,G),ce=!l.arrow&&Gs(i)!=null&&W!==J&&o.reference[y]/2-(W<k?$:j)-v[y]/2<0,B=ce?W<k?W-k:W-G:0;return{[h]:f[h]+B,data:{[h]:J,centerOffset:W-J-B,...ce&&{alignmentOffset:B}},reset:ce}}}),c9=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:l,elements:u}=t,{mainAxis:c=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:v=!0,..._}=Ar(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const p=kr(i),g=kr(a)===a,w=await(l.isRTL==null?void 0:l.isRTL(u.floating)),S=f||(g||!v?[vd(a)]:i9(a));!f&&y!=="none"&&S.push(...s9(a,v,y,w));const C=[a,...S],E=await Ml(t,_),T=[];let I=((r=o.flip)==null?void 0:r.overflows)||[];if(c&&T.push(E[p]),d){const k=r9(i,s,w);T.push(E[k[0]],E[k[1]])}if(I=[...I,{placement:i,overflows:T}],!T.every(k=>k<=0)){var D,$;const k=(((D=o.flip)==null?void 0:D.index)||0)+1,G=C[k];if(G)return{data:{index:k,overflows:I},reset:{placement:G}};let W=($=I.filter(J=>J.overflows[0]<=0).sort((J,ce)=>J.overflows[1]-ce.overflows[1])[0])==null?void 0:$.placement;if(!W)switch(h){case"bestFit":{var j;const J=(j=I.map(ce=>[ce.placement,ce.overflows.filter(B=>B>0).reduce((B,M)=>B+M,0)]).sort((ce,B)=>ce[1]-B[1])[0])==null?void 0:j[0];J&&(W=J);break}case"initialPlacement":W=a;break}if(i!==W)return{reset:{placement:W}}}return{}}}};function kw(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function bw(e){return e9.some(t=>e[t]>=0)}const d9=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=Ar(e,t);switch(r){case"referenceHidden":{const o=await Ml(t,{...i,elementContext:"reference"}),s=kw(o,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:bw(s)}}}case"escaped":{const o=await Ml(t,{...i,altBoundary:!0}),s=kw(o,n.floating);return{data:{escapedOffsets:s,escaped:bw(s)}}}default:return{}}}}};async function f9(e,t){const{placement:n,platform:r,elements:i}=e,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=kr(n),a=Gs(n),l=qs(n)==="y",u=["left","top"].includes(s)?-1:1,c=o&&l?-1:1,d=Ar(t,e);let{mainAxis:f,crossAxis:h,alignmentAxis:y}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return a&&typeof y=="number"&&(h=a==="end"?y*-1:y),l?{x:h*c,y:f*u}:{x:f*u,y:h*c}}const h9=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:o,placement:s,middlewareData:a}=t,l=await f9(t,e);return s===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:s}}}}},p9=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:_=>{let{x:p,y:g}=_;return{x:p,y:g}}},...l}=Ar(e,t),u={x:n,y:r},c=await Ml(t,l),d=qs(kr(i)),f=qv(d);let h=u[f],y=u[d];if(o){const _=f==="y"?"top":"left",p=f==="y"?"bottom":"right",g=h+c[_],w=h-c[p];h=xg(g,h,w)}if(s){const _=d==="y"?"top":"left",p=d==="y"?"bottom":"right",g=y+c[_],w=y-c[p];y=xg(g,y,w)}const v=a.fn({...t,[f]:h,[d]:y});return{...v,data:{x:v.x-n,y:v.y-r}}}}},g9=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:o,middlewareData:s}=t,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=Ar(e,t),c={x:n,y:r},d=qs(i),f=qv(d);let h=c[f],y=c[d];const v=Ar(a,t),_=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){const w=f==="y"?"height":"width",S=o.reference[f]-o.floating[w]+_.mainAxis,C=o.reference[f]+o.reference[w]-_.mainAxis;h<S?h=S:h>C&&(h=C)}if(u){var p,g;const w=f==="y"?"width":"height",S=["top","left"].includes(kr(i)),C=o.reference[d]-o.floating[w]+(S&&((p=s.offset)==null?void 0:p[d])||0)+(S?0:_.crossAxis),E=o.reference[d]+o.reference[w]+(S?0:((g=s.offset)==null?void 0:g[d])||0)-(S?_.crossAxis:0);y<C?y=C:y>E&&(y=E)}return{[f]:h,[d]:y}}}},m9=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:r,platform:i,elements:o}=t,{apply:s=()=>{},...a}=Ar(e,t),l=await Ml(t,a),u=kr(n),c=Gs(n),d=qs(n)==="y",{width:f,height:h}=r.floating;let y,v;u==="top"||u==="bottom"?(y=u,v=c===(await(i.isRTL==null?void 0:i.isRTL(o.floating))?"start":"end")?"left":"right"):(v=u,y=c==="end"?"top":"bottom");const _=h-l[y],p=f-l[v],g=!t.middlewareData.shift;let w=_,S=p;if(d){const E=f-l.left-l.right;S=c||g?Ei(p,E):E}else{const E=h-l.top-l.bottom;w=c||g?Ei(_,E):E}if(g&&!c){const E=sn(l.left,0),T=sn(l.right,0),I=sn(l.top,0),D=sn(l.bottom,0);d?S=f-2*(E!==0||T!==0?E+T:sn(l.left,l.right)):w=h-2*(I!==0||D!==0?I+D:sn(l.top,l.bottom))}await s({...t,availableWidth:S,availableHeight:w});const C=await i.getDimensions(o.floating);return f!==C.width||h!==C.height?{reset:{rects:!0}}:{}}}};function Ci(e){return aI(e)?(e.nodeName||"").toLowerCase():"#document"}function cn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Mr(e){var t;return(t=(aI(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function aI(e){return e instanceof Node||e instanceof cn(e).Node}function br(e){return e instanceof Element||e instanceof cn(e).Element}function or(e){return e instanceof HTMLElement||e instanceof cn(e).HTMLElement}function Dw(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof cn(e).ShadowRoot}function cu(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=xn(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function v9(e){return["table","td","th"].includes(Ci(e))}function Yv(e){const t=Xv(),n=xn(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function y9(e){let t=As(e);for(;or(t)&&!Cf(t);){if(Yv(t))return t;t=As(t)}return null}function Xv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Cf(e){return["html","body","#document"].includes(Ci(e))}function xn(e){return cn(e).getComputedStyle(e)}function Tf(e){return br(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function As(e){if(Ci(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Dw(e)&&e.host||Mr(e);return Dw(t)?t.host:t}function lI(e){const t=As(e);return Cf(t)?e.ownerDocument?e.ownerDocument.body:e.body:or(t)&&cu(t)?t:lI(t)}function $l(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=lI(e),o=i===((r=e.ownerDocument)==null?void 0:r.body),s=cn(i);return o?t.concat(s,s.visualViewport||[],cu(i)?i:[],s.frameElement&&n?$l(s.frameElement):[]):t.concat(i,$l(i,[],n))}function uI(e){const t=xn(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=or(e),o=i?e.offsetWidth:n,s=i?e.offsetHeight:r,a=md(n)!==o||md(r)!==s;return a&&(n=o,r=s),{width:n,height:r,$:a}}function Jv(e){return br(e)?e:e.contextElement}function cs(e){const t=Jv(e);if(!or(t))return Si(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=uI(t);let s=(o?md(n.width):n.width)/r,a=(o?md(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const _9=Si(0);function cI(e){const t=cn(e);return!Xv()||!t.visualViewport?_9:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function w9(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==cn(e)?!1:t}function mo(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=Jv(e);let s=Si(1);t&&(r?br(r)&&(s=cs(r)):s=cs(e));const a=w9(o,n,r)?cI(o):Si(0);let l=(i.left+a.x)/s.x,u=(i.top+a.y)/s.y,c=i.width/s.x,d=i.height/s.y;if(o){const f=cn(o),h=r&&br(r)?cn(r):r;let y=f,v=y.frameElement;for(;v&&r&&h!==y;){const _=cs(v),p=v.getBoundingClientRect(),g=xn(v),w=p.left+(v.clientLeft+parseFloat(g.paddingLeft))*_.x,S=p.top+(v.clientTop+parseFloat(g.paddingTop))*_.y;l*=_.x,u*=_.y,c*=_.x,d*=_.y,l+=w,u+=S,y=cn(v),v=y.frameElement}}return yd({width:c,height:d,x:l,y:u})}const E9=[":popover-open",":modal"];function dI(e){return E9.some(t=>{try{return e.matches(t)}catch{return!1}})}function S9(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const o=i==="fixed",s=Mr(r),a=t?dI(t.floating):!1;if(r===s||a&&o)return n;let l={scrollLeft:0,scrollTop:0},u=Si(1);const c=Si(0),d=or(r);if((d||!d&&!o)&&((Ci(r)!=="body"||cu(s))&&(l=Tf(r)),or(r))){const f=mo(r);u=cs(r),c.x=f.x+r.clientLeft,c.y=f.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+c.x,y:n.y*u.y-l.scrollTop*u.y+c.y}}function C9(e){return Array.from(e.getClientRects())}function fI(e){return mo(Mr(e)).left+Tf(e).scrollLeft}function T9(e){const t=Mr(e),n=Tf(e),r=e.ownerDocument.body,i=sn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=sn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+fI(e);const a=-n.scrollTop;return xn(r).direction==="rtl"&&(s+=sn(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:a}}function R9(e,t){const n=cn(e),r=Mr(e),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;const u=Xv();(!u||u&&t==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a,y:l}}function I9(e,t){const n=mo(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=or(e)?cs(e):Si(1),s=e.clientWidth*o.x,a=e.clientHeight*o.y,l=i*o.x,u=r*o.y;return{width:s,height:a,x:l,y:u}}function Nw(e,t,n){let r;if(t==="viewport")r=R9(e,n);else if(t==="document")r=T9(Mr(e));else if(br(t))r=I9(t,n);else{const i=cI(e);r={...t,x:t.x-i.x,y:t.y-i.y}}return yd(r)}function hI(e,t){const n=As(e);return n===t||!br(n)||Cf(n)?!1:xn(n).position==="fixed"||hI(n,t)}function P9(e,t){const n=t.get(e);if(n)return n;let r=$l(e,[],!1).filter(a=>br(a)&&Ci(a)!=="body"),i=null;const o=xn(e).position==="fixed";let s=o?As(e):e;for(;br(s)&&!Cf(s);){const a=xn(s),l=Yv(s);!l&&a.position==="fixed"&&(i=null),(o?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||cu(s)&&!l&&hI(e,s))?r=r.filter(c=>c!==s):i=a,s=As(s)}return t.set(e,r),r}function x9(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const s=[...n==="clippingAncestors"?P9(t,this._c):[].concat(n),r],a=s[0],l=s.reduce((u,c)=>{const d=Nw(t,c,i);return u.top=sn(d.top,u.top),u.right=Ei(d.right,u.right),u.bottom=Ei(d.bottom,u.bottom),u.left=sn(d.left,u.left),u},Nw(t,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function A9(e){const{width:t,height:n}=uI(e);return{width:t,height:n}}function k9(e,t,n){const r=or(t),i=Mr(t),o=n==="fixed",s=mo(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const l=Si(0);if(r||!r&&!o)if((Ci(t)!=="body"||cu(i))&&(a=Tf(t)),r){const d=mo(t,!0,o,t);l.x=d.x+t.clientLeft,l.y=d.y+t.clientTop}else i&&(l.x=fI(i));const u=s.left+a.scrollLeft-l.x,c=s.top+a.scrollTop-l.y;return{x:u,y:c,width:s.width,height:s.height}}function Ow(e,t){return!or(e)||xn(e).position==="fixed"?null:t?t(e):e.offsetParent}function pI(e,t){const n=cn(e);if(!or(e)||dI(e))return n;let r=Ow(e,t);for(;r&&v9(r)&&xn(r).position==="static";)r=Ow(r,t);return r&&(Ci(r)==="html"||Ci(r)==="body"&&xn(r).position==="static"&&!Yv(r))?n:r||y9(e)||n}const b9=async function(e){const t=this.getOffsetParent||pI,n=this.getDimensions;return{reference:k9(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,...await n(e.floating)}}};function D9(e){return xn(e).direction==="rtl"}const N9={convertOffsetParentRelativeRectToViewportRelativeRect:S9,getDocumentElement:Mr,getClippingRect:x9,getOffsetParent:pI,getElementRects:b9,getClientRects:C9,getDimensions:A9,getScale:cs,isElement:br,isRTL:D9};function O9(e,t){let n=null,r;const i=Mr(e);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const{left:u,top:c,width:d,height:f}=e.getBoundingClientRect();if(a||t(),!d||!f)return;const h=zu(c),y=zu(i.clientWidth-(u+d)),v=zu(i.clientHeight-(c+f)),_=zu(u),g={rootMargin:-h+"px "+-y+"px "+-v+"px "+-_+"px",threshold:sn(0,Ei(1,l))||1};let w=!0;function S(C){const E=C[0].intersectionRatio;if(E!==l){if(!w)return s();E?s(!1,E):r=setTimeout(()=>{s(!1,1e-7)},100)}w=!1}try{n=new IntersectionObserver(S,{...g,root:i.ownerDocument})}catch{n=new IntersectionObserver(S,g)}n.observe(e)}return s(!0),o}function M9(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=Jv(e),c=i||o?[...u?$l(u):[],...$l(t)]:[];c.forEach(p=>{i&&p.addEventListener("scroll",n,{passive:!0}),o&&p.addEventListener("resize",n)});const d=u&&a?O9(u,n):null;let f=-1,h=null;s&&(h=new ResizeObserver(p=>{let[g]=p;g&&g.target===u&&h&&(h.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var w;(w=h)==null||w.observe(t)})),n()}),u&&!l&&h.observe(u),h.observe(t));let y,v=l?mo(e):null;l&&_();function _(){const p=mo(e);v&&(p.x!==v.x||p.y!==v.y||p.width!==v.width||p.height!==v.height)&&n(),v=p,y=requestAnimationFrame(_)}return n(),()=>{var p;c.forEach(g=>{i&&g.removeEventListener("scroll",n),o&&g.removeEventListener("resize",n)}),d==null||d(),(p=h)==null||p.disconnect(),h=null,l&&cancelAnimationFrame(y)}}const $9=p9,L9=c9,V9=m9,F9=d9,Mw=u9,U9=g9,j9=(e,t,n)=>{const r=new Map,i={platform:N9,...n},o={...i.platform,_c:r};return l9(e,t,{...i,platform:o})},z9=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Mw({element:r.current,padding:i}).fn(n):{}:r?Mw({element:r,padding:i}).fn(n):{}}}};var yc=typeof document<"u"?m.useLayoutEffect:m.useEffect;function _d(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!_d(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&e.$$typeof)&&!_d(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function gI(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function $w(e,t){const n=gI(e);return Math.round(t*n)/n}function Lw(e){const t=m.useRef(e);return yc(()=>{t.current=e}),t}function B9(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:s}={},transform:a=!0,whileElementsMounted:l,open:u}=e,[c,d]=m.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,h]=m.useState(r);_d(f,r)||h(r);const[y,v]=m.useState(null),[_,p]=m.useState(null),g=m.useCallback(B=>{B!==E.current&&(E.current=B,v(B))},[]),w=m.useCallback(B=>{B!==T.current&&(T.current=B,p(B))},[]),S=o||y,C=s||_,E=m.useRef(null),T=m.useRef(null),I=m.useRef(c),D=l!=null,$=Lw(l),j=Lw(i),k=m.useCallback(()=>{if(!E.current||!T.current)return;const B={placement:t,strategy:n,middleware:f};j.current&&(B.platform=j.current),j9(E.current,T.current,B).then(M=>{const U={...M,isPositioned:!0};G.current&&!_d(I.current,U)&&(I.current=U,xi.flushSync(()=>{d(U)}))})},[f,t,n,j]);yc(()=>{u===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,d(B=>({...B,isPositioned:!1})))},[u]);const G=m.useRef(!1);yc(()=>(G.current=!0,()=>{G.current=!1}),[]),yc(()=>{if(S&&(E.current=S),C&&(T.current=C),S&&C){if($.current)return $.current(S,C,k);k()}},[S,C,k,$,D]);const W=m.useMemo(()=>({reference:E,floating:T,setReference:g,setFloating:w}),[g,w]),J=m.useMemo(()=>({reference:S,floating:C}),[S,C]),ce=m.useMemo(()=>{const B={position:n,left:0,top:0};if(!J.floating)return B;const M=$w(J.floating,c.x),U=$w(J.floating,c.y);return a?{...B,transform:"translate("+M+"px, "+U+"px)",...gI(J.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:M,top:U}},[n,a,J.floating,c.x,c.y]);return m.useMemo(()=>({...c,update:k,refs:W,elements:J,floatingStyles:ce}),[c,k,W,J,ce])}function H9(e){const[t,n]=m.useState(void 0);return tn(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let s,a;if("borderBoxSize"in o){const l=o.borderBoxSize,u=Array.isArray(l)?l[0]:l;s=u.inlineSize,a=u.blockSize}else s=e.offsetWidth,a=e.offsetHeight;n({width:s,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}const mI="Popper",[vI,Rf]=Ef(mI),[W9,yI]=vI(mI),G9=e=>{const{__scopePopper:t,children:n}=e,[r,i]=m.useState(null);return m.createElement(W9,{scope:t,anchor:r,onAnchorChange:i},n)},q9="PopperAnchor",K9=m.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,o=yI(q9,n),s=m.useRef(null),a=ft(t,s);return m.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||s.current)}),r?null:m.createElement(at.div,he({},i,{ref:a}))}),_I="PopperContent",[Q9,v6]=vI(_I),Y9=m.forwardRef((e,t)=>{var n,r,i,o,s,a,l,u;const{__scopePopper:c,side:d="bottom",sideOffset:f=0,align:h="center",alignOffset:y=0,arrowPadding:v=0,avoidCollisions:_=!0,collisionBoundary:p=[],collisionPadding:g=0,sticky:w="partial",hideWhenDetached:S=!1,updatePositionStrategy:C="optimized",onPlaced:E,...T}=e,I=yI(_I,c),[D,$]=m.useState(null),j=ft(t,Et=>$(Et)),[k,G]=m.useState(null),W=H9(k),J=(n=W==null?void 0:W.width)!==null&&n!==void 0?n:0,ce=(r=W==null?void 0:W.height)!==null&&r!==void 0?r:0,B=d+(h!=="center"?"-"+h:""),M=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},U=Array.isArray(p)?p:[p],q=U.length>0,ee={padding:M,boundary:U.filter(X9),altBoundary:q},{refs:me,floatingStyles:wt,placement:Ne,isPositioned:Je,middlewareData:Ae}=B9({strategy:"fixed",placement:B,whileElementsMounted:(...Et)=>M9(...Et,{animationFrame:C==="always"}),elements:{reference:I.anchor},middleware:[h9({mainAxis:f+ce,alignmentAxis:y}),_&&$9({mainAxis:!0,crossAxis:!1,limiter:w==="partial"?U9():void 0,...ee}),_&&L9({...ee}),V9({...ee,apply:({elements:Et,rects:$r,availableWidth:Ni,availableHeight:Df})=>{const{width:Nf,height:Of}=$r.reference,zn=Et.floating.style;zn.setProperty("--radix-popper-available-width",`${Ni}px`),zn.setProperty("--radix-popper-available-height",`${Df}px`),zn.setProperty("--radix-popper-anchor-width",`${Nf}px`),zn.setProperty("--radix-popper-anchor-height",`${Of}px`)}}),k&&z9({element:k,padding:v}),J9({arrowWidth:J,arrowHeight:ce}),S&&F9({strategy:"referenceHidden",...ee})]}),[Q,be]=wI(Ne),tt=xr(E);tn(()=>{Je&&(tt==null||tt())},[Je,tt]);const De=(i=Ae.arrow)===null||i===void 0?void 0:i.x,ue=(o=Ae.arrow)===null||o===void 0?void 0:o.y,Ee=((s=Ae.arrow)===null||s===void 0?void 0:s.centerOffset)!==0,[bt,Bt]=m.useState();return tn(()=>{D&&Bt(window.getComputedStyle(D).zIndex)},[D]),m.createElement("div",{ref:me.setFloating,"data-radix-popper-content-wrapper":"",style:{...wt,transform:Je?wt.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:bt,"--radix-popper-transform-origin":[(a=Ae.transformOrigin)===null||a===void 0?void 0:a.x,(l=Ae.transformOrigin)===null||l===void 0?void 0:l.y].join(" ")},dir:e.dir},m.createElement(Q9,{scope:c,placedSide:Q,onArrowChange:G,arrowX:De,arrowY:ue,shouldHideArrow:Ee},m.createElement(at.div,he({"data-side":Q,"data-align":be},T,{ref:j,style:{...T.style,animation:Je?void 0:"none",opacity:(u=Ae.hide)!==null&&u!==void 0&&u.referenceHidden?0:void 0}}))))});function X9(e){return e!==null}const J9=e=>({name:"transformOrigin",options:e,fn(t){var n,r,i,o,s;const{placement:a,rects:l,middlewareData:u}=t,d=((n=u.arrow)===null||n===void 0?void 0:n.centerOffset)!==0,f=d?0:e.arrowWidth,h=d?0:e.arrowHeight,[y,v]=wI(a),_={start:"0%",center:"50%",end:"100%"}[v],p=((r=(i=u.arrow)===null||i===void 0?void 0:i.x)!==null&&r!==void 0?r:0)+f/2,g=((o=(s=u.arrow)===null||s===void 0?void 0:s.y)!==null&&o!==void 0?o:0)+h/2;let w="",S="";return y==="bottom"?(w=d?_:`${p}px`,S=`${-h}px`):y==="top"?(w=d?_:`${p}px`,S=`${l.floating.height+h}px`):y==="right"?(w=`${-h}px`,S=d?_:`${g}px`):y==="left"&&(w=`${l.floating.width+h}px`,S=d?_:`${g}px`),{data:{x:w,y:S}}}});function wI(e){const[t,n="center"]=e.split("-");return[t,n]}const EI=G9,SI=K9,CI=Y9,TI=m.forwardRef((e,t)=>{var n;const{container:r=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...i}=e;return r?h1.createPortal(m.createElement(at.div,he({},i,{ref:t})),r):null});function Z9(e,t){return m.useReducer((n,r)=>{const i=t[n][r];return i??n},e)}const Zv=e=>{const{present:t,children:n}=e,r=e5(t),i=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),o=ft(r.ref,i.ref);return typeof n=="function"||r.isPresent?m.cloneElement(i,{ref:o}):null};Zv.displayName="Presence";function e5(e){const[t,n]=m.useState(),r=m.useRef({}),i=m.useRef(e),o=m.useRef("none"),s=e?"mounted":"unmounted",[a,l]=Z9(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const u=Bu(r.current);o.current=a==="mounted"?u:"none"},[a]),tn(()=>{const u=r.current,c=i.current;if(c!==e){const f=o.current,h=Bu(u);e?l("MOUNT"):h==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(c&&f!==h?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,l]),tn(()=>{if(t){const u=d=>{const h=Bu(r.current).includes(d.animationName);d.target===t&&h&&xi.flushSync(()=>l("ANIMATION_END"))},c=d=>{d.target===t&&(o.current=Bu(r.current))};return t.addEventListener("animationstart",c),t.addEventListener("animationcancel",u),t.addEventListener("animationend",u),()=>{t.removeEventListener("animationstart",c),t.removeEventListener("animationcancel",u),t.removeEventListener("animationend",u)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function Bu(e){return(e==null?void 0:e.animationName)||"none"}function kg({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,i]=t5({defaultProp:t,onChange:n}),o=e!==void 0,s=o?e:r,a=xr(n),l=m.useCallback(u=>{if(o){const d=typeof u=="function"?u(e):u;d!==e&&a(d)}else i(u)},[o,e,i,a]);return[s,l]}function t5({defaultProp:e,onChange:t}){const n=m.useState(e),[r]=n,i=m.useRef(r),o=xr(t);return m.useEffect(()=>{i.current!==r&&(o(r),i.current=r)},[r,i,o]),n}var n5=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},bo=new WeakMap,Hu=new WeakMap,Wu={},Fh=0,RI=function(e){return e&&(e.host||RI(e.parentNode))},r5=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=RI(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},i5=function(e,t,n,r){var i=r5(t,Array.isArray(e)?e:[e]);Wu[n]||(Wu[n]=new WeakMap);var o=Wu[n],s=[],a=new Set,l=new Set(i),u=function(d){!d||a.has(d)||(a.add(d),u(d.parentNode))};i.forEach(u);var c=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(f){if(a.has(f))c(f);else try{var h=f.getAttribute(r),y=h!==null&&h!=="false",v=(bo.get(f)||0)+1,_=(o.get(f)||0)+1;bo.set(f,v),o.set(f,_),s.push(f),v===1&&y&&Hu.set(f,!0),_===1&&f.setAttribute(n,"true"),y||f.setAttribute(r,"true")}catch(p){console.error("aria-hidden: cannot operate on ",f,p)}})};return c(t),a.clear(),Fh++,function(){s.forEach(function(d){var f=bo.get(d)-1,h=o.get(d)-1;bo.set(d,f),o.set(d,h),f||(Hu.has(d)||d.removeAttribute(r),Hu.delete(d)),h||d.removeAttribute(n)}),Fh--,Fh||(bo=new WeakMap,bo=new WeakMap,Hu=new WeakMap,Wu={})}},II=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=t||n5(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),i5(r,i,n,"aria-hidden")):function(){return null}},_c="right-scroll-bar-position",wc="width-before-scroll-bar",o5="with-scroll-bars-hidden",s5="--removed-body-scroll-bar-size";function Uh(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function a5(e,t){var n=m.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var l5=typeof window<"u"?m.useLayoutEffect:m.useEffect,Vw=new WeakMap;function u5(e,t){var n=a5(t||null,function(r){return e.forEach(function(i){return Uh(i,r)})});return l5(function(){var r=Vw.get(n);if(r){var i=new Set(r),o=new Set(e),s=n.current;i.forEach(function(a){o.has(a)||Uh(a,null)}),o.forEach(function(a){i.has(a)||Uh(a,s)})}Vw.set(n,e)},[e]),n}function c5(e){return e}function d5(e,t){t===void 0&&(t=c5);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var s=t(o,r);return n.push(s),function(){n=n.filter(function(a){return a!==s})}},assignSyncMedium:function(o){for(r=!0;n.length;){var s=n;n=[],s.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var s=[];if(n.length){var a=n;n=[],a.forEach(o),s=n}var l=function(){var c=s;s=[],c.forEach(o)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(c){s.push(c),u()},filter:function(c){return s=s.filter(c),n}}}};return i}function f5(e){e===void 0&&(e={});var t=d5(null);return t.options=Gn({async:!0,ssr:!1},e),t}var PI=function(e){var t=e.sideCar,n=Gl(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return m.createElement(r,Gn({},n))};PI.isSideCarExport=!0;function h5(e,t){return e.useMedium(t),PI}var xI=f5(),jh=function(){},If=m.forwardRef(function(e,t){var n=m.useRef(null),r=m.useState({onScrollCapture:jh,onWheelCapture:jh,onTouchMoveCapture:jh}),i=r[0],o=r[1],s=e.forwardProps,a=e.children,l=e.className,u=e.removeScrollBar,c=e.enabled,d=e.shards,f=e.sideCar,h=e.noIsolation,y=e.inert,v=e.allowPinchZoom,_=e.as,p=_===void 0?"div":_,g=Gl(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),w=f,S=u5([n,t]),C=Gn(Gn({},g),i);return m.createElement(m.Fragment,null,c&&m.createElement(w,{sideCar:xI,removeScrollBar:u,shards:d,noIsolation:h,inert:y,setCallbacks:o,allowPinchZoom:!!v,lockRef:n}),s?m.cloneElement(m.Children.only(a),Gn(Gn({},C),{ref:S})):m.createElement(p,Gn({},C,{className:l,ref:S}),a))});If.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};If.classNames={fullWidth:wc,zeroRight:_c};var p5=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function g5(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=p5();return t&&e.setAttribute("nonce",t),e}function m5(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function v5(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var y5=function(){var e=0,t=null;return{add:function(n){e==0&&(t=g5())&&(m5(t,n),v5(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},_5=function(){var e=y5();return function(t,n){m.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},AI=function(){var e=_5(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},w5={left:0,top:0,right:0,gap:0},zh=function(e){return parseInt(e||"",10)||0},E5=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[zh(n),zh(r),zh(i)]},S5=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return w5;var t=E5(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},C5=AI(),ds="data-scroll-locked",T5=function(e,t,n,r){var i=e.left,o=e.top,s=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(o5,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(ds,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(_c,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(wc,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(_c," .").concat(_c,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(wc," .").concat(wc,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ds,`] {
    `).concat(s5,": ").concat(a,`px;
  }
`)},Fw=function(){var e=parseInt(document.body.getAttribute(ds)||"0",10);return isFinite(e)?e:0},R5=function(){m.useEffect(function(){return document.body.setAttribute(ds,(Fw()+1).toString()),function(){var e=Fw()-1;e<=0?document.body.removeAttribute(ds):document.body.setAttribute(ds,e.toString())}},[])},I5=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;R5();var o=m.useMemo(function(){return S5(i)},[i]);return m.createElement(C5,{styles:T5(o,!t,i,n?"":"!important")})},bg=!1;if(typeof window<"u")try{var Gu=Object.defineProperty({},"passive",{get:function(){return bg=!0,!0}});window.addEventListener("test",Gu,Gu),window.removeEventListener("test",Gu,Gu)}catch{bg=!1}var Do=bg?{passive:!1}:!1,P5=function(e){return e.tagName==="TEXTAREA"},kI=function(e,t){var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!P5(e)&&n[t]==="visible")},x5=function(e){return kI(e,"overflowY")},A5=function(e){return kI(e,"overflowX")},Uw=function(e,t){var n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=bI(e,n);if(r){var i=DI(e,n),o=i[1],s=i[2];if(o>s)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},k5=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},b5=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},bI=function(e,t){return e==="v"?x5(t):A5(t)},DI=function(e,t){return e==="v"?k5(t):b5(t)},D5=function(e,t){return e==="h"&&t==="rtl"?-1:1},N5=function(e,t,n,r,i){var o=D5(e,window.getComputedStyle(t).direction),s=o*r,a=n.target,l=t.contains(a),u=!1,c=s>0,d=0,f=0;do{var h=DI(e,a),y=h[0],v=h[1],_=h[2],p=v-_-o*y;(y||p)&&bI(e,a)&&(d+=p,f+=y),a=a.parentNode}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(c&&(i&&d===0||!i&&s>d)||!c&&(i&&f===0||!i&&-s>f))&&(u=!0),u},qu=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},jw=function(e){return[e.deltaX,e.deltaY]},zw=function(e){return e&&"current"in e?e.current:e},O5=function(e,t){return e[0]===t[0]&&e[1]===t[1]},M5=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},$5=0,No=[];function L5(e){var t=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),i=m.useState($5++)[0],o=m.useState(function(){return AI()})[0],s=m.useRef(e);m.useEffect(function(){s.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var v=nN([e.lockRef.current],(e.shards||[]).map(zw),!0).filter(Boolean);return v.forEach(function(_){return _.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var a=m.useCallback(function(v,_){if("touches"in v&&v.touches.length===2)return!s.current.allowPinchZoom;var p=qu(v),g=n.current,w="deltaX"in v?v.deltaX:g[0]-p[0],S="deltaY"in v?v.deltaY:g[1]-p[1],C,E=v.target,T=Math.abs(w)>Math.abs(S)?"h":"v";if("touches"in v&&T==="h"&&E.type==="range")return!1;var I=Uw(T,E);if(!I)return!0;if(I?C=T:(C=T==="v"?"h":"v",I=Uw(T,E)),!I)return!1;if(!r.current&&"changedTouches"in v&&(w||S)&&(r.current=C),!C)return!0;var D=r.current||C;return N5(D,_,v,D==="h"?w:S,!0)},[]),l=m.useCallback(function(v){var _=v;if(!(!No.length||No[No.length-1]!==o)){var p="deltaY"in _?jw(_):qu(_),g=t.current.filter(function(C){return C.name===_.type&&C.target===_.target&&O5(C.delta,p)})[0];if(g&&g.should){_.cancelable&&_.preventDefault();return}if(!g){var w=(s.current.shards||[]).map(zw).filter(Boolean).filter(function(C){return C.contains(_.target)}),S=w.length>0?a(_,w[0]):!s.current.noIsolation;S&&_.cancelable&&_.preventDefault()}}},[]),u=m.useCallback(function(v,_,p,g){var w={name:v,delta:_,target:p,should:g};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(S){return S!==w})},1)},[]),c=m.useCallback(function(v){n.current=qu(v),r.current=void 0},[]),d=m.useCallback(function(v){u(v.type,jw(v),v.target,a(v,e.lockRef.current))},[]),f=m.useCallback(function(v){u(v.type,qu(v),v.target,a(v,e.lockRef.current))},[]);m.useEffect(function(){return No.push(o),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:f}),document.addEventListener("wheel",l,Do),document.addEventListener("touchmove",l,Do),document.addEventListener("touchstart",c,Do),function(){No=No.filter(function(v){return v!==o}),document.removeEventListener("wheel",l,Do),document.removeEventListener("touchmove",l,Do),document.removeEventListener("touchstart",c,Do)}},[]);var h=e.removeScrollBar,y=e.inert;return m.createElement(m.Fragment,null,y?m.createElement(o,{styles:M5(i)}):null,h?m.createElement(I5,{gapMode:"margin"}):null)}const V5=h5(xI,L5);var NI=m.forwardRef(function(e,t){return m.createElement(If,Gn({},e,{ref:t,sideCar:V5}))});NI.classNames=If.classNames;const OI=NI,MI="Popover",[$I,y6]=Ef(MI,[Rf]),ey=Rf(),[F5,Ks]=$I(MI),U5=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:s=!1}=e,a=ey(t),l=m.useRef(null),[u,c]=m.useState(!1),[d=!1,f]=kg({prop:r,defaultProp:i,onChange:o});return m.createElement(EI,a,m.createElement(F5,{scope:t,contentId:Sf(),triggerRef:l,open:d,onOpenChange:f,onOpenToggle:m.useCallback(()=>f(h=>!h),[f]),hasCustomAnchor:u,onCustomAnchorAdd:m.useCallback(()=>c(!0),[]),onCustomAnchorRemove:m.useCallback(()=>c(!1),[]),modal:s},n))},j5="PopoverTrigger",z5=m.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=Ks(j5,n),o=ey(n),s=ft(t,i.triggerRef),a=m.createElement(at.button,he({type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":FI(i.open)},r,{ref:s,onClick:Ye(e.onClick,i.onOpenToggle)}));return i.hasCustomAnchor?a:m.createElement(SI,he({asChild:!0},o),a)}),LI="PopoverPortal",[B5,H5]=$I(LI,{forceMount:void 0}),W5=e=>{const{__scopePopover:t,forceMount:n,children:r,container:i}=e,o=Ks(LI,t);return m.createElement(B5,{scope:t,forceMount:n},m.createElement(Zv,{present:n||o.open},m.createElement(TI,{asChild:!0,container:i},r)))},Ll="PopoverContent",G5=m.forwardRef((e,t)=>{const n=H5(Ll,e.__scopePopover),{forceMount:r=n.forceMount,...i}=e,o=Ks(Ll,e.__scopePopover);return m.createElement(Zv,{present:r||o.open},o.modal?m.createElement(q5,he({},i,{ref:t})):m.createElement(K5,he({},i,{ref:t})))}),q5=m.forwardRef((e,t)=>{const n=Ks(Ll,e.__scopePopover),r=m.useRef(null),i=ft(t,r),o=m.useRef(!1);return m.useEffect(()=>{const s=r.current;if(s)return II(s)},[]),m.createElement(OI,{as:po,allowPinchZoom:!0},m.createElement(VI,he({},e,{ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ye(e.onCloseAutoFocus,s=>{var a;s.preventDefault(),o.current||(a=n.triggerRef.current)===null||a===void 0||a.focus()}),onPointerDownOutside:Ye(e.onPointerDownOutside,s=>{const a=s.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0,u=a.button===2||l;o.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Ye(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1})})))}),K5=m.forwardRef((e,t)=>{const n=Ks(Ll,e.__scopePopover),r=m.useRef(!1),i=m.useRef(!1);return m.createElement(VI,he({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var s;if((s=e.onCloseAutoFocus)===null||s===void 0||s.call(e,o),!o.defaultPrevented){var a;r.current||(a=n.triggerRef.current)===null||a===void 0||a.focus(),o.preventDefault()}r.current=!1,i.current=!1},onInteractOutside:o=>{var s,a;(s=e.onInteractOutside)===null||s===void 0||s.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const l=o.target;((a=n.triggerRef.current)===null||a===void 0?void 0:a.contains(l))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}}))}),VI=m.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:s,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:u,onInteractOutside:c,...d}=e,f=Ks(Ll,n),h=ey(n);return rI(),m.createElement(iI,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o},m.createElement(tI,{asChild:!0,disableOutsidePointerEvents:s,onInteractOutside:c,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:u,onDismiss:()=>f.onOpenChange(!1)},m.createElement(CI,he({"data-state":FI(f.open),role:"dialog",id:f.contentId},h,d,{ref:t,style:{...d.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}}))))});function FI(e){return e?"open":"closed"}const Q5=U5,Y5=z5,X5=W5,UI=G5,J5=Q5,Z5=Y5,jI=m.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},i)=>x.jsx(X5,{children:x.jsx(UI,{ref:i,align:t,sideOffset:n,className:st("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));jI.displayName=UI.displayName;function Bw(e,[t,n]){return Math.min(n,Math.max(t,e))}function e3(e){const t=e+"CollectionProvider",[n,r]=Ef(t),[i,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),s=h=>{const{scope:y,children:v}=h,_=vn.useRef(null),p=vn.useRef(new Map).current;return vn.createElement(i,{scope:y,itemMap:p,collectionRef:_},v)},a=e+"CollectionSlot",l=vn.forwardRef((h,y)=>{const{scope:v,children:_}=h,p=o(a,v),g=ft(y,p.collectionRef);return vn.createElement(po,{ref:g},_)}),u=e+"CollectionItemSlot",c="data-radix-collection-item",d=vn.forwardRef((h,y)=>{const{scope:v,children:_,...p}=h,g=vn.useRef(null),w=ft(y,g),S=o(u,v);return vn.useEffect(()=>(S.itemMap.set(g,{ref:g,...p}),()=>void S.itemMap.delete(g))),vn.createElement(po,{[c]:"",ref:w},_)});function f(h){const y=o(e+"CollectionConsumer",h);return vn.useCallback(()=>{const _=y.collectionRef.current;if(!_)return[];const p=Array.from(_.querySelectorAll(`[${c}]`));return Array.from(y.itemMap.values()).sort((S,C)=>p.indexOf(S.ref.current)-p.indexOf(C.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:s,Slot:l,ItemSlot:d},f,r]}const t3=m.createContext(void 0);function n3(e){const t=m.useContext(t3);return e||t||"ltr"}function r3(e){const t=m.useRef({value:e,previous:e});return m.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}const i3=m.forwardRef((e,t)=>m.createElement(at.span,he({},e,{ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}))),o3=[" ","Enter","ArrowUp","ArrowDown"],s3=[" ","Enter"],Pf="Select",[xf,Af,a3]=e3(Pf),[Qs,_6]=Ef(Pf,[a3,Rf]),ty=Rf(),[l3,Co]=Qs(Pf),[u3,c3]=Qs(Pf),d3=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:i,onOpenChange:o,value:s,defaultValue:a,onValueChange:l,dir:u,name:c,autoComplete:d,disabled:f,required:h}=e,y=ty(t),[v,_]=m.useState(null),[p,g]=m.useState(null),[w,S]=m.useState(!1),C=n3(u),[E=!1,T]=kg({prop:r,defaultProp:i,onChange:o}),[I,D]=kg({prop:s,defaultProp:a,onChange:l}),$=m.useRef(null),j=v?!!v.closest("form"):!0,[k,G]=m.useState(new Set),W=Array.from(k).map(J=>J.props.value).join(";");return m.createElement(EI,y,m.createElement(l3,{required:h,scope:t,trigger:v,onTriggerChange:_,valueNode:p,onValueNodeChange:g,valueNodeHasChildren:w,onValueNodeHasChildrenChange:S,contentId:Sf(),value:I,onValueChange:D,open:E,onOpenChange:T,dir:C,triggerPointerDownPosRef:$,disabled:f},m.createElement(xf.Provider,{scope:t},m.createElement(u3,{scope:e.__scopeSelect,onNativeOptionAdd:m.useCallback(J=>{G(ce=>new Set(ce).add(J))},[]),onNativeOptionRemove:m.useCallback(J=>{G(ce=>{const B=new Set(ce);return B.delete(J),B})},[])},n)),j?m.createElement(GI,{key:W,"aria-hidden":!0,required:h,tabIndex:-1,name:c,autoComplete:d,value:I,onChange:J=>D(J.target.value),disabled:f},I===void 0?m.createElement("option",{value:""}):null,Array.from(k)):null))},f3="SelectTrigger",h3=m.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...i}=e,o=ty(n),s=Co(f3,n),a=s.disabled||r,l=ft(t,s.onTriggerChange),u=Af(n),[c,d,f]=qI(y=>{const v=u().filter(g=>!g.disabled),_=v.find(g=>g.value===s.value),p=KI(v,y,_);p!==void 0&&s.onValueChange(p.value)}),h=()=>{a||(s.onOpenChange(!0),f())};return m.createElement(SI,he({asChild:!0},o),m.createElement(at.button,he({type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":WI(s.value)?"":void 0},i,{ref:l,onClick:Ye(i.onClick,y=>{y.currentTarget.focus()}),onPointerDown:Ye(i.onPointerDown,y=>{const v=y.target;v.hasPointerCapture(y.pointerId)&&v.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&(h(),s.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)},y.preventDefault())}),onKeyDown:Ye(i.onKeyDown,y=>{const v=c.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&d(y.key),!(v&&y.key===" ")&&o3.includes(y.key)&&(h(),y.preventDefault())})})))}),p3="SelectValue",g3=m.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,children:o,placeholder:s="",...a}=e,l=Co(p3,n),{onValueNodeHasChildrenChange:u}=l,c=o!==void 0,d=ft(t,l.onValueNodeChange);return tn(()=>{u(c)},[u,c]),m.createElement(at.span,he({},a,{ref:d,style:{pointerEvents:"none"}}),WI(l.value)?m.createElement(m.Fragment,null,s):o)}),m3=m.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...i}=e;return m.createElement(at.span,he({"aria-hidden":!0},i,{ref:t}),r||"")}),v3=e=>m.createElement(TI,he({asChild:!0},e)),ks="SelectContent",y3=m.forwardRef((e,t)=>{const n=Co(ks,e.__scopeSelect),[r,i]=m.useState();if(tn(()=>{i(new DocumentFragment)},[]),!n.open){const o=r;return o?xi.createPortal(m.createElement(zI,{scope:e.__scopeSelect},m.createElement(xf.Slot,{scope:e.__scopeSelect},m.createElement("div",null,e.children))),o):null}return m.createElement(_3,he({},e,{ref:t}))}),ur=10,[zI,To]=Qs(ks),_3=m.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:s,side:a,sideOffset:l,align:u,alignOffset:c,arrowPadding:d,collisionBoundary:f,collisionPadding:h,sticky:y,hideWhenDetached:v,avoidCollisions:_,...p}=e,g=Co(ks,n),[w,S]=m.useState(null),[C,E]=m.useState(null),T=ft(t,Q=>S(Q)),[I,D]=m.useState(null),[$,j]=m.useState(null),k=Af(n),[G,W]=m.useState(!1),J=m.useRef(!1);m.useEffect(()=>{if(w)return II(w)},[w]),rI();const ce=m.useCallback(Q=>{const[be,...tt]=k().map(Ee=>Ee.ref.current),[De]=tt.slice(-1),ue=document.activeElement;for(const Ee of Q)if(Ee===ue||(Ee==null||Ee.scrollIntoView({block:"nearest"}),Ee===be&&C&&(C.scrollTop=0),Ee===De&&C&&(C.scrollTop=C.scrollHeight),Ee==null||Ee.focus(),document.activeElement!==ue))return},[k,C]),B=m.useCallback(()=>ce([I,w]),[ce,I,w]);m.useEffect(()=>{G&&B()},[G,B]);const{onOpenChange:M,triggerPointerDownPosRef:U}=g;m.useEffect(()=>{if(w){let Q={x:0,y:0};const be=De=>{var ue,Ee,bt,Bt;Q={x:Math.abs(Math.round(De.pageX)-((ue=(Ee=U.current)===null||Ee===void 0?void 0:Ee.x)!==null&&ue!==void 0?ue:0)),y:Math.abs(Math.round(De.pageY)-((bt=(Bt=U.current)===null||Bt===void 0?void 0:Bt.y)!==null&&bt!==void 0?bt:0))}},tt=De=>{Q.x<=10&&Q.y<=10?De.preventDefault():w.contains(De.target)||M(!1),document.removeEventListener("pointermove",be),U.current=null};return U.current!==null&&(document.addEventListener("pointermove",be),document.addEventListener("pointerup",tt,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",be),document.removeEventListener("pointerup",tt,{capture:!0})}}},[w,M,U]),m.useEffect(()=>{const Q=()=>M(!1);return window.addEventListener("blur",Q),window.addEventListener("resize",Q),()=>{window.removeEventListener("blur",Q),window.removeEventListener("resize",Q)}},[M]);const[q,ee]=qI(Q=>{const be=k().filter(ue=>!ue.disabled),tt=be.find(ue=>ue.ref.current===document.activeElement),De=KI(be,Q,tt);De&&setTimeout(()=>De.ref.current.focus())}),me=m.useCallback((Q,be,tt)=>{const De=!J.current&&!tt;(g.value!==void 0&&g.value===be||De)&&(D(Q),De&&(J.current=!0))},[g.value]),wt=m.useCallback(()=>w==null?void 0:w.focus(),[w]),Ne=m.useCallback((Q,be,tt)=>{const De=!J.current&&!tt;(g.value!==void 0&&g.value===be||De)&&j(Q)},[g.value]),Je=r==="popper"?Hw:w3,Ae=Je===Hw?{side:a,sideOffset:l,align:u,alignOffset:c,arrowPadding:d,collisionBoundary:f,collisionPadding:h,sticky:y,hideWhenDetached:v,avoidCollisions:_}:{};return m.createElement(zI,{scope:n,content:w,viewport:C,onViewportChange:E,itemRefCallback:me,selectedItem:I,onItemLeave:wt,itemTextRefCallback:Ne,focusSelectedItem:B,selectedItemText:$,position:r,isPositioned:G,searchRef:q},m.createElement(OI,{as:po,allowPinchZoom:!0},m.createElement(iI,{asChild:!0,trapped:g.open,onMountAutoFocus:Q=>{Q.preventDefault()},onUnmountAutoFocus:Ye(i,Q=>{var be;(be=g.trigger)===null||be===void 0||be.focus({preventScroll:!0}),Q.preventDefault()})},m.createElement(tI,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:Q=>Q.preventDefault(),onDismiss:()=>g.onOpenChange(!1)},m.createElement(Je,he({role:"listbox",id:g.contentId,"data-state":g.open?"open":"closed",dir:g.dir,onContextMenu:Q=>Q.preventDefault()},p,Ae,{onPlaced:()=>W(!0),ref:T,style:{display:"flex",flexDirection:"column",outline:"none",...p.style},onKeyDown:Ye(p.onKeyDown,Q=>{const be=Q.ctrlKey||Q.altKey||Q.metaKey;if(Q.key==="Tab"&&Q.preventDefault(),!be&&Q.key.length===1&&ee(Q.key),["ArrowUp","ArrowDown","Home","End"].includes(Q.key)){let De=k().filter(ue=>!ue.disabled).map(ue=>ue.ref.current);if(["ArrowUp","End"].includes(Q.key)&&(De=De.slice().reverse()),["ArrowUp","ArrowDown"].includes(Q.key)){const ue=Q.target,Ee=De.indexOf(ue);De=De.slice(Ee+1)}setTimeout(()=>ce(De)),Q.preventDefault()}})}))))))}),w3=m.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...i}=e,o=Co(ks,n),s=To(ks,n),[a,l]=m.useState(null),[u,c]=m.useState(null),d=ft(t,T=>c(T)),f=Af(n),h=m.useRef(!1),y=m.useRef(!0),{viewport:v,selectedItem:_,selectedItemText:p,focusSelectedItem:g}=s,w=m.useCallback(()=>{if(o.trigger&&o.valueNode&&a&&u&&v&&_&&p){const T=o.trigger.getBoundingClientRect(),I=u.getBoundingClientRect(),D=o.valueNode.getBoundingClientRect(),$=p.getBoundingClientRect();if(o.dir!=="rtl"){const ue=$.left-I.left,Ee=D.left-ue,bt=T.left-Ee,Bt=T.width+bt,Et=Math.max(Bt,I.width),$r=window.innerWidth-ur,Ni=Bw(Ee,[ur,$r-Et]);a.style.minWidth=Bt+"px",a.style.left=Ni+"px"}else{const ue=I.right-$.right,Ee=window.innerWidth-D.right-ue,bt=window.innerWidth-T.right-Ee,Bt=T.width+bt,Et=Math.max(Bt,I.width),$r=window.innerWidth-ur,Ni=Bw(Ee,[ur,$r-Et]);a.style.minWidth=Bt+"px",a.style.right=Ni+"px"}const j=f(),k=window.innerHeight-ur*2,G=v.scrollHeight,W=window.getComputedStyle(u),J=parseInt(W.borderTopWidth,10),ce=parseInt(W.paddingTop,10),B=parseInt(W.borderBottomWidth,10),M=parseInt(W.paddingBottom,10),U=J+ce+G+M+B,q=Math.min(_.offsetHeight*5,U),ee=window.getComputedStyle(v),me=parseInt(ee.paddingTop,10),wt=parseInt(ee.paddingBottom,10),Ne=T.top+T.height/2-ur,Je=k-Ne,Ae=_.offsetHeight/2,Q=_.offsetTop+Ae,be=J+ce+Q,tt=U-be;if(be<=Ne){const ue=_===j[j.length-1].ref.current;a.style.bottom="0px";const Ee=u.clientHeight-v.offsetTop-v.offsetHeight,bt=Math.max(Je,Ae+(ue?wt:0)+Ee+B),Bt=be+bt;a.style.height=Bt+"px"}else{const ue=_===j[0].ref.current;a.style.top="0px";const bt=Math.max(Ne,J+v.offsetTop+(ue?me:0)+Ae)+tt;a.style.height=bt+"px",v.scrollTop=be-Ne+v.offsetTop}a.style.margin=`${ur}px 0`,a.style.minHeight=q+"px",a.style.maxHeight=k+"px",r==null||r(),requestAnimationFrame(()=>h.current=!0)}},[f,o.trigger,o.valueNode,a,u,v,_,p,o.dir,r]);tn(()=>w(),[w]);const[S,C]=m.useState();tn(()=>{u&&C(window.getComputedStyle(u).zIndex)},[u]);const E=m.useCallback(T=>{T&&y.current===!0&&(w(),g==null||g(),y.current=!1)},[w,g]);return m.createElement(E3,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:h,onScrollButtonChange:E},m.createElement("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S}},m.createElement(at.div,he({},i,{ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}}))))}),Hw=m.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=ur,...o}=e,s=ty(n);return m.createElement(CI,he({},s,o,{ref:t,align:r,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}}))}),[E3,ny]=Qs(ks,{}),Ww="SelectViewport",S3=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=To(Ww,n),o=ny(Ww,n),s=ft(t,i.onViewportChange),a=m.useRef(0);return m.createElement(m.Fragment,null,m.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"}}),m.createElement(xf.Slot,{scope:n},m.createElement(at.div,he({"data-radix-select-viewport":"",role:"presentation"},r,{ref:s,style:{position:"relative",flex:1,overflow:"auto",...r.style},onScroll:Ye(r.onScroll,l=>{const u=l.currentTarget,{contentWrapper:c,shouldExpandOnScrollRef:d}=o;if(d!=null&&d.current&&c){const f=Math.abs(a.current-u.scrollTop);if(f>0){const h=window.innerHeight-ur*2,y=parseFloat(c.style.minHeight),v=parseFloat(c.style.height),_=Math.max(y,v);if(_<h){const p=_+f,g=Math.min(h,p),w=p-g;c.style.height=g+"px",c.style.bottom==="0px"&&(u.scrollTop=w>0?w:0,c.style.justifyContent="flex-end")}}}a.current=u.scrollTop})}))))}),C3="SelectGroup",[T3,R3]=Qs(C3),I3=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=Sf();return m.createElement(T3,{scope:n,id:i},m.createElement(at.div,he({role:"group","aria-labelledby":i},r,{ref:t})))}),P3="SelectLabel",x3=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=R3(P3,n);return m.createElement(at.div,he({id:i.id},r,{ref:t}))}),Dg="SelectItem",[A3,BI]=Qs(Dg),k3=m.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:o,...s}=e,a=Co(Dg,n),l=To(Dg,n),u=a.value===r,[c,d]=m.useState(o??""),[f,h]=m.useState(!1),y=ft(t,p=>{var g;return(g=l.itemRefCallback)===null||g===void 0?void 0:g.call(l,p,r,i)}),v=Sf(),_=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return m.createElement(A3,{scope:n,value:r,disabled:i,textId:v,isSelected:u,onItemTextChange:m.useCallback(p=>{d(g=>{var w;return g||((w=p==null?void 0:p.textContent)!==null&&w!==void 0?w:"").trim()})},[])},m.createElement(xf.ItemSlot,{scope:n,value:r,disabled:i,textValue:c},m.createElement(at.div,he({role:"option","aria-labelledby":v,"data-highlighted":f?"":void 0,"aria-selected":u&&f,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1},s,{ref:y,onFocus:Ye(s.onFocus,()=>h(!0)),onBlur:Ye(s.onBlur,()=>h(!1)),onPointerUp:Ye(s.onPointerUp,_),onPointerMove:Ye(s.onPointerMove,p=>{if(i){var g;(g=l.onItemLeave)===null||g===void 0||g.call(l)}else p.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ye(s.onPointerLeave,p=>{if(p.currentTarget===document.activeElement){var g;(g=l.onItemLeave)===null||g===void 0||g.call(l)}}),onKeyDown:Ye(s.onKeyDown,p=>{var g;((g=l.searchRef)===null||g===void 0?void 0:g.current)!==""&&p.key===" "||(s3.includes(p.key)&&_(),p.key===" "&&p.preventDefault())})}))))}),Ku="SelectItemText",b3=m.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,...o}=e,s=Co(Ku,n),a=To(Ku,n),l=BI(Ku,n),u=c3(Ku,n),[c,d]=m.useState(null),f=ft(t,p=>d(p),l.onItemTextChange,p=>{var g;return(g=a.itemTextRefCallback)===null||g===void 0?void 0:g.call(a,p,l.value,l.disabled)}),h=c==null?void 0:c.textContent,y=m.useMemo(()=>m.createElement("option",{key:l.value,value:l.value,disabled:l.disabled},h),[l.disabled,l.value,h]),{onNativeOptionAdd:v,onNativeOptionRemove:_}=u;return tn(()=>(v(y),()=>_(y)),[v,_,y]),m.createElement(m.Fragment,null,m.createElement(at.span,he({id:l.textId},o,{ref:f})),l.isSelected&&s.valueNode&&!s.valueNodeHasChildren?xi.createPortal(o.children,s.valueNode):null)}),D3="SelectItemIndicator",N3=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return BI(D3,n).isSelected?m.createElement(at.span,he({"aria-hidden":!0},r,{ref:t})):null}),Gw="SelectScrollUpButton",O3=m.forwardRef((e,t)=>{const n=To(Gw,e.__scopeSelect),r=ny(Gw,e.__scopeSelect),[i,o]=m.useState(!1),s=ft(t,r.onScrollButtonChange);return tn(()=>{if(n.viewport&&n.isPositioned){let u=function(){const c=l.scrollTop>0;o(c)};var a=u;const l=n.viewport;return u(),l.addEventListener("scroll",u),()=>l.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),i?m.createElement(HI,he({},e,{ref:s,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}})):null}),qw="SelectScrollDownButton",M3=m.forwardRef((e,t)=>{const n=To(qw,e.__scopeSelect),r=ny(qw,e.__scopeSelect),[i,o]=m.useState(!1),s=ft(t,r.onScrollButtonChange);return tn(()=>{if(n.viewport&&n.isPositioned){let u=function(){const c=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<c;o(d)};var a=u;const l=n.viewport;return u(),l.addEventListener("scroll",u),()=>l.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),i?m.createElement(HI,he({},e,{ref:s,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}})):null}),HI=m.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=e,o=To("SelectScrollButton",n),s=m.useRef(null),a=Af(n),l=m.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return m.useEffect(()=>()=>l(),[l]),tn(()=>{var u;const c=a().find(d=>d.ref.current===document.activeElement);c==null||(u=c.ref.current)===null||u===void 0||u.scrollIntoView({block:"nearest"})},[a]),m.createElement(at.div,he({"aria-hidden":!0},i,{ref:t,style:{flexShrink:0,...i.style},onPointerDown:Ye(i.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(r,50))}),onPointerMove:Ye(i.onPointerMove,()=>{var u;(u=o.onItemLeave)===null||u===void 0||u.call(o),s.current===null&&(s.current=window.setInterval(r,50))}),onPointerLeave:Ye(i.onPointerLeave,()=>{l()})}))}),$3=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return m.createElement(at.div,he({"aria-hidden":!0},r,{ref:t}))});function WI(e){return e===""||e===void 0}const GI=m.forwardRef((e,t)=>{const{value:n,...r}=e,i=m.useRef(null),o=ft(t,i),s=r3(n);return m.useEffect(()=>{const a=i.current,l=window.HTMLSelectElement.prototype,c=Object.getOwnPropertyDescriptor(l,"value").set;if(s!==n&&c){const d=new Event("change",{bubbles:!0});c.call(a,n),a.dispatchEvent(d)}},[s,n]),m.createElement(i3,{asChild:!0},m.createElement("select",he({},r,{ref:o,defaultValue:n})))});GI.displayName="BubbleSelect";function qI(e){const t=xr(e),n=m.useRef(""),r=m.useRef(0),i=m.useCallback(s=>{const a=n.current+s;t(a),function l(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[t]),o=m.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,o]}function KI(e,t,n){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let s=L3(e,Math.max(o,0));i.length===1&&(s=s.filter(u=>u!==n));const l=s.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function L3(e,t){return e.map((n,r)=>e[(t+r)%e.length])}const V3=d3,QI=h3,F3=g3,U3=m3,j3=v3,YI=y3,z3=S3,B3=I3,XI=x3,JI=k3,H3=b3,W3=N3,ZI=O3,eP=M3,tP=$3;/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var G3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q3=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kf=(e,t)=>{const n=m.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:s,className:a="",children:l,...u},c)=>m.createElement("svg",{ref:c,...G3,width:i,height:i,stroke:r,strokeWidth:s?Number(o)*24/Number(i):o,className:["lucide",`lucide-${q3(e)}`,a].join(" "),...u},[...t.map(([d,f])=>m.createElement(d,f)),...Array.isArray(l)?l:[l]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K3=kf("ArrowUpFromLine",[["path",{d:"m18 9-6-6-6 6",key:"kcunyi"}],["path",{d:"M12 3v14",key:"7cf3v8"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q3=kf("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nP=kf("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y3=kf("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),X3=V3,J3=B3,Z3=F3,rP=m.forwardRef(({className:e,children:t,...n},r)=>x.jsxs(QI,{ref:r,className:st("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,x.jsx(U3,{asChild:!0,children:x.jsx(nP,{className:"h-4 w-4 opacity-50"})})]}));rP.displayName=QI.displayName;const iP=m.forwardRef(({className:e,...t},n)=>x.jsx(ZI,{ref:n,className:st("flex cursor-default items-center justify-center py-1",e),...t,children:x.jsx(Y3,{className:"h-4 w-4"})}));iP.displayName=ZI.displayName;const oP=m.forwardRef(({className:e,...t},n)=>x.jsx(eP,{ref:n,className:st("flex cursor-default items-center justify-center py-1",e),...t,children:x.jsx(nP,{className:"h-4 w-4"})}));oP.displayName=eP.displayName;const sP=m.forwardRef(({className:e,children:t,position:n="popper",...r},i)=>x.jsx(j3,{children:x.jsxs(YI,{ref:i,className:st("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[x.jsx(iP,{}),x.jsx(z3,{className:st("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),x.jsx(oP,{})]})}));sP.displayName=YI.displayName;const eU=m.forwardRef(({className:e,...t},n)=>x.jsx(XI,{ref:n,className:st("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));eU.displayName=XI.displayName;const aP=m.forwardRef(({className:e,children:t,...n},r)=>x.jsxs(JI,{ref:r,className:st("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[x.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:x.jsx(W3,{children:x.jsx(Q3,{className:"h-4 w-4"})})}),x.jsx(H3,{children:t})]}));aP.displayName=JI.displayName;const tU=m.forwardRef(({className:e,...t},n)=>x.jsx(tP,{ref:n,className:st("-mx-1 my-1 h-px bg-muted",e),...t}));tU.displayName=tP.displayName;const nU=["cleansing gel","cleansing gel oily","balancing gel","balancing gel oily","cell turnover serum","snow white serum","soothing serum","water proof sun protector 30ml","water proof sun protector 60gm","travelling set normal","travelling set oily","travelling set ageing","travelling set sensitive","transformation serum 18%","transformation serum","phyto meal","ala plus","liquid c plus","phyto drink","pueraria candollei","protozym","soothing spray","maxicold mask","hydro firming gel","cell renewal gel","sebum stop liquid","herbal mask","age reversal oil","age defying cream","deep pore cleanser gel","cleansing milk","body scrub","cellutlite inhibtor","hydrating lotion","lavendox","firm up","corrective spray","oil control gel","hair & body shampoo","maxilift system","whithening system","anti-aging system","m.l firm up system","m.l whitening system","m.l anti-aging system","m.l firm-up system","mobility"],rU=["cleansing gel","cleansing gel oily","balancing toner","balancing toner oily","cleansing milk","soothing spray","maxilift powder","maxilift activator","water proof sun protector","maxicold mask","cellulite inhibitor","body scrub","hydrating lotion","aroma massage oil","herbal mask","hydrating mask","phyto collagen mask","body cold mask","eye firming gel","biorubine ampoules","hyaluronic acid ampoules","collagen ampoules","ester c ampoules","cell renewal gel","age defying cream","deep pore cleanser gel","phyto enzyme mask","elastin ampoules","placentine ampoules","snow white serum","firm up","sebum stop liquid","corrective spray","lipo burn","ultrasonic gel","sponge","orange mask","snow white concentrate","ear candle"],Kw=["stock c/f","stock in","stock out","stock bal","stock check","stock diff"];function iU({handleAddColumn:e}){const[t,n]=m.useState(0),[r,i]=m.useState(!1);function o(s){if(s.preventDefault(),s.currentTarget.classList.contains("bg-background"))return i(!1);const l=new FormData(s.target),u={date:l.get("date"),columnPurpose:t,columnDetail:l.has("customerDetail")?l.get("customerDetail"):Kw[t]};e(u),i(!1)}return x.jsxs(J5,{open:r,onOpenChange:i,children:[x.jsx(Z5,{asChild:!0,children:x.jsx(ln,{variant:"outline",className:"lg:text-lg",children:"Add New Column"})}),x.jsxs(jI,{className:"sm:w-96 lg:w-[448px]",align:"start",children:[x.jsx("div",{children:x.jsx("h4",{className:"font-medium leading-none lg:text-lg",children:"Column Details"})}),x.jsxs("form",{onSubmit:o,className:"mt-4 grid gap-4 sm:gap-6",children:[x.jsxs("div",{className:"grid grid-cols-3 items-center gap-4",children:[x.jsx(vc,{className:"lg:text-lg",children:"Purpose"}),x.jsxs(X3,{onValueChange:s=>n(Number.parseInt(s)),value:t,children:[x.jsx(rP,{className:"col-span-2 h-8 sm:h-10 lg:text-lg",children:x.jsx(Z3,{placeholder:"Select a purpose"})}),x.jsx(sP,{children:x.jsx(J3,{children:Kw.map((s,a)=>x.jsx(aP,{value:a,children:s},s))})})]})]}),x.jsxs("div",{className:"grid grid-cols-3 items-center gap-4",children:[x.jsx(vc,{htmlFor:"date",className:"lg:text-lg",children:"Date"}),x.jsx(go,{id:"date",name:"date",className:"col-span-2 h-8 sm:h-10 lg:text-lg"})]}),x.jsxs("div",{className:"grid grid-cols-3 items-center gap-4",children:[x.jsx(vc,{htmlFor:"customerDetail",className:"lg:text-lg",children:"Customer Detail"}),x.jsx(go,{id:"customerDetail",name:"customerDetail",disabled:t!==2,className:`col-span-2 h-8 sm:h-10 lg:text-lg ${t===2?"":"bg-slate-300"}`})]}),x.jsxs("div",{className:"flex items-center justify-end gap-4 lg:gap-6",children:[x.jsx(ln,{variant:"outline",onClick:o,className:"lg:text-lg",children:"Cancel"}),x.jsx(ln,{type:"submit",className:"lg:text-lg",children:"Confirm"})]})]})]})]})}const lP=m.forwardRef(({className:e,...t},n)=>x.jsx("div",{className:"relative w-full overflow-auto",children:x.jsx("table",{ref:n,className:st("w-full caption-bottom text-sm",e),...t})}));lP.displayName="Table";const uP=m.forwardRef(({className:e,...t},n)=>x.jsx("thead",{ref:n,className:st("[&_tr]:border-b",e),...t}));uP.displayName="TableHeader";const cP=m.forwardRef(({className:e,...t},n)=>x.jsx("tbody",{ref:n,className:st("[&_tr:last-child]:border-0",e),...t}));cP.displayName="TableBody";const dP=m.forwardRef(({className:e,...t},n)=>x.jsx("tfoot",{ref:n,className:st("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));dP.displayName="TableFooter";const Ec=m.forwardRef(({className:e,...t},n)=>x.jsx("tr",{ref:n,className:st("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Ec.displayName="TableRow";const fP=m.forwardRef(({className:e,...t},n)=>x.jsx("th",{ref:n,className:st("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));fP.displayName="TableHead";const Ng=m.forwardRef(({className:e,...t},n)=>x.jsx("td",{ref:n,className:st("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Ng.displayName="TableCell";const oU=m.forwardRef(({className:e,...t},n)=>x.jsx("caption",{ref:n,className:st("mt-4 text-sm text-muted-foreground",e),...t}));oU.displayName="TableCaption";/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function ii(e,t){return typeof e=="function"?e(t):e}function pn(e,t){return n=>{t.setState(r=>({...r,[e]:ii(n,r[e])}))}}function bf(e){return e instanceof Function}function sU(e){return Array.isArray(e)&&e.every(t=>typeof t=="number")}function aU(e,t){const n=[],r=i=>{i.forEach(o=>{n.push(o);const s=t(o);s!=null&&s.length&&r(s)})};return r(e),n}function te(e,t,n){let r=[],i;return o=>{let s;n.key&&n.debug&&(s=Date.now());const a=e(o);if(!(a.length!==r.length||a.some((c,d)=>r[d]!==c)))return i;r=a;let u;if(n.key&&n.debug&&(u=Date.now()),i=t(...a),n==null||n.onChange==null||n.onChange(i),n.key&&n.debug&&n!=null&&n.debug()){const c=Math.round((Date.now()-s)*100)/100,d=Math.round((Date.now()-u)*100)/100,f=d/16,h=(y,v)=>{for(y=String(y);y.length<v;)y=" "+y;return y};console.info(`%c ${h(d,5)} /${h(c,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*f,120))}deg 100% 31%);`,n==null?void 0:n.key)}return i}}function ne(e,t,n,r){return{debug:()=>{var i;return(i=e==null?void 0:e.debugAll)!=null?i:e[t]},key:!1,onChange:r}}function lU(e,t,n,r){const i=()=>{var s;return(s=o.getValue())!=null?s:e.options.renderFallbackValue},o={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(r),renderValue:i,getContext:te(()=>[e,n,t,o],(s,a,l,u)=>({table:s,column:a,row:l,cell:u,getValue:u.getValue,renderValue:u.renderValue}),ne(e.options,"debugCells"))};return e._features.forEach(s=>{s.createCell==null||s.createCell(o,n,t,e)},{}),o}function uU(e,t,n,r){var i,o;const a={...e._getDefaultColumnDef(),...t},l=a.accessorKey;let u=(i=(o=a.id)!=null?o:l?l.replace(".","_"):void 0)!=null?i:typeof a.header=="string"?a.header:void 0,c;if(a.accessorFn?c=a.accessorFn:l&&(l.includes(".")?c=f=>{let h=f;for(const v of l.split(".")){var y;h=(y=h)==null?void 0:y[v]}return h}:c=f=>f[a.accessorKey]),!u)throw new Error;let d={id:`${String(u)}`,accessorFn:c,parent:r,depth:n,columnDef:a,columns:[],getFlatColumns:te(()=>[!0],()=>{var f;return[d,...(f=d.columns)==null?void 0:f.flatMap(h=>h.getFlatColumns())]},ne(e.options,"debugColumns")),getLeafColumns:te(()=>[e._getOrderColumnsFn()],f=>{var h;if((h=d.columns)!=null&&h.length){let y=d.columns.flatMap(v=>v.getLeafColumns());return f(y)}return[d]},ne(e.options,"debugColumns"))};for(const f of e._features)f.createColumn==null||f.createColumn(d,e);return d}const Mt="debugHeaders";function Qw(e,t,n){var r;let o={id:(r=n.id)!=null?r:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const s=[],a=l=>{l.subHeaders&&l.subHeaders.length&&l.subHeaders.map(a),s.push(l)};return a(o),s},getContext:()=>({table:e,header:o,column:t})};return e._features.forEach(s=>{s.createHeader==null||s.createHeader(o,e)}),o}const cU={createTable:e=>{e.getHeaderGroups=te(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,i)=>{var o,s;const a=(o=r==null?void 0:r.map(d=>n.find(f=>f.id===d)).filter(Boolean))!=null?o:[],l=(s=i==null?void 0:i.map(d=>n.find(f=>f.id===d)).filter(Boolean))!=null?s:[],u=n.filter(d=>!(r!=null&&r.includes(d.id))&&!(i!=null&&i.includes(d.id)));return Qu(t,[...a,...u,...l],e)},ne(e.options,Mt)),e.getCenterHeaderGroups=te(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,i)=>(n=n.filter(o=>!(r!=null&&r.includes(o.id))&&!(i!=null&&i.includes(o.id))),Qu(t,n,e,"center")),ne(e.options,Mt)),e.getLeftHeaderGroups=te(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,n,r)=>{var i;const o=(i=r==null?void 0:r.map(s=>n.find(a=>a.id===s)).filter(Boolean))!=null?i:[];return Qu(t,o,e,"left")},ne(e.options,Mt)),e.getRightHeaderGroups=te(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,n,r)=>{var i;const o=(i=r==null?void 0:r.map(s=>n.find(a=>a.id===s)).filter(Boolean))!=null?i:[];return Qu(t,o,e,"right")},ne(e.options,Mt)),e.getFooterGroups=te(()=>[e.getHeaderGroups()],t=>[...t].reverse(),ne(e.options,Mt)),e.getLeftFooterGroups=te(()=>[e.getLeftHeaderGroups()],t=>[...t].reverse(),ne(e.options,Mt)),e.getCenterFooterGroups=te(()=>[e.getCenterHeaderGroups()],t=>[...t].reverse(),ne(e.options,Mt)),e.getRightFooterGroups=te(()=>[e.getRightHeaderGroups()],t=>[...t].reverse(),ne(e.options,Mt)),e.getFlatHeaders=te(()=>[e.getHeaderGroups()],t=>t.map(n=>n.headers).flat(),ne(e.options,Mt)),e.getLeftFlatHeaders=te(()=>[e.getLeftHeaderGroups()],t=>t.map(n=>n.headers).flat(),ne(e.options,Mt)),e.getCenterFlatHeaders=te(()=>[e.getCenterHeaderGroups()],t=>t.map(n=>n.headers).flat(),ne(e.options,Mt)),e.getRightFlatHeaders=te(()=>[e.getRightHeaderGroups()],t=>t.map(n=>n.headers).flat(),ne(e.options,Mt)),e.getCenterLeafHeaders=te(()=>[e.getCenterFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),ne(e.options,Mt)),e.getLeftLeafHeaders=te(()=>[e.getLeftFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),ne(e.options,Mt)),e.getRightLeafHeaders=te(()=>[e.getRightFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),ne(e.options,Mt)),e.getLeafHeaders=te(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(t,n,r)=>{var i,o,s,a,l,u;return[...(i=(o=t[0])==null?void 0:o.headers)!=null?i:[],...(s=(a=n[0])==null?void 0:a.headers)!=null?s:[],...(l=(u=r[0])==null?void 0:u.headers)!=null?l:[]].map(c=>c.getLeafHeaders()).flat()},ne(e.options,Mt))}};function Qu(e,t,n,r){var i,o;let s=0;const a=function(f,h){h===void 0&&(h=1),s=Math.max(s,h),f.filter(y=>y.getIsVisible()).forEach(y=>{var v;(v=y.columns)!=null&&v.length&&a(y.columns,h+1)},0)};a(e);let l=[];const u=(f,h)=>{const y={depth:h,id:[r,`${h}`].filter(Boolean).join("_"),headers:[]},v=[];f.forEach(_=>{const p=[...v].reverse()[0],g=_.column.depth===y.depth;let w,S=!1;if(g&&_.column.parent?w=_.column.parent:(w=_.column,S=!0),p&&(p==null?void 0:p.column)===w)p.subHeaders.push(_);else{const C=Qw(n,w,{id:[r,h,w.id,_==null?void 0:_.id].filter(Boolean).join("_"),isPlaceholder:S,placeholderId:S?`${v.filter(E=>E.column===w).length}`:void 0,depth:h,index:v.length});C.subHeaders.push(_),v.push(C)}y.headers.push(_),_.headerGroup=y}),l.push(y),h>0&&u(v,h-1)},c=t.map((f,h)=>Qw(n,f,{depth:s,index:h}));u(c,s-1),l.reverse();const d=f=>f.filter(y=>y.column.getIsVisible()).map(y=>{let v=0,_=0,p=[0];y.subHeaders&&y.subHeaders.length?(p=[],d(y.subHeaders).forEach(w=>{let{colSpan:S,rowSpan:C}=w;v+=S,p.push(C)})):v=1;const g=Math.min(...p);return _=_+g,y.colSpan=v,y.rowSpan=_,{colSpan:v,rowSpan:_}});return d((i=(o=l[0])==null?void 0:o.headers)!=null?i:[]),l}const ry=(e,t,n,r,i,o,s)=>{let a={id:t,index:r,original:n,depth:i,parentId:s,_valuesCache:{},_uniqueValuesCache:{},getValue:l=>{if(a._valuesCache.hasOwnProperty(l))return a._valuesCache[l];const u=e.getColumn(l);if(u!=null&&u.accessorFn)return a._valuesCache[l]=u.accessorFn(a.original,r),a._valuesCache[l]},getUniqueValues:l=>{if(a._uniqueValuesCache.hasOwnProperty(l))return a._uniqueValuesCache[l];const u=e.getColumn(l);if(u!=null&&u.accessorFn)return u.columnDef.getUniqueValues?(a._uniqueValuesCache[l]=u.columnDef.getUniqueValues(a.original,r),a._uniqueValuesCache[l]):(a._uniqueValuesCache[l]=[a.getValue(l)],a._uniqueValuesCache[l])},renderValue:l=>{var u;return(u=a.getValue(l))!=null?u:e.options.renderFallbackValue},subRows:o??[],getLeafRows:()=>aU(a.subRows,l=>l.subRows),getParentRow:()=>a.parentId?e.getRow(a.parentId,!0):void 0,getParentRows:()=>{let l=[],u=a;for(;;){const c=u.getParentRow();if(!c)break;l.push(c),u=c}return l.reverse()},getAllCells:te(()=>[e.getAllLeafColumns()],l=>l.map(u=>lU(e,a,u,u.id)),ne(e.options,"debugRows")),_getAllCellsByColumnId:te(()=>[a.getAllCells()],l=>l.reduce((u,c)=>(u[c.column.id]=c,u),{}),ne(e.options,"debugRows"))};for(let l=0;l<e._features.length;l++){const u=e._features[l];u==null||u.createRow==null||u.createRow(a,e)}return a},dU={createColumn:(e,t)=>{e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},hP=(e,t,n)=>{var r;const i=n.toLowerCase();return!!(!((r=e.getValue(t))==null||(r=r.toString())==null||(r=r.toLowerCase())==null)&&r.includes(i))};hP.autoRemove=e=>Ln(e);const pP=(e,t,n)=>{var r;return!!(!((r=e.getValue(t))==null||(r=r.toString())==null)&&r.includes(n))};pP.autoRemove=e=>Ln(e);const gP=(e,t,n)=>{var r;return((r=e.getValue(t))==null||(r=r.toString())==null?void 0:r.toLowerCase())===(n==null?void 0:n.toLowerCase())};gP.autoRemove=e=>Ln(e);const mP=(e,t,n)=>{var r;return(r=e.getValue(t))==null?void 0:r.includes(n)};mP.autoRemove=e=>Ln(e)||!(e!=null&&e.length);const vP=(e,t,n)=>!n.some(r=>{var i;return!((i=e.getValue(t))!=null&&i.includes(r))});vP.autoRemove=e=>Ln(e)||!(e!=null&&e.length);const yP=(e,t,n)=>n.some(r=>{var i;return(i=e.getValue(t))==null?void 0:i.includes(r)});yP.autoRemove=e=>Ln(e)||!(e!=null&&e.length);const _P=(e,t,n)=>e.getValue(t)===n;_P.autoRemove=e=>Ln(e);const wP=(e,t,n)=>e.getValue(t)==n;wP.autoRemove=e=>Ln(e);const iy=(e,t,n)=>{let[r,i]=n;const o=e.getValue(t);return o>=r&&o<=i};iy.resolveFilterValue=e=>{let[t,n]=e,r=typeof t!="number"?parseFloat(t):t,i=typeof n!="number"?parseFloat(n):n,o=t===null||Number.isNaN(r)?-1/0:r,s=n===null||Number.isNaN(i)?1/0:i;if(o>s){const a=o;o=s,s=a}return[o,s]};iy.autoRemove=e=>Ln(e)||Ln(e[0])&&Ln(e[1]);const cr={includesString:hP,includesStringSensitive:pP,equalsString:gP,arrIncludes:mP,arrIncludesAll:vP,arrIncludesSome:yP,equals:_P,weakEquals:wP,inNumberRange:iy};function Ln(e){return e==null||e===""}const fU={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:pn("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);return typeof r=="string"?cr.includesString:typeof r=="number"?cr.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?cr.equals:Array.isArray(r)?cr.arrIncludes:cr.weakEquals},e.getFilterFn=()=>{var n,r;return bf(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(n=(r=t.options.filterFns)==null?void 0:r[e.columnDef.filterFn])!=null?n:cr[e.columnDef.filterFn]},e.getCanFilter=()=>{var n,r,i;return((n=e.columnDef.enableColumnFilter)!=null?n:!0)&&((r=t.options.enableColumnFilters)!=null?r:!0)&&((i=t.options.enableFilters)!=null?i:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var n;return(n=t.getState().columnFilters)==null||(n=n.find(r=>r.id===e.id))==null?void 0:n.value},e.getFilterIndex=()=>{var n,r;return(n=(r=t.getState().columnFilters)==null?void 0:r.findIndex(i=>i.id===e.id))!=null?n:-1},e.setFilterValue=n=>{t.setColumnFilters(r=>{const i=e.getFilterFn(),o=r==null?void 0:r.find(c=>c.id===e.id),s=ii(n,o?o.value:void 0);if(Yw(i,s,e)){var a;return(a=r==null?void 0:r.filter(c=>c.id!==e.id))!=null?a:[]}const l={id:e.id,value:s};if(o){var u;return(u=r==null?void 0:r.map(c=>c.id===e.id?l:c))!=null?u:[]}return r!=null&&r.length?[...r,l]:[l]})}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=t=>{const n=e.getAllLeafColumns(),r=i=>{var o;return(o=ii(t,i))==null?void 0:o.filter(s=>{const a=n.find(l=>l.id===s.id);if(a){const l=a.getFilterFn();if(Yw(l,s.value,a))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(r)},e.resetColumnFilters=t=>{var n,r;e.setColumnFilters(t?[]:(n=(r=e.initialState)==null?void 0:r.columnFilters)!=null?n:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function Yw(e,t,n){return(e&&e.autoRemove?e.autoRemove(t,n):!1)||typeof t>"u"||typeof t=="string"&&!t}const hU=(e,t,n)=>n.reduce((r,i)=>{const o=i.getValue(e);return r+(typeof o=="number"?o:0)},0),pU=(e,t,n)=>{let r;return n.forEach(i=>{const o=i.getValue(e);o!=null&&(r>o||r===void 0&&o>=o)&&(r=o)}),r},gU=(e,t,n)=>{let r;return n.forEach(i=>{const o=i.getValue(e);o!=null&&(r<o||r===void 0&&o>=o)&&(r=o)}),r},mU=(e,t,n)=>{let r,i;return n.forEach(o=>{const s=o.getValue(e);s!=null&&(r===void 0?s>=s&&(r=i=s):(r>s&&(r=s),i<s&&(i=s)))}),[r,i]},vU=(e,t)=>{let n=0,r=0;if(t.forEach(i=>{let o=i.getValue(e);o!=null&&(o=+o)>=o&&(++n,r+=o)}),n)return r/n},yU=(e,t)=>{if(!t.length)return;const n=t.map(o=>o.getValue(e));if(!sU(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),i=n.sort((o,s)=>o-s);return n.length%2!==0?i[r]:(i[r-1]+i[r])/2},_U=(e,t)=>Array.from(new Set(t.map(n=>n.getValue(e))).values()),wU=(e,t)=>new Set(t.map(n=>n.getValue(e))).size,EU=(e,t)=>t.length,Bh={sum:hU,min:pU,max:gU,extent:mU,mean:vU,median:yU,unique:_U,uniqueCount:wU,count:EU},SU={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return(t=(n=e.getValue())==null||n.toString==null?void 0:n.toString())!=null?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:pn("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping(n=>n!=null&&n.includes(e.id)?n.filter(r=>r!==e.id):[...n??[],e.id])},e.getCanGroup=()=>{var n,r;return((n=e.columnDef.enableGrouping)!=null?n:!0)&&((r=t.options.enableGrouping)!=null?r:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.includes(e.id)},e.getGroupedIndex=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const n=e.getCanGroup();return()=>{n&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);if(typeof r=="number")return Bh.sum;if(Object.prototype.toString.call(r)==="[object Date]")return Bh.extent},e.getAggregationFn=()=>{var n,r;if(!e)throw new Error;return bf(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(n=(r=t.options.aggregationFns)==null?void 0:r[e.columnDef.aggregationFn])!=null?n:Bh[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var n,r;e.setGrouping(t?[]:(n=(r=e.initialState)==null?void 0:r.grouping)!=null?n:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const r=t.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(e._groupingValuesCache[n]=r.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},e._groupingValuesCache={}},createCell:(e,t,n,r)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===n.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var i;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((i=n.subRows)!=null&&i.length)}}};function CU(e,t,n){if(!(t!=null&&t.length)||!n)return e;const r=e.filter(o=>!t.includes(o.id));return n==="remove"?r:[...t.map(o=>e.find(s=>s.id===o)).filter(Boolean),...r]}const TU={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:pn("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=te(n=>[qa(t,n)],n=>n.findIndex(r=>r.id===e.id),ne(t.options,"debugColumns")),e.getIsFirstColumn=n=>{var r;return((r=qa(t,n)[0])==null?void 0:r.id)===e.id},e.getIsLastColumn=n=>{var r;const i=qa(t,n);return((r=i[i.length-1])==null?void 0:r.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var n;e.setColumnOrder(t?[]:(n=e.initialState.columnOrder)!=null?n:[])},e._getOrderColumnsFn=te(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(t,n,r)=>i=>{let o=[];if(!(t!=null&&t.length))o=i;else{const s=[...t],a=[...i];for(;a.length&&s.length;){const l=s.shift(),u=a.findIndex(c=>c.id===l);u>-1&&o.push(a.splice(u,1)[0])}o=[...o,...a]}return CU(o,n,r)},ne(e.options,"debugTable"))}},Hh=()=>({left:[],right:[]}),RU={getInitialState:e=>({columnPinning:Hh(),...e}),getDefaultOptions:e=>({onColumnPinningChange:pn("columnPinning",e)}),createColumn:(e,t)=>{e.pin=n=>{const r=e.getLeafColumns().map(i=>i.id).filter(Boolean);t.setColumnPinning(i=>{var o,s;if(n==="right"){var a,l;return{left:((a=i==null?void 0:i.left)!=null?a:[]).filter(d=>!(r!=null&&r.includes(d))),right:[...((l=i==null?void 0:i.right)!=null?l:[]).filter(d=>!(r!=null&&r.includes(d))),...r]}}if(n==="left"){var u,c;return{left:[...((u=i==null?void 0:i.left)!=null?u:[]).filter(d=>!(r!=null&&r.includes(d))),...r],right:((c=i==null?void 0:i.right)!=null?c:[]).filter(d=>!(r!=null&&r.includes(d)))}}return{left:((o=i==null?void 0:i.left)!=null?o:[]).filter(d=>!(r!=null&&r.includes(d))),right:((s=i==null?void 0:i.right)!=null?s:[]).filter(d=>!(r!=null&&r.includes(d)))}})},e.getCanPin=()=>e.getLeafColumns().some(r=>{var i,o,s;return((i=r.columnDef.enablePinning)!=null?i:!0)&&((o=(s=t.options.enableColumnPinning)!=null?s:t.options.enablePinning)!=null?o:!0)}),e.getIsPinned=()=>{const n=e.getLeafColumns().map(a=>a.id),{left:r,right:i}=t.getState().columnPinning,o=n.some(a=>r==null?void 0:r.includes(a)),s=n.some(a=>i==null?void 0:i.includes(a));return o?"left":s?"right":!1},e.getPinnedIndex=()=>{var n,r;const i=e.getIsPinned();return i?(n=(r=t.getState().columnPinning)==null||(r=r[i])==null?void 0:r.indexOf(e.id))!=null?n:-1:0}},createRow:(e,t)=>{e.getCenterVisibleCells=te(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(n,r,i)=>{const o=[...r??[],...i??[]];return n.filter(s=>!o.includes(s.column.id))},ne(t.options,"debugRows")),e.getLeftVisibleCells=te(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left],(n,r)=>(r??[]).map(o=>n.find(s=>s.column.id===o)).filter(Boolean).map(o=>({...o,position:"left"})),ne(t.options,"debugRows")),e.getRightVisibleCells=te(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(n,r)=>(r??[]).map(o=>n.find(s=>s.column.id===o)).filter(Boolean).map(o=>({...o,position:"right"})),ne(t.options,"debugRows"))},createTable:e=>{e.setColumnPinning=t=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var n,r;return e.setColumnPinning(t?Hh():(n=(r=e.initialState)==null?void 0:r.columnPinning)!=null?n:Hh())},e.getIsSomeColumnsPinned=t=>{var n;const r=e.getState().columnPinning;if(!t){var i,o;return!!((i=r.left)!=null&&i.length||(o=r.right)!=null&&o.length)}return!!((n=r[t])!=null&&n.length)},e.getLeftLeafColumns=te(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(t,n)=>(n??[]).map(r=>t.find(i=>i.id===r)).filter(Boolean),ne(e.options,"debugColumns")),e.getRightLeafColumns=te(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(t,n)=>(n??[]).map(r=>t.find(i=>i.id===r)).filter(Boolean),ne(e.options,"debugColumns")),e.getCenterLeafColumns=te(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r)=>{const i=[...n??[],...r??[]];return t.filter(o=>!i.includes(o.id))},ne(e.options,"debugColumns"))}},Yu={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},Wh=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),IU={getDefaultColumnDef:()=>Yu,getInitialState:e=>({columnSizing:{},columnSizingInfo:Wh(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:pn("columnSizing",e),onColumnSizingInfoChange:pn("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var n,r,i;const o=t.getState().columnSizing[e.id];return Math.min(Math.max((n=e.columnDef.minSize)!=null?n:Yu.minSize,(r=o??e.columnDef.size)!=null?r:Yu.size),(i=e.columnDef.maxSize)!=null?i:Yu.maxSize)},e.getStart=te(n=>[n,qa(t,n),t.getState().columnSizing],(n,r)=>r.slice(0,e.getIndex(n)).reduce((i,o)=>i+o.getSize(),0),ne(t.options,"debugColumns")),e.getAfter=te(n=>[n,qa(t,n),t.getState().columnSizing],(n,r)=>r.slice(e.getIndex(n)+1).reduce((i,o)=>i+o.getSize(),0),ne(t.options,"debugColumns")),e.resetSize=()=>{t.setColumnSizing(n=>{let{[e.id]:r,...i}=n;return i})},e.getCanResize=()=>{var n,r;return((n=e.columnDef.enableResizing)!=null?n:!0)&&((r=t.options.enableColumnResizing)!=null?r:!0)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let n=0;const r=i=>{if(i.subHeaders.length)i.subHeaders.forEach(r);else{var o;n+=(o=i.column.getSize())!=null?o:0}};return r(e),n},e.getStart=()=>{if(e.index>0){const n=e.headerGroup.headers[e.index-1];return n.getStart()+n.getSize()}return 0},e.getResizeHandler=n=>{const r=t.getColumn(e.column.id),i=r==null?void 0:r.getCanResize();return o=>{if(!r||!i||(o.persist==null||o.persist(),Gh(o)&&o.touches&&o.touches.length>1))return;const s=e.getSize(),a=e?e.getLeafHeaders().map(p=>[p.column.id,p.column.getSize()]):[[r.id,r.getSize()]],l=Gh(o)?Math.round(o.touches[0].clientX):o.clientX,u={},c=(p,g)=>{typeof g=="number"&&(t.setColumnSizingInfo(w=>{var S,C;const E=t.options.columnResizeDirection==="rtl"?-1:1,T=(g-((S=w==null?void 0:w.startOffset)!=null?S:0))*E,I=Math.max(T/((C=w==null?void 0:w.startSize)!=null?C:0),-.999999);return w.columnSizingStart.forEach(D=>{let[$,j]=D;u[$]=Math.round(Math.max(j+j*I,0)*100)/100}),{...w,deltaOffset:T,deltaPercentage:I}}),(t.options.columnResizeMode==="onChange"||p==="end")&&t.setColumnSizing(w=>({...w,...u})))},d=p=>c("move",p),f=p=>{c("end",p),t.setColumnSizingInfo(g=>({...g,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},h=n||typeof document<"u"?document:null,y={moveHandler:p=>d(p.clientX),upHandler:p=>{h==null||h.removeEventListener("mousemove",y.moveHandler),h==null||h.removeEventListener("mouseup",y.upHandler),f(p.clientX)}},v={moveHandler:p=>(p.cancelable&&(p.preventDefault(),p.stopPropagation()),d(p.touches[0].clientX),!1),upHandler:p=>{var g;h==null||h.removeEventListener("touchmove",v.moveHandler),h==null||h.removeEventListener("touchend",v.upHandler),p.cancelable&&(p.preventDefault(),p.stopPropagation()),f((g=p.touches[0])==null?void 0:g.clientX)}},_=PU()?{passive:!1}:!1;Gh(o)?(h==null||h.addEventListener("touchmove",v.moveHandler,_),h==null||h.addEventListener("touchend",v.upHandler,_)):(h==null||h.addEventListener("mousemove",y.moveHandler,_),h==null||h.addEventListener("mouseup",y.upHandler,_)),t.setColumnSizingInfo(p=>({...p,startOffset:l,startSize:s,deltaOffset:0,deltaPercentage:0,columnSizingStart:a,isResizingColumn:r.id}))}}},createTable:e=>{e.setColumnSizing=t=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var n;e.setColumnSizing(t?{}:(n=e.initialState.columnSizing)!=null?n:{})},e.resetHeaderSizeInfo=t=>{var n;e.setColumnSizingInfo(t?Wh():(n=e.initialState.columnSizingInfo)!=null?n:Wh())},e.getTotalSize=()=>{var t,n;return(t=(n=e.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0},e.getLeftTotalSize=()=>{var t,n;return(t=(n=e.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0},e.getCenterTotalSize=()=>{var t,n;return(t=(n=e.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0},e.getRightTotalSize=()=>{var t,n;return(t=(n=e.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0}}};let Xu=null;function PU(){if(typeof Xu=="boolean")return Xu;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch{e=!1}return Xu=e,Xu}function Gh(e){return e.type==="touchstart"}const xU={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:pn("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=n=>{e.getCanHide()&&t.setColumnVisibility(r=>({...r,[e.id]:n??!e.getIsVisible()}))},e.getIsVisible=()=>{var n,r;const i=e.columns;return(n=i.length?i.some(o=>o.getIsVisible()):(r=t.getState().columnVisibility)==null?void 0:r[e.id])!=null?n:!0},e.getCanHide=()=>{var n,r;return((n=e.columnDef.enableHiding)!=null?n:!0)&&((r=t.options.enableHiding)!=null?r:!0)},e.getToggleVisibilityHandler=()=>n=>{e.toggleVisibility==null||e.toggleVisibility(n.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=te(()=>[e.getAllCells(),t.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),ne(t.options,"debugRows")),e.getVisibleCells=te(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(n,r,i)=>[...n,...r,...i],ne(t.options,"debugRows"))},createTable:e=>{const t=(n,r)=>te(()=>[r(),r().filter(i=>i.getIsVisible()).map(i=>i.id).join("_")],i=>i.filter(o=>o.getIsVisible==null?void 0:o.getIsVisible()),ne(e.options,"debugColumns"));e.getVisibleFlatColumns=t("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=t("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=t("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=t("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=t("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=n=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(n),e.resetColumnVisibility=n=>{var r;e.setColumnVisibility(n?{}:(r=e.initialState.columnVisibility)!=null?r:{})},e.toggleAllColumnsVisible=n=>{var r;n=(r=n)!=null?r:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((i,o)=>({...i,[o.id]:n||!(o.getCanHide!=null&&o.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>n=>{var r;e.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}};function qa(e,t){return t?t==="center"?e.getCenterVisibleLeafColumns():t==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const AU={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},kU={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:pn("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n;const r=(n=e.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[t.id])==null?void 0:n.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(e,t)=>{e.getCanGlobalFilter=()=>{var n,r,i,o;return((n=e.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=t.options.enableGlobalFilter)!=null?r:!0)&&((i=t.options.enableFilters)!=null?i:!0)&&((o=t.options.getColumnCanGlobalFilter==null?void 0:t.options.getColumnCanGlobalFilter(e))!=null?o:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>cr.includesString,e.getGlobalFilterFn=()=>{var t,n;const{globalFilterFn:r}=e.options;return bf(r)?r:r==="auto"?e.getGlobalAutoFilterFn():(t=(n=e.options.filterFns)==null?void 0:n[r])!=null?t:cr[r]},e.setGlobalFilter=t=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)}}},bU={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:pn("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;e._autoResetExpanded=()=>{var r,i;if(!t){e._queue(()=>{t=!0});return}if((r=(i=e.options.autoResetAll)!=null?i:e.options.autoResetExpanded)!=null?r:!e.options.manualExpanding){if(n)return;n=!0,e._queue(()=>{e.resetExpanded(),n=!1})}},e.setExpanded=r=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(r),e.toggleAllRowsExpanded=r=>{r??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=r=>{var i,o;e.setExpanded(r?{}:(i=(o=e.initialState)==null?void 0:o.expanded)!=null?i:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const r=e.getState().expanded;return r===!0||Object.values(r).some(Boolean)},e.getIsAllRowsExpanded=()=>{const r=e.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||e.getRowModel().flatRows.some(i=>!i.getIsExpanded()))},e.getExpandedDepth=()=>{let r=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(o=>{const s=o.split(".");r=Math.max(r,s.length)}),r},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=n=>{t.setExpanded(r=>{var i;const o=r===!0?!0:!!(r!=null&&r[e.id]);let s={};if(r===!0?Object.keys(t.getRowModel().rowsById).forEach(a=>{s[a]=!0}):s=r,n=(i=n)!=null?i:!o,!o&&n)return{...s,[e.id]:!0};if(o&&!n){const{[e.id]:a,...l}=s;return l}return r})},e.getIsExpanded=()=>{var n;const r=t.getState().expanded;return!!((n=t.options.getIsRowExpanded==null?void 0:t.options.getIsRowExpanded(e))!=null?n:r===!0||r!=null&&r[e.id])},e.getCanExpand=()=>{var n,r,i;return(n=t.options.getRowCanExpand==null?void 0:t.options.getRowCanExpand(e))!=null?n:((r=t.options.enableExpanding)!=null?r:!0)&&!!((i=e.subRows)!=null&&i.length)},e.getIsAllParentsExpanded=()=>{let n=!0,r=e;for(;n&&r.parentId;)r=t.getRow(r.parentId,!0),n=r.getIsExpanded();return n},e.getToggleExpandedHandler=()=>{const n=e.getCanExpand();return()=>{n&&e.toggleExpanded()}}}},Og=0,Mg=10,qh=()=>({pageIndex:Og,pageSize:Mg}),DU={getInitialState:e=>({...e,pagination:{...qh(),...e==null?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:pn("pagination",e)}),createTable:e=>{let t=!1,n=!1;e._autoResetPageIndex=()=>{var r,i;if(!t){e._queue(()=>{t=!0});return}if((r=(i=e.options.autoResetAll)!=null?i:e.options.autoResetPageIndex)!=null?r:!e.options.manualPagination){if(n)return;n=!0,e._queue(()=>{e.resetPageIndex(),n=!1})}},e.setPagination=r=>{const i=o=>ii(r,o);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(i)},e.resetPagination=r=>{var i;e.setPagination(r?qh():(i=e.initialState.pagination)!=null?i:qh())},e.setPageIndex=r=>{e.setPagination(i=>{let o=ii(r,i.pageIndex);const s=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return o=Math.max(0,Math.min(o,s)),{...i,pageIndex:o}})},e.resetPageIndex=r=>{var i,o;e.setPageIndex(r?Og:(i=(o=e.initialState)==null||(o=o.pagination)==null?void 0:o.pageIndex)!=null?i:Og)},e.resetPageSize=r=>{var i,o;e.setPageSize(r?Mg:(i=(o=e.initialState)==null||(o=o.pagination)==null?void 0:o.pageSize)!=null?i:Mg)},e.setPageSize=r=>{e.setPagination(i=>{const o=Math.max(1,ii(r,i.pageSize)),s=i.pageSize*i.pageIndex,a=Math.floor(s/o);return{...i,pageIndex:a,pageSize:o}})},e.setPageCount=r=>e.setPagination(i=>{var o;let s=ii(r,(o=e.options.pageCount)!=null?o:-1);return typeof s=="number"&&(s=Math.max(-1,s)),{...i,pageCount:s}}),e.getPageOptions=te(()=>[e.getPageCount()],r=>{let i=[];return r&&r>0&&(i=[...new Array(r)].fill(null).map((o,s)=>s)),i},ne(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:r}=e.getState().pagination,i=e.getPageCount();return i===-1?!0:i===0?!1:r<i-1},e.previousPage=()=>e.setPageIndex(r=>r-1),e.nextPage=()=>e.setPageIndex(r=>r+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var r;return(r=e.options.pageCount)!=null?r:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var r;return(r=e.options.rowCount)!=null?r:e.getPrePaginationRowModel().rows.length}}},Kh=()=>({top:[],bottom:[]}),NU={getInitialState:e=>({rowPinning:Kh(),...e}),getDefaultOptions:e=>({onRowPinningChange:pn("rowPinning",e)}),createRow:(e,t)=>{e.pin=(n,r,i)=>{const o=r?e.getLeafRows().map(l=>{let{id:u}=l;return u}):[],s=i?e.getParentRows().map(l=>{let{id:u}=l;return u}):[],a=new Set([...s,e.id,...o]);t.setRowPinning(l=>{var u,c;if(n==="bottom"){var d,f;return{top:((d=l==null?void 0:l.top)!=null?d:[]).filter(v=>!(a!=null&&a.has(v))),bottom:[...((f=l==null?void 0:l.bottom)!=null?f:[]).filter(v=>!(a!=null&&a.has(v))),...Array.from(a)]}}if(n==="top"){var h,y;return{top:[...((h=l==null?void 0:l.top)!=null?h:[]).filter(v=>!(a!=null&&a.has(v))),...Array.from(a)],bottom:((y=l==null?void 0:l.bottom)!=null?y:[]).filter(v=>!(a!=null&&a.has(v)))}}return{top:((u=l==null?void 0:l.top)!=null?u:[]).filter(v=>!(a!=null&&a.has(v))),bottom:((c=l==null?void 0:l.bottom)!=null?c:[]).filter(v=>!(a!=null&&a.has(v)))}})},e.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:i}=t.options;return typeof r=="function"?r(e):(n=r??i)!=null?n:!0},e.getIsPinned=()=>{const n=[e.id],{top:r,bottom:i}=t.getState().rowPinning,o=n.some(a=>r==null?void 0:r.includes(a)),s=n.some(a=>i==null?void 0:i.includes(a));return o?"top":s?"bottom":!1},e.getPinnedIndex=()=>{var n,r;const i=e.getIsPinned();if(!i)return-1;const o=(n=t._getPinnedRows(i))==null?void 0:n.map(s=>{let{id:a}=s;return a});return(r=o==null?void 0:o.indexOf(e.id))!=null?r:-1}},createTable:e=>{e.setRowPinning=t=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var n,r;return e.setRowPinning(t?Kh():(n=(r=e.initialState)==null?void 0:r.rowPinning)!=null?n:Kh())},e.getIsSomeRowsPinned=t=>{var n;const r=e.getState().rowPinning;if(!t){var i,o;return!!((i=r.top)!=null&&i.length||(o=r.bottom)!=null&&o.length)}return!!((n=r[t])!=null&&n.length)},e._getPinnedRows=te(t=>[e.getRowModel().rows,e.getState().rowPinning[t],t],(t,n,r)=>{var i;return((i=e.options.keepPinnedRows)==null||i?(n??[]).map(s=>{const a=e.getRow(s,!0);return a.getIsAllParentsExpanded()?a:null}):(n??[]).map(s=>t.find(a=>a.id===s))).filter(Boolean).map(s=>({...s,position:r}))},ne(e.options,"debugRows")),e.getTopRows=()=>e._getPinnedRows("top"),e.getBottomRows=()=>e._getPinnedRows("bottom"),e.getCenterRows=te(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(t,n,r)=>{const i=new Set([...n??[],...r??[]]);return t.filter(o=>!i.has(o.id))},ne(e.options,"debugRows"))}},OU={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:pn("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var n;return e.setRowSelection(t?{}:(n=e.initialState.rowSelection)!=null?n:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection(n=>{t=typeof t<"u"?t:!e.getIsAllRowsSelected();const r={...n},i=e.getPreGroupedRowModel().flatRows;return t?i.forEach(o=>{o.getCanSelect()&&(r[o.id]=!0)}):i.forEach(o=>{delete r[o.id]}),r})},e.toggleAllPageRowsSelected=t=>e.setRowSelection(n=>{const r=typeof t<"u"?t:!e.getIsAllPageRowsSelected(),i={...n};return e.getRowModel().rows.forEach(o=>{$g(i,o.id,r,!0,e)}),i}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=te(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,n)=>Object.keys(t).length?Qh(e,n):{rows:[],flatRows:[],rowsById:{}},ne(e.options,"debugTable")),e.getFilteredSelectedRowModel=te(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,n)=>Object.keys(t).length?Qh(e,n):{rows:[],flatRows:[],rowsById:{}},ne(e.options,"debugTable")),e.getGroupedSelectedRowModel=te(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,n)=>Object.keys(t).length?Qh(e,n):{rows:[],flatRows:[],rowsById:{}},ne(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let r=!!(t.length&&Object.keys(n).length);return r&&t.some(i=>i.getCanSelect()&&!n[i.id])&&(r=!1),r},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter(i=>i.getCanSelect()),{rowSelection:n}=e.getState();let r=!!t.length;return r&&t.some(i=>!n[i.id])&&(r=!1),r},e.getIsSomeRowsSelected=()=>{var t;const n=Object.keys((t=e.getState().rowSelection)!=null?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:t.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(n,r)=>{const i=e.getIsSelected();t.setRowSelection(o=>{var s;if(n=typeof n<"u"?n:!i,e.getCanSelect()&&i===n)return o;const a={...o};return $g(a,e.id,n,(s=r==null?void 0:r.selectChildren)!=null?s:!0,t),a})},e.getIsSelected=()=>{const{rowSelection:n}=t.getState();return oy(e,n)},e.getIsSomeSelected=()=>{const{rowSelection:n}=t.getState();return Lg(e,n)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=t.getState();return Lg(e,n)==="all"},e.getCanSelect=()=>{var n;return typeof t.options.enableRowSelection=="function"?t.options.enableRowSelection(e):(n=t.options.enableRowSelection)!=null?n:!0},e.getCanSelectSubRows=()=>{var n;return typeof t.options.enableSubRowSelection=="function"?t.options.enableSubRowSelection(e):(n=t.options.enableSubRowSelection)!=null?n:!0},e.getCanMultiSelect=()=>{var n;return typeof t.options.enableMultiRowSelection=="function"?t.options.enableMultiRowSelection(e):(n=t.options.enableMultiRowSelection)!=null?n:!0},e.getToggleSelectedHandler=()=>{const n=e.getCanSelect();return r=>{var i;n&&e.toggleSelected((i=r.target)==null?void 0:i.checked)}}}},$g=(e,t,n,r,i)=>{var o;const s=i.getRow(t,!0);n?(s.getCanMultiSelect()||Object.keys(e).forEach(a=>delete e[a]),s.getCanSelect()&&(e[t]=!0)):delete e[t],r&&(o=s.subRows)!=null&&o.length&&s.getCanSelectSubRows()&&s.subRows.forEach(a=>$g(e,a.id,n,r,i))};function Qh(e,t){const n=e.getState().rowSelection,r=[],i={},o=function(s,a){return s.map(l=>{var u;const c=oy(l,n);if(c&&(r.push(l),i[l.id]=l),(u=l.subRows)!=null&&u.length&&(l={...l,subRows:o(l.subRows)}),c)return l}).filter(Boolean)};return{rows:o(t.rows),flatRows:r,rowsById:i}}function oy(e,t){var n;return(n=t[e.id])!=null?n:!1}function Lg(e,t,n){var r;if(!((r=e.subRows)!=null&&r.length))return!1;let i=!0,o=!1;return e.subRows.forEach(s=>{if(!(o&&!i)&&(s.getCanSelect()&&(oy(s,t)?o=!0:i=!1),s.subRows&&s.subRows.length)){const a=Lg(s,t);a==="all"?o=!0:(a==="some"&&(o=!0),i=!1)}}),i?"all":o?"some":!1}const Vg=/([0-9]+)/gm,MU=(e,t,n)=>EP(Ti(e.getValue(n)).toLowerCase(),Ti(t.getValue(n)).toLowerCase()),$U=(e,t,n)=>EP(Ti(e.getValue(n)),Ti(t.getValue(n))),LU=(e,t,n)=>sy(Ti(e.getValue(n)).toLowerCase(),Ti(t.getValue(n)).toLowerCase()),VU=(e,t,n)=>sy(Ti(e.getValue(n)),Ti(t.getValue(n))),FU=(e,t,n)=>{const r=e.getValue(n),i=t.getValue(n);return r>i?1:r<i?-1:0},UU=(e,t,n)=>sy(e.getValue(n),t.getValue(n));function sy(e,t){return e===t?0:e>t?1:-1}function Ti(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function EP(e,t){const n=e.split(Vg).filter(Boolean),r=t.split(Vg).filter(Boolean);for(;n.length&&r.length;){const i=n.shift(),o=r.shift(),s=parseInt(i,10),a=parseInt(o,10),l=[s,a].sort();if(isNaN(l[0])){if(i>o)return 1;if(o>i)return-1;continue}if(isNaN(l[1]))return isNaN(s)?-1:1;if(s>a)return 1;if(a>s)return-1}return n.length-r.length}const ya={alphanumeric:MU,alphanumericCaseSensitive:$U,text:LU,textCaseSensitive:VU,datetime:FU,basic:UU},jU={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:pn("sorting",e),isMultiSortEvent:t=>t.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const i of n){const o=i==null?void 0:i.getValue(e.id);if(Object.prototype.toString.call(o)==="[object Date]")return ya.datetime;if(typeof o=="string"&&(r=!0,o.split(Vg).length>1))return ya.alphanumeric}return r?ya.text:ya.basic},e.getAutoSortDir=()=>{const n=t.getFilteredRowModel().flatRows[0];return typeof(n==null?void 0:n.getValue(e.id))=="string"?"asc":"desc"},e.getSortingFn=()=>{var n,r;if(!e)throw new Error;return bf(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(n=(r=t.options.sortingFns)==null?void 0:r[e.columnDef.sortingFn])!=null?n:ya[e.columnDef.sortingFn]},e.toggleSorting=(n,r)=>{const i=e.getNextSortingOrder(),o=typeof n<"u"&&n!==null;t.setSorting(s=>{const a=s==null?void 0:s.find(h=>h.id===e.id),l=s==null?void 0:s.findIndex(h=>h.id===e.id);let u=[],c,d=o?n:i==="desc";if(s!=null&&s.length&&e.getCanMultiSort()&&r?a?c="toggle":c="add":s!=null&&s.length&&l!==s.length-1?c="replace":a?c="toggle":c="replace",c==="toggle"&&(o||i||(c="remove")),c==="add"){var f;u=[...s,{id:e.id,desc:d}],u.splice(0,u.length-((f=t.options.maxMultiSortColCount)!=null?f:Number.MAX_SAFE_INTEGER))}else c==="toggle"?u=s.map(h=>h.id===e.id?{...h,desc:d}:h):c==="remove"?u=s.filter(h=>h.id!==e.id):u=[{id:e.id,desc:d}];return u})},e.getFirstSortDir=()=>{var n,r;return((n=(r=e.columnDef.sortDescFirst)!=null?r:t.options.sortDescFirst)!=null?n:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=n=>{var r,i;const o=e.getFirstSortDir(),s=e.getIsSorted();return s?s!==o&&((r=t.options.enableSortingRemoval)==null||r)&&(!(n&&(i=t.options.enableMultiRemove)!=null)||i)?!1:s==="desc"?"asc":"desc":o},e.getCanSort=()=>{var n,r;return((n=e.columnDef.enableSorting)!=null?n:!0)&&((r=t.options.enableSorting)!=null?r:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var n,r;return(n=(r=e.columnDef.enableMultiSort)!=null?r:t.options.enableMultiSort)!=null?n:!!e.accessorFn},e.getIsSorted=()=>{var n;const r=(n=t.getState().sorting)==null?void 0:n.find(i=>i.id===e.id);return r?r.desc?"desc":"asc":!1},e.getSortIndex=()=>{var n,r;return(n=(r=t.getState().sorting)==null?void 0:r.findIndex(i=>i.id===e.id))!=null?n:-1},e.clearSorting=()=>{t.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==e.id):[])},e.getToggleSortingHandler=()=>{const n=e.getCanSort();return r=>{n&&(r.persist==null||r.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?t.options.isMultiSortEvent==null?void 0:t.options.isMultiSortEvent(r):!1))}}},createTable:e=>{e.setSorting=t=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var n,r;e.setSorting(t?[]:(n=(r=e.initialState)==null?void 0:r.sorting)!=null?n:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},zU=[cU,xU,TU,RU,dU,fU,AU,kU,jU,SU,bU,DU,NU,OU,IU];function BU(e){var t,n;const r=[...zU,...(t=e._features)!=null?t:[]];let i={_features:r};const o=i._features.reduce((f,h)=>Object.assign(f,h.getDefaultOptions==null?void 0:h.getDefaultOptions(i)),{}),s=f=>i.options.mergeOptions?i.options.mergeOptions(o,f):{...o,...f};let l={...{},...(n=e.initialState)!=null?n:{}};i._features.forEach(f=>{var h;l=(h=f.getInitialState==null?void 0:f.getInitialState(l))!=null?h:l});const u=[];let c=!1;const d={_features:r,options:{...o,...e},initialState:l,_queue:f=>{u.push(f),c||(c=!0,Promise.resolve().then(()=>{for(;u.length;)u.shift()();c=!1}).catch(h=>setTimeout(()=>{throw h})))},reset:()=>{i.setState(i.initialState)},setOptions:f=>{const h=ii(f,i.options);i.options=s(h)},getState:()=>i.options.state,setState:f=>{i.options.onStateChange==null||i.options.onStateChange(f)},_getRowId:(f,h,y)=>{var v;return(v=i.options.getRowId==null?void 0:i.options.getRowId(f,h,y))!=null?v:`${y?[y.id,h].join("."):h}`},getCoreRowModel:()=>(i._getCoreRowModel||(i._getCoreRowModel=i.options.getCoreRowModel(i)),i._getCoreRowModel()),getRowModel:()=>i.getPaginationRowModel(),getRow:(f,h)=>{let y=(h?i.getPrePaginationRowModel():i.getRowModel()).rowsById[f];if(!y&&(y=i.getCoreRowModel().rowsById[f],!y))throw new Error;return y},_getDefaultColumnDef:te(()=>[i.options.defaultColumn],f=>{var h;return f=(h=f)!=null?h:{},{header:y=>{const v=y.header.column.columnDef;return v.accessorKey?v.accessorKey:v.accessorFn?v.id:null},cell:y=>{var v,_;return(v=(_=y.renderValue())==null||_.toString==null?void 0:_.toString())!=null?v:null},...i._features.reduce((y,v)=>Object.assign(y,v.getDefaultColumnDef==null?void 0:v.getDefaultColumnDef()),{}),...f}},ne(e,"debugColumns")),_getColumnDefs:()=>i.options.columns,getAllColumns:te(()=>[i._getColumnDefs()],f=>{const h=function(y,v,_){return _===void 0&&(_=0),y.map(p=>{const g=uU(i,p,_,v),w=p;return g.columns=w.columns?h(w.columns,g,_+1):[],g})};return h(f)},ne(e,"debugColumns")),getAllFlatColumns:te(()=>[i.getAllColumns()],f=>f.flatMap(h=>h.getFlatColumns()),ne(e,"debugColumns")),_getAllFlatColumnsById:te(()=>[i.getAllFlatColumns()],f=>f.reduce((h,y)=>(h[y.id]=y,h),{}),ne(e,"debugColumns")),getAllLeafColumns:te(()=>[i.getAllColumns(),i._getOrderColumnsFn()],(f,h)=>{let y=f.flatMap(v=>v.getLeafColumns());return h(y)},ne(e,"debugColumns")),getColumn:f=>i._getAllFlatColumnsById()[f]};Object.assign(i,d);for(let f=0;f<i._features.length;f++){const h=i._features[f];h==null||h.createTable==null||h.createTable(i)}return i}function HU(){return e=>te(()=>[e.options.data],t=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(i,o,s){o===void 0&&(o=0);const a=[];for(let u=0;u<i.length;u++){const c=ry(e,e._getRowId(i[u],u,s),i[u],u,o,void 0,s==null?void 0:s.id);if(n.flatRows.push(c),n.rowsById[c.id]=c,a.push(c),e.options.getSubRows){var l;c.originalSubRows=e.options.getSubRows(i[u],u),(l=c.originalSubRows)!=null&&l.length&&(c.subRows=r(c.originalSubRows,o+1,c))}}return a};return n.rows=r(t),n},ne(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function WU(e,t,n){return n.options.filterFromLeafRows?GU(e,t,n):qU(e,t,n)}function GU(e,t,n){var r;const i=[],o={},s=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,a=function(l,u){u===void 0&&(u=0);const c=[];for(let f=0;f<l.length;f++){var d;let h=l[f];const y=ry(n,h.id,h.original,h.index,h.depth,void 0,h.parentId);if(y.columnFilters=h.columnFilters,(d=h.subRows)!=null&&d.length&&u<s){if(y.subRows=a(h.subRows,u+1),h=y,t(h)&&!y.subRows.length){c.push(h),o[h.id]=h,i.push(h);continue}if(t(h)||y.subRows.length){c.push(h),o[h.id]=h,i.push(h);continue}}else h=y,t(h)&&(c.push(h),o[h.id]=h,i.push(h))}return c};return{rows:a(e),flatRows:i,rowsById:o}}function qU(e,t,n){var r;const i=[],o={},s=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,a=function(l,u){u===void 0&&(u=0);const c=[];for(let f=0;f<l.length;f++){let h=l[f];if(t(h)){var d;if((d=h.subRows)!=null&&d.length&&u<s){const v=ry(n,h.id,h.original,h.index,h.depth,void 0,h.parentId);v.subRows=a(h.subRows,u+1),h=v}c.push(h),i.push(h),o[h.id]=h}}return c};return{rows:a(e),flatRows:i,rowsById:o}}function KU(){return e=>te(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter],(t,n,r)=>{if(!t.rows.length||!(n!=null&&n.length)&&!r){for(let f=0;f<t.flatRows.length;f++)t.flatRows[f].columnFilters={},t.flatRows[f].columnFiltersMeta={};return t}const i=[],o=[];(n??[]).forEach(f=>{var h;const y=e.getColumn(f.id);if(!y)return;const v=y.getFilterFn();v&&i.push({id:f.id,filterFn:v,resolvedValue:(h=v.resolveFilterValue==null?void 0:v.resolveFilterValue(f.value))!=null?h:f.value})});const s=n.map(f=>f.id),a=e.getGlobalFilterFn(),l=e.getAllLeafColumns().filter(f=>f.getCanGlobalFilter());r&&a&&l.length&&(s.push("__global__"),l.forEach(f=>{var h;o.push({id:f.id,filterFn:a,resolvedValue:(h=a.resolveFilterValue==null?void 0:a.resolveFilterValue(r))!=null?h:r})}));let u,c;for(let f=0;f<t.flatRows.length;f++){const h=t.flatRows[f];if(h.columnFilters={},i.length)for(let y=0;y<i.length;y++){u=i[y];const v=u.id;h.columnFilters[v]=u.filterFn(h,v,u.resolvedValue,_=>{h.columnFiltersMeta[v]=_})}if(o.length){for(let y=0;y<o.length;y++){c=o[y];const v=c.id;if(c.filterFn(h,v,c.resolvedValue,_=>{h.columnFiltersMeta[v]=_})){h.columnFilters.__global__=!0;break}}h.columnFilters.__global__!==!0&&(h.columnFilters.__global__=!1)}}const d=f=>{for(let h=0;h<s.length;h++)if(f.columnFilters[s[h]]===!1)return!1;return!0};return WU(t.rows,d,e)},ne(e.options,"debugTable","getFilteredRowModel",()=>e._autoResetPageIndex()))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function Yh(e,t){return e?QU(e)?m.createElement(e,t):e:null}function QU(e){return YU(e)||typeof e=="function"||XU(e)}function YU(e){return typeof e=="function"&&(()=>{const t=Object.getPrototypeOf(e);return t.prototype&&t.prototype.isReactComponent})()}function XU(e){return typeof e=="object"&&typeof e.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}function JU(e){const t={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[n]=m.useState(()=>({current:BU(t)})),[r,i]=m.useState(()=>n.current.initialState);return n.current.setOptions(o=>({...o,...e,state:{...r,...e.state},onStateChange:s=>{i(s),e.onStateChange==null||e.onStateChange(s)}})),n.current}function ZU({data:e,columns:t,stockColumnsData:n,handleDeleteColumn:r,handleEditColumn:i,handlePagination:o}){var u;const[s,a]=m.useState([]),l=JU({data:e,columns:t,getCoreRowModel:HU(),onColumnFiltersChange:a,getFilteredRowModel:KU(),state:{columnFilters:s},meta:{updateData:(c,d,f)=>{i(c,d,f)}}});return x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"mt-8 flex flex-col gap-2 sm:flex-row sm:gap-6 lg:gap-8",children:[x.jsx(go,{placeholder:"Filter stocks...",value:((u=l.getColumn("stockName"))==null?void 0:u.getFilterValue())??"",onChange:c=>{var d;return(d=l.getColumn("stockName"))==null?void 0:d.setFilterValue(c.target.value)},className:"max-w-sm sm:h-10 lg:text-lg"}),x.jsx(ln,{type:"secondary",onClick:()=>o(-1),className:"lg:text-lg",children:"Previous Page"}),x.jsx(ln,{type:"secondary",onClick:()=>o(1),className:"lg:text-lg",children:"Next Page"})]}),x.jsxs(lP,{className:"my-8 lg:text-lg",children:[x.jsx(uP,{children:l.getHeaderGroups().map(c=>x.jsx(Ec,{children:c.headers.map((d,f)=>{var y,v,_;let h="text-red-600";return f===0||((y=n[f-1])==null?void 0:y.columnPurpose)===4||((v=n[f-1])==null?void 0:v.columnPurpose)===5?h="text-slate-950":((_=n[f-1])==null?void 0:_.columnPurpose)===2&&(h="text-blue-600"),x.jsx(fP,{className:`text-center ${h}`,onClick:()=>r(f),children:Yh(d.column.columnDef.header,d.getContext())},d.id)})},c.id))}),x.jsx(cP,{children:l.getRowModel().rows.map(c=>x.jsx(Ec,{children:c.getVisibleCells().map((d,f)=>{var v,_,p,g,w,S;let h="text-red-600",y="text-left";return f===0||((v=n[f-1])==null?void 0:v.columnPurpose)===4||((_=n[f-1])==null?void 0:_.columnPurpose)===5?h="text-slate-950":((p=n[f-1])==null?void 0:p.columnPurpose)===2&&(h="text-blue-600"),(((g=n[f-1])==null?void 0:g.columnPurpose)===0||((w=n[f-1])==null?void 0:w.columnPurpose)===3||((S=n[f-1])==null?void 0:S.columnPurpose)===5)&&(y="text-center"),x.jsx(Ng,{className:h+" "+y+" capitalize",children:Yh(d.column.columnDef.cell,d.getContext())},d.id)})},c.id))}),x.jsx(dP,{children:l.getFooterGroups().map(c=>x.jsx(Ec,{children:c.headers.map((d,f)=>{var y,v,_,p;let h="text-red-600";return f===0||((y=n[f-1])==null?void 0:y.columnPurpose)===4||((v=n[f-1])==null?void 0:v.columnPurpose)===5?h="text-slate-950":((_=n[f-1])==null?void 0:_.columnPurpose)===2&&(h="text-blue-600"),x.jsx(Ng,{className:`text-center capitalize ${h}`,children:Yh((p=d.column.columnDef)==null?void 0:p.footer,d.getContext())},d.id)})},c.id))})]})]})}function e6({getValue:e,row:t,column:n,table:r}){const[i,o]=m.useState(e());function s(){var a;(a=r.options.meta)==null||a.updateData(t.index,n.id,i)}return x.jsx(go,{type:"number",value:i,className:"w-9 lg:w-14 lg:text-lg",onChange:a=>o(a.target.value),onBlur:s})}const _a=5;function t6({stocksMode:e,handleSaveData:t,stockColumnsData:n,setStockColumnsData:r}){const[i,o]=m.useState(1),s=n.length%_a===0?n.length/_a:Math.floor(n.length/_a)+1,a=n.slice(_a*(i-1),_a*i);function l(_){o(p=>{let g=p+_;return g>s&&(g=p),g<1&&(g=1),g})}const u=e==="retail"?nU:rU,c=u.map((_,p)=>{if(a.length===0)return{stockName:_};const g=Object.fromEntries(a.map(w=>[w.date.split(" ").join("-"),w.stockCount[p]]));return{stockName:_,...g}});let d=[{header:"Stocks",accessorKey:"stockName"}];if(a.length!==0){const _=a.map((p,g)=>{const w={header:p.date,accessorKey:p.date.split(" ").join("-"),footer:p.columnDetail};return p.columnPurpose===0&&g===0||p.columnPurpose===1||p.columnPurpose===2||p.columnPurpose===4?{...w,cell:e6}:w});d=d.concat(_)}function f(_){if(n.length===0&&_.columnPurpose!==0)return;const p=n.reduce((S,C,E)=>C.columnPurpose===3?[...S,E]:S,[]),g=n.reduce((S,C,E)=>C.columnPurpose===0?[...S,E]:S,[]),w=p.concat(g).sort();if(n.length===0&&_.columnPurpose===0||_.columnPurpose===1||_.columnPurpose===2||_.columnPurpose===4)_.stockCount=Array.from({length:u.length},()=>0);else if(_.columnPurpose===0){if(p.length===0)return;const S=p.at(-1);_.stockCount=[...n[S].stockCount]}else if(_.columnPurpose===3)_.stockCount=n.slice(w.at(-1),n.length).reduce((S,C)=>S.length===0?[...C.stockCount]:S.map((E,T)=>C.columnPurpose===2?E-C.stockCount[T]:E+C.stockCount[T]),[]);else if(_.columnPurpose===5){if(n.findIndex(C=>C.columnPurpose===4)===-1||p.length===0)return;_.stockCount=n.slice(p.at(-1)).reduce((C,E)=>C.length===0?[...E.stockCount]:C.map((T,I)=>E.stockCount[I]-T),[])}r(S=>[...S,_])}function h(_){if(_===0)return;const p=_-1;r(g=>g.slice(0,p))}function y(_,p,g){r(w=>{const S=w.findIndex(k=>k.date.split(" ").join("-")===p),C=w.map((k,G)=>(G===S&&(k.stockCount[_]=Number.parseInt(g)),k)),E=C.reduce((k,G,W)=>G.columnPurpose===3?[...k,W]:k,[]).map(k=>({index:k,columnPurpose:n[k].columnPurpose})),T=C.reduce((k,G,W)=>G.columnPurpose===0?[...k,W]:k,[]).map(k=>({index:k,columnPurpose:n[k].columnPurpose})),I=E.concat(T).sort((k,G)=>k.index-G.index),D=[I.filter(k=>k.index<=S).at(-1),...I.filter(k=>k.index>S)];D.forEach((k,G)=>{G!==0&&(k.columnPurpose===0&&(C[k.index].stockCount[_]=C[D[G-1].index].stockCount[_]),k.columnPurpose===3&&(C[k.index].stockCount[_]=C.slice(D[G-1].index,k.index).reduce((W,J)=>J.columnPurpose===2?W-J.stockCount[_]:W+J.stockCount[_],0)))});const $=n.findIndex(k=>k.columnPurpose===4),j=n.findIndex(k=>k.columnPurpose===5);if($!==-1&&j!==-1&&E.length!==0){let k=0;k=E[E.length-1],C[j].stockCount[_]=C[$].stockCount[_]-C[k.index].stockCount[_]}return C})}function v(){const _=n.filter(p=>p.columnPurpose!==4&&p.columnPurpose!==5);t(_)}return x.jsxs("div",{className:"mt-8",children:[x.jsxs("div",{className:"flex flex-col gap-3 text-center sm:flex-row sm:items-center sm:gap-6 lg:gap-8 lg:text-lg",children:[x.jsx("h3",{className:"font-semibold uppercase",children:e}),x.jsx(iU,{handleAddColumn:f}),x.jsx(ln,{onClick:v,className:"lg:text-lg",children:"Save Data"})]}),x.jsx(ZU,{data:c,columns:d,stockColumnsData:a,handleDeleteColumn:h,handleEditColumn:y,handlePagination:l})]})}function n6({mutationFn:e,onSuccess:t}){const[n,r]=m.useState(!1),[i,o]=m.useState(!1);async function s({stocksMode:a,formattedDateForDatabase:l,data:u}){try{r(!0),o(!1),await e({collection:a,id:l,data:u}),o(!1),t()}catch(c){console.log(c),o(!0)}finally{r(!1)}}return{isLoading:n,error:i,mutate:s}}function r6({getProducts:e,stocksMode:t,formattedDateForDatabase:n}){const[r,i]=m.useState(!1),[o,s]=m.useState(!1),[a,l]=m.useState([]),[u,c]=m.useState(!0);return m.useEffect(()=>{async function d(){try{i(!0),s(!1);const f=await e(t,n);l(f),s(!1)}catch(f){console.log(f),s(!0)}finally{i(!1)}}d()},[e,t,n,u]),{isLoading:r,error:o,data:a,setData:l,setRefetch:c}}async function i6(e,t){const n=await OV(RR(VR,e,t));return n.exists()?n.data().data:[]}async function o6({collection:e,id:t,data:n}){return await $V(RR(VR,e,t),{data:n})}function s6(){const[e,t]=m.useState(new Date),n=Mh(e,"MMMM yyyy"),r=n.toLowerCase().split(" ").join("-"),[i,o]=m.useState("retail"),{data:s,isLoading:a,error:l,setData:u,setRefetch:c}=r6({getProducts:i6,stocksMode:i,formattedDateForDatabase:r}),{mutate:d,isLoading:f,error:h}=n6({mutationFn:o6,onSuccess:()=>c(C=>!C)});m.useEffect(()=>{function C(E){return E.preventDefault(),E&&(E.returnValue=""),""}return window.addEventListener("beforeunload",C),()=>{window.removeEventListener("beforeunload",C)}},[]);function y(C,E){return HV(C,{months:E})}function v(C){window.confirm("Have you saved the data before changing month?")&&t(E=>y(E,C))}function _(){window.confirm("Have you saved the data before changing stock mode?")&&o(C=>C==="retail"?"saloon":"retail")}async function p(C){d({stocksMode:i,formattedDateForDatabase:r,data:C})}const g=Ud();function w(){aO(Wv),g("/login")}let S;return a&&(S=x.jsx("p",{children:"Loading..."})),l&&(S=x.jsx("p",{className:"text-red-600",children:"Error fetching data"})),(s.length===0||s.length>0)&&(S=x.jsx(t6,{stocksMode:i,handleSaveData:p,stockColumnsData:s,setStockColumnsData:u},`${i}-${r}`)),x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"mt-3 flex flex-col gap-y-3 sm:mt-5 sm:flex-row sm:items-center sm:gap-x-8 sm:gap-y-0 lg:gap-x-12 lg:text-lg xl:mt-8",children:[x.jsxs("h2",{children:["LIST OF CLOSING STOCK FOR THE MONTH ENDED -"," ",x.jsx("span",{className:"uppercase underline",children:n})]}),x.jsx(ln,{variant:"destructive",onClick:w,className:"px-6 py-4 lg:text-lg",children:"Logout"})]}),x.jsxs("div",{className:"mt-8 flex flex-col items-center gap-2 sm:flex-row sm:gap-8",children:[x.jsxs("div",{className:"flex gap-4 lg:gap-8",children:[x.jsx(ln,{onClick:_,className:"uppercase lg:text-lg",children:i==="retail"?"saloon":"retail"}),x.jsx(ln,{variant:"secondary",onClick:()=>v(-1),className:"uppercase lg:text-lg",children:Mh(y(e,-1),"MMMM")}),x.jsx(ln,{variant:"secondary",onClick:()=>v(1),className:"uppercase lg:text-lg",children:Mh(y(e,1),"MMMM")})]}),f&&x.jsx("p",{className:" lg:text-lg",children:"Updating the data to database..."}),h&&x.jsx("p",{className:"text-red-600 lg:text-lg",children:"Fail to save data to database"})]}),x.jsx("button",{className:"fixed bottom-4 right-4 z-10 border-2 border-slate-800 p-1 md:bottom-6 md:right-6 md:p-2",onClick:()=>window.scrollTo({top:0,left:0,behavior:"smooth"}),children:x.jsx(K3,{})}),S]})}function a6(){const[e,t]=m.useState(!1),n=Ud(),{userState:r}=UR();if(r)return x.jsx(b1,{to:"/"});async function i(o){o.preventDefault();const s=new FormData(o.target),a=s.get("email"),l=s.get("password");try{await rO(Wv,a,l),t(!1),n("/")}catch{t(!0)}}return x.jsx("main",{className:"flex min-h-screen items-center justify-center",children:x.jsxs("form",{onSubmit:i,className:"grid w-5/6 max-w-xs gap-y-5 rounded-2xl px-4 py-6 text-center shadow-xl sm:max-w-sm sm:gap-y-7 sm:px-6 sm:py-8 sm:shadow-2xl lg:max-w-md lg:px-8 lg:py-10",children:[x.jsx("h2",{className:"text-xl font-semibold sm:text-2xl lg:text-3xl",children:"Login Form"}),x.jsx(go,{name:"email",type:"email",placeholder:"Email",className:"h-9 text-sm sm:py-5 sm:text-base lg:h-12 lg:text-lg"}),x.jsx(go,{name:"password",type:"password",placeholder:"Password",className:"h-9 text-sm sm:py-5 sm:text-base lg:h-12 lg:text-lg"}),x.jsx(ln,{type:"submit",className:"capitalize sm:py-5 sm:text-base lg:py-6 lg:text-lg",children:"Login"}),e&&x.jsx("span",{className:"text-sm text-red-600 lg:text-lg",children:"Wrong email or password!"})]})})}function l6({children:e}){const{userState:t}=UR();return t?e:x.jsx(b1,{to:"/login"})}function u6(){return x.jsxs("div",{className:"container px-3",children:[x.jsxs("h1",{className:"flex max-w-lg justify-between text-lg sm:text-2xl lg:max-w-2xl lg:text-3xl xl:max-w-3xl xl:text-4xl",children:[x.jsx("span",{className:"font-semibold underline",children:"NS RADIANCE SDN BHD"}),x.jsx("span",{children:"[RAMPAI]"})]}),x.jsx(ib,{})]})}function c6(){const e=k1();console.log(e);let t="An error occurred!",n="Something went wrong!";return e.status===500&&(n=JSON.parse(e.data).message),e.status===404&&(t="Not found",n="Could not find resource or page"),x.jsxs(x.Fragment,{children:[x.jsx("h1",{children:t}),x.jsx("p",{children:n}),x.jsx(ln,{asChild:!0,children:x.jsx(Rb,{to:"/",children:"Go Back Home"})})]})}const d6=fb([{path:"/",element:x.jsx(l6,{children:x.jsx(u6,{})}),errorElement:x.jsx(c6,{}),children:[{index:!0,element:x.jsx(s6,{})}]},{path:"/login",element:x.jsx(a6,{})}]);function f6(){return x.jsx(jV,{children:x.jsx(Eb,{router:d6})})}Xh.createRoot(document.getElementById("root")).render(x.jsx(vn.StrictMode,{children:x.jsx(f6,{})}));
